import{LastPage as B1,FirstPage as j1,KeyboardArrowRight as z1,KeyboardArrowLeft as W1,Speed as MO,Logout as DO,Equalizer as LO,Numbers as $O,GppBad as FO,Bolt as VO,ReplayOutlined as UO,Poll as BO,Timer as jO,NetworkCheck as zO}from"@mui/icons-material";function WO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gI={exports:{}},vf={},yI={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),HO=Symbol.for("react.portal"),qO=Symbol.for("react.fragment"),KO=Symbol.for("react.strict_mode"),GO=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),YO=Symbol.for("react.context"),XO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),ZO=Symbol.for("react.memo"),eN=Symbol.for("react.lazy"),H1=Symbol.iterator;function tN(t){return t===null||typeof t!="object"?null:(t=H1&&t[H1]||t["@@iterator"],typeof t=="function"?t:null)}var vI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,wI={};function $a(t,e,n){this.props=t,this.context=e,this.refs=wI,this.updater=n||vI}$a.prototype.isReactComponent={};$a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EI(){}EI.prototype=$a.prototype;function Rv(t,e,n){this.props=t,this.context=e,this.refs=wI,this.updater=n||vI}var xv=Rv.prototype=new EI;xv.constructor=Rv;_I(xv,$a.prototype);xv.isPureReactComponent=!0;var q1=Array.isArray,TI=Object.prototype.hasOwnProperty,Pv={current:null},CI={key:!0,ref:!0,__self:!0,__source:!0};function II(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)TI.call(e,r)&&!CI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fc,type:t,key:o,ref:s,props:i,_owner:Pv.current}}function nN(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function rN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K1=/\/+/g;function pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rN(""+t.key):e.toString(36)}function Od(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fc:case HO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pm(s,0):r,q1(i)?(n="",t!=null&&(n=t.replace(K1,"$&/")+"/"),Od(i,e,n,"",function(u){return u})):i!=null&&(kv(i)&&(i=nN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(K1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",q1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+pm(o,a);s+=Od(o,e,n,l,i)}else if(l=tN(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+pm(o,a++),s+=Od(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qc(t,e,n){if(t==null)return t;var r=[],i=0;return Od(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Nd={transition:null},oN={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:Pv};Ce.Children={map:Qc,forEach:function(t,e,n){Qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qc(t,function(){e++}),e},toArray:function(t){return Qc(t,function(e){return e})||[]},only:function(t){if(!kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=$a;Ce.Fragment=qO;Ce.Profiler=GO;Ce.PureComponent=Rv;Ce.StrictMode=KO;Ce.Suspense=JO;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_I({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Pv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TI.call(e,l)&&!CI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fc,type:t.type,key:i,ref:o,props:r,_owner:s}};Ce.createContext=function(t){return t={$$typeof:YO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QO,_context:t},t.Consumer=t};Ce.createElement=II;Ce.createFactory=function(t){var e=II.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:XO,render:t}};Ce.isValidElement=kv;Ce.lazy=function(t){return{$$typeof:eN,_payload:{_status:-1,_result:t},_init:iN}};Ce.memo=function(t,e){return{$$typeof:ZO,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Nd.transition;Nd.transition={};try{t()}finally{Nd.transition=e}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(t,e){return In.current.useCallback(t,e)};Ce.useContext=function(t){return In.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return In.current.useEffect(t,e)};Ce.useId=function(){return In.current.useId()};Ce.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return In.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Ce.useRef=function(t){return In.current.useRef(t)};Ce.useState=function(t){return In.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return In.current.useTransition()};Ce.version="18.2.0";yI.exports=Ce;var w=yI.exports;const Ir=yf(w),Cg=WO({__proto__:null,default:Ir},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=w,aN=Symbol.for("react.element"),lN=Symbol.for("react.fragment"),uN=Object.prototype.hasOwnProperty,cN=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dN={key:!0,ref:!0,__self:!0,__source:!0};function SI(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)uN.call(e,r)&&!dN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aN,type:t,key:o,ref:s,props:i,_owner:cN.current}}vf.Fragment=lN;vf.jsx=SI;vf.jsxs=SI;gI.exports=vf;var T=gI.exports,Ig={},bI={exports:{}},Gn={},RI={exports:{}},xI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var j=P.length;P.push(A);e:for(;0<j;){var ie=j-1>>>1,re=P[ie];if(0<i(re,A))P[ie]=A,P[j]=re,j=ie;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],j=P.pop();if(j!==A){P[0]=j;e:for(var ie=0,re=P.length,_e=re>>>1;ie<_e;){var J=2*(ie+1)-1,de=P[J],ae=J+1,Me=P[ae];if(0>i(de,j))ae<re&&0>i(Me,de)?(P[ie]=Me,P[ae]=j,ie=ae):(P[ie]=de,P[J]=j,ie=J);else if(ae<re&&0>i(Me,j))P[ie]=Me,P[ae]=j,ie=ae;else break e}}return A}function i(P,A){var j=P.sortIndex-A.sortIndex;return j!==0?j:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=P)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function _(P){if(v=!1,y(P),!m)if(n(l)!==null)m=!0,k(I);else{var A=n(u);A!==null&&M(_,A.startTime-P)}}function I(P,A){m=!1,v&&(v=!1,p(R),R=-1),f=!0;var j=h;try{for(y(A),d=n(l);d!==null&&(!(d.expirationTime>A)||P&&!L());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var re=ie(d.expirationTime<=A);A=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),y(A)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var J=n(u);J!==null&&M(_,J.startTime-A),_e=!1}return _e}finally{d=null,h=j,f=!1}}var S=!1,b=null,R=-1,O=5,x=-1;function L(){return!(t.unstable_now()-x<O)}function $(){if(b!==null){var P=t.unstable_now();x=P;var A=!0;try{A=b(!0,P)}finally{A?N():(S=!1,b=null)}}else S=!1}var N;if(typeof g=="function")N=function(){g($)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=$,N=function(){U.postMessage(null)}}else N=function(){C($,0)};function k(P){b=P,S||(S=!0,N())}function M(P,A){R=C(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,k(I))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var j=h;h=A;try{return P()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=h;h=P;try{return A()}finally{h=j}},t.unstable_scheduleCallback=function(P,A,j){var ie=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ie+j:ie):j=ie,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=j+re,P={id:c++,callback:A,priorityLevel:P,startTime:j,expirationTime:re,sortIndex:-1},j>ie?(P.sortIndex=j,e(u,P),n(l)===null&&P===n(u)&&(v?(p(R),R=-1):v=!0,M(_,j-ie))):(P.sortIndex=re,e(l,P),m||f||(m=!0,k(I))),P},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(P){var A=h;return function(){var j=h;h=A;try{return P.apply(this,arguments)}finally{h=j}}}})(xI);RI.exports=xI;var hN=RI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI=w,Hn=hN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kI=new Set,_u={};function ds(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(_u[t]=e,t=0;t<e.length;t++)kI.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sg=Object.prototype.hasOwnProperty,fN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G1={},Q1={};function pN(t){return Sg.call(Q1,t)?!0:Sg.call(G1,t)?!1:fN.test(t)?Q1[t]=!0:(G1[t]=!0,!1)}function mN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gN(t,e,n,r){if(e===null||typeof e>"u"||mN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Ov(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Av,Ov);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Av,Ov);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Av,Ov);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gN(e,n,i,r)&&(n=null),r||i===null?pN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=PI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),AI=Symbol.for("react.provider"),OI=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),xg=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),NI=Symbol.for("react.offscreen"),Y1=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=Y1&&t[Y1]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,mm;function Dl(t){if(mm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mm=e&&e[1]||""}return`
`+mm+t}var gm=!1;function ym(t,e){if(!t||gm)return"";gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function yN(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=ym(t.type,!1),t;case 11:return t=ym(t.type.render,!1),t;case 1:return t=ym(t.type,!0),t;default:return""}}function Pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case Ms:return"Portal";case bg:return"Profiler";case Mv:return"StrictMode";case Rg:return"Suspense";case xg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OI:return(t.displayName||"Context")+".Consumer";case AI:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:Pg(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return Pg(t(e))}catch{}}return null}function vN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(e);case 8:return e===Mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _N(t){var e=MI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xc(t){t._valueTracker||(t._valueTracker=_N(t))}function DI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kg(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LI(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Ag(t,e){LI(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Og(t,e.type,n):e.hasOwnProperty("defaultValue")&&Og(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Og(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function Qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ll(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function $I(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,VI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wN=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(t){wN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kl[e]=Kl[t]})});function UI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kl.hasOwnProperty(t)&&Kl[t]?(""+e).trim():e+"px"}function BI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EN=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dg(t,e){if(e){if(EN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function $v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fg=null,Ys=null,Xs=null;function tw(t){if(t=gc(t)){if(typeof Fg!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Cf(e),Fg(t.stateNode,t.type,e))}}function jI(t){Ys?Xs?Xs.push(t):Xs=[t]:Ys=t}function zI(){if(Ys){var t=Ys,e=Xs;if(Xs=Ys=null,tw(t),e)for(t=0;t<e.length;t++)tw(e[t])}}function WI(t,e){return t(e)}function HI(){}var vm=!1;function qI(t,e,n){if(vm)return t(e,n);vm=!0;try{return WI(t,e,n)}finally{vm=!1,(Ys!==null||Xs!==null)&&(HI(),zI())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=Cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Vg=!1;if(_i)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Vg=!1}function TN(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Gl=!1,oh=null,sh=!1,Ug=null,CN={onError:function(t){Gl=!0,oh=t}};function IN(t,e,n,r,i,o,s,a,l){Gl=!1,oh=null,TN.apply(CN,arguments)}function SN(t,e,n,r,i,o,s,a,l){if(IN.apply(this,arguments),Gl){if(Gl){var u=oh;Gl=!1,oh=null}else throw Error(B(198));sh||(sh=!0,Ug=u)}}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nw(t){if(hs(t)!==t)throw Error(B(188))}function bN(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nw(i),t;if(o===r)return nw(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function GI(t){return t=bN(t),t!==null?QI(t):null}function QI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QI(t);if(e!==null)return e;t=t.sibling}return null}var YI=Hn.unstable_scheduleCallback,rw=Hn.unstable_cancelCallback,RN=Hn.unstable_shouldYield,xN=Hn.unstable_requestPaint,vt=Hn.unstable_now,PN=Hn.unstable_getCurrentPriorityLevel,Fv=Hn.unstable_ImmediatePriority,XI=Hn.unstable_UserBlockingPriority,ah=Hn.unstable_NormalPriority,kN=Hn.unstable_LowPriority,JI=Hn.unstable_IdlePriority,_f=null,Hr=null;function AN(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(_f,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:MN,ON=Math.log,NN=Math.LN2;function MN(t){return t>>>=0,t===0?32:31-(ON(t)/NN|0)|0}var Zc=64,ed=4194304;function $l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=$l(a):(o&=s,o!==0&&(r=$l(o)))}else s=n&~i,s!==0?r=$l(s):o!==0&&(r=$l(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function DN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-xr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=DN(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZI(){var t=Zc;return Zc<<=1,!(Zc&4194240)&&(Zc=64),t}function _m(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function $N(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function eS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tS,Uv,nS,rS,iS,jg=!1,td=[],Qi=null,Yi=null,Xi=null,Tu=new Map,Cu=new Map,Vi=[],FN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iw(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&Uv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VN(t,e,n,r,i){switch(e){case"focusin":return Qi=ul(Qi,t,e,n,r,i),!0;case"dragenter":return Yi=ul(Yi,t,e,n,r,i),!0;case"mouseover":return Xi=ul(Xi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tu.set(o,ul(Tu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cu.set(o,ul(Cu.get(o)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=Po(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=KI(n),e!==null){t.blockedOn=e,iS(t.priority,function(){nS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return e=gc(n),e!==null&&Uv(e),t.blockedOn=n,!1;e.shift()}return!0}function ow(t,e,n){Md(t)&&n.delete(e)}function UN(){jg=!1,Qi!==null&&Md(Qi)&&(Qi=null),Yi!==null&&Md(Yi)&&(Yi=null),Xi!==null&&Md(Xi)&&(Xi=null),Tu.forEach(ow),Cu.forEach(ow)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,jg||(jg=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,UN)))}function Iu(t){function e(i){return cl(i,t)}if(0<td.length){cl(td[0],t);for(var n=1;n<td.length;n++){var r=td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qi!==null&&cl(Qi,t),Yi!==null&&cl(Yi,t),Xi!==null&&cl(Xi,t),Tu.forEach(e),Cu.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&Vi.shift()}var Js=ki.ReactCurrentBatchConfig,uh=!0;function BN(t,e,n,r){var i=Be,o=Js.transition;Js.transition=null;try{Be=1,Bv(t,e,n,r)}finally{Be=i,Js.transition=o}}function jN(t,e,n,r){var i=Be,o=Js.transition;Js.transition=null;try{Be=4,Bv(t,e,n,r)}finally{Be=i,Js.transition=o}}function Bv(t,e,n,r){if(uh){var i=zg(t,e,n,r);if(i===null)Pm(t,e,r,ch,n),iw(t,r);else if(VN(i,t,e,n,r))r.stopPropagation();else if(iw(t,r),e&4&&-1<FN.indexOf(t)){for(;i!==null;){var o=gc(i);if(o!==null&&tS(o),o=zg(t,e,n,r),o===null&&Pm(t,e,r,ch,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Pm(t,e,r,null,n)}}var ch=null;function zg(t,e,n,r){if(ch=null,t=$v(r),t=Po(t),t!==null)if(e=hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ch=t,null}function sS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PN()){case Fv:return 1;case XI:return 4;case ah:case kN:return 16;case JI:return 536870912;default:return 16}default:return 16}}var Hi=null,jv=null,Dd=null;function aS(){if(Dd)return Dd;var t,e=jv,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Dd=i.slice(t,1<r?1-r:void 0)}function Ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nd(){return!0}function sw(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nd:sw,this.isPropagationStopped=sw,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=Qn(Fa),mc=ut({},Fa,{view:0,detail:0}),zN=Qn(mc),wm,Em,dl,wf=ut({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(wm=t.screenX-dl.screenX,Em=t.screenY-dl.screenY):Em=wm=0,dl=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:Em}}),aw=Qn(wf),WN=ut({},wf,{dataTransfer:0}),HN=Qn(WN),qN=ut({},mc,{relatedTarget:0}),Tm=Qn(qN),KN=ut({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),GN=Qn(KN),QN=ut({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YN=Qn(QN),XN=ut({},Fa,{data:0}),lw=Qn(XN),JN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e2[t])?!!e[t]:!1}function Wv(){return t2}var n2=ut({},mc,{key:function(t){if(t.key){var e=JN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(t){return t.type==="keypress"?Ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r2=Qn(n2),i2=ut({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uw=Qn(i2),o2=ut({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),s2=Qn(o2),a2=ut({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),l2=Qn(a2),u2=ut({},wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=Qn(u2),d2=[9,13,27,32],Hv=_i&&"CompositionEvent"in window,Ql=null;_i&&"documentMode"in document&&(Ql=document.documentMode);var h2=_i&&"TextEvent"in window&&!Ql,lS=_i&&(!Hv||Ql&&8<Ql&&11>=Ql),cw=" ",dw=!1;function uS(t,e){switch(t){case"keyup":return d2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function f2(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(dw=!0,cw);case"textInput":return t=e.data,t===cw&&dw?null:t;default:return null}}function p2(t,e){if(Ls)return t==="compositionend"||!Hv&&uS(t,e)?(t=aS(),Dd=jv=Hi=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lS&&e.locale!=="ko"?null:e.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!m2[t.type]:e==="textarea"}function dS(t,e,n,r){jI(r),e=dh(e,"onChange"),0<e.length&&(n=new zv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,Su=null;function g2(t){TS(t,0)}function Ef(t){var e=Vs(t);if(DI(e))return t}function y2(t,e){if(t==="change")return e}var hS=!1;if(_i){var Cm;if(_i){var Im="oninput"in document;if(!Im){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),Im=typeof fw.oninput=="function"}Cm=Im}else Cm=!1;hS=Cm&&(!document.documentMode||9<document.documentMode)}function pw(){Yl&&(Yl.detachEvent("onpropertychange",fS),Su=Yl=null)}function fS(t){if(t.propertyName==="value"&&Ef(Su)){var e=[];dS(e,Su,t,$v(t)),qI(g2,e)}}function v2(t,e,n){t==="focusin"?(pw(),Yl=e,Su=n,Yl.attachEvent("onpropertychange",fS)):t==="focusout"&&pw()}function _2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ef(Su)}function w2(t,e){if(t==="click")return Ef(e)}function E2(t,e){if(t==="input"||t==="change")return Ef(e)}function T2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:T2;function bu(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sg.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gw(t,e){var n=mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mw(n)}}function pS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mS(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C2(t){var e=mS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pS(n.ownerDocument.documentElement,n)){if(r!==null&&qv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=gw(n,o);var s=gw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I2=_i&&"documentMode"in document&&11>=document.documentMode,$s=null,Wg=null,Xl=null,Hg=!1;function yw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hg||$s==null||$s!==ih(r)||(r=$s,"selectionStart"in r&&qv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&bu(Xl,r)||(Xl=r,r=dh(Wg,"onSelect"),0<r.length&&(e=new zv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fs={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Sm={},gS={};_i&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Tf(t){if(Sm[t])return Sm[t];if(!Fs[t])return t;var e=Fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gS)return Sm[t]=e[n];return t}var yS=Tf("animationend"),vS=Tf("animationiteration"),_S=Tf("animationstart"),wS=Tf("transitionend"),ES=new Map,vw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){ES.set(t,e),ds(e,[t])}for(var bm=0;bm<vw.length;bm++){var Rm=vw[bm],S2=Rm.toLowerCase(),b2=Rm[0].toUpperCase()+Rm.slice(1);go(S2,"on"+b2)}go(yS,"onAnimationEnd");go(vS,"onAnimationIteration");go(_S,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(wS,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function _w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SN(r,e,void 0,t),t.currentTarget=null}function TS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;_w(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;_w(i,a,u),o=l}}}if(sh)throw t=Ug,sh=!1,Ug=null,t}function Xe(t,e){var n=e[Yg];n===void 0&&(n=e[Yg]=new Set);var r=t+"__bubble";n.has(r)||(CS(e,t,2,!1),n.add(r))}function xm(t,e,n){var r=0;e&&(r|=4),CS(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[id]){t[id]=!0,kI.forEach(function(n){n!=="selectionchange"&&(R2.has(n)||xm(n,!1,t),xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,xm("selectionchange",!1,e))}}function CS(t,e,n,r){switch(sS(e)){case 1:var i=BN;break;case 4:i=jN;break;default:i=Bv}n=i.bind(null,e,n,t),i=void 0,!Vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Po(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qI(function(){var u=o,c=$v(n),d=[];e:{var h=ES.get(t);if(h!==void 0){var f=zv,m=t;switch(t){case"keypress":if(Ld(n)===0)break e;case"keydown":case"keyup":f=r2;break;case"focusin":m="focus",f=Tm;break;case"focusout":m="blur",f=Tm;break;case"beforeblur":case"afterblur":f=Tm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=s2;break;case yS:case vS:case _S:f=GN;break;case wS:f=l2;break;case"scroll":f=zN;break;case"wheel":f=c2;break;case"copy":case"cut":case"paste":f=YN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=uw}var v=(e&4)!==0,C=!v&&t==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,y;g!==null;){y=g;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,p!==null&&(_=Eu(g,p),_!=null&&v.push(xu(g,_,y)))),C)break;g=g.return}0<v.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==$g&&(m=n.relatedTarget||n.fromElement)&&(Po(m)||m[wi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Po(m):null,m!==null&&(C=hs(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=aw,_="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=uw,_="onPointerLeave",p="onPointerEnter",g="pointer"),C=f==null?h:Vs(f),y=m==null?h:Vs(m),h=new v(_,g+"leave",f,n,c),h.target=C,h.relatedTarget=y,_=null,Po(c)===u&&(v=new v(p,g+"enter",m,n,c),v.target=y,v.relatedTarget=C,_=v),C=_,f&&m)t:{for(v=f,p=m,g=0,y=v;y;y=_s(y))g++;for(y=0,_=p;_;_=_s(_))y++;for(;0<g-y;)v=_s(v),g--;for(;0<y-g;)p=_s(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=_s(v),p=_s(p)}v=null}else v=null;f!==null&&ww(d,h,f,v,!1),m!==null&&C!==null&&ww(d,C,m,v,!0)}}e:{if(h=u?Vs(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=y2;else if(hw(h))if(hS)I=E2;else{I=_2;var S=v2}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=w2);if(I&&(I=I(t,u))){dS(d,I,n,c);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Og(h,"number",h.value)}switch(S=u?Vs(u):window,t){case"focusin":(hw(S)||S.contentEditable==="true")&&($s=S,Wg=u,Xl=null);break;case"focusout":Xl=Wg=$s=null;break;case"mousedown":Hg=!0;break;case"contextmenu":case"mouseup":case"dragend":Hg=!1,yw(d,n,c);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":yw(d,n,c)}var b;if(Hv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ls?uS(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(lS&&n.locale!=="ko"&&(Ls||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ls&&(b=aS()):(Hi=c,jv="value"in Hi?Hi.value:Hi.textContent,Ls=!0)),S=dh(u,R),0<S.length&&(R=new lw(R,t,null,n,c),d.push({event:R,listeners:S}),b?R.data=b:(b=cS(n),b!==null&&(R.data=b)))),(b=h2?f2(t,n):p2(t,n))&&(u=dh(u,"onBeforeInput"),0<u.length&&(c=new lw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}TS(d,e)})}function xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Eu(t,n),o!=null&&r.unshift(xu(t,o,i)),o=Eu(t,e),o!=null&&r.push(xu(t,o,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ww(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Eu(n,o),l!=null&&s.unshift(xu(n,l,a))):i||(l=Eu(n,o),l!=null&&s.push(xu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var x2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function Ew(t){return(typeof t=="string"?t:""+t).replace(x2,`
`).replace(P2,"")}function od(t,e,n){if(e=Ew(e),Ew(t)!==e&&n)throw Error(B(425))}function hh(){}var qg=null,Kg=null;function Gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qg=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(t){return Tw.resolve(null).then(t).catch(O2)}:Qg;function O2(t){setTimeout(function(){throw t})}function km(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Va=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Va,Pu="__reactProps$"+Va,wi="__reactContainer$"+Va,Yg="__reactEvents$"+Va,N2="__reactListeners$"+Va,M2="__reactHandles$"+Va;function Po(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cw(t);t!==null;){if(n=t[Vr])return n;t=Cw(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[Vr]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Cf(t){return t[Pu]||null}var Xg=[],Us=-1;function yo(t){return{current:t}}function tt(t){0>Us||(t.current=Xg[Us],Xg[Us]=null,Us--)}function Qe(t,e){Us++,Xg[Us]=t.current,t.current=e}var lo={},mn=yo(lo),xn=yo(!1),Ho=lo;function fa(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function fh(){tt(xn),tt(mn)}function Iw(t,e,n){if(mn.current!==lo)throw Error(B(168));Qe(mn,e),Qe(xn,n)}function IS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,vN(t)||"Unknown",i));return ut({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,Ho=mn.current,Qe(mn,t),Qe(xn,xn.current),!0}function Sw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=IS(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,tt(xn),tt(mn),Qe(mn,t)):tt(xn),Qe(xn,n)}var si=null,If=!1,Am=!1;function SS(t){si===null?si=[t]:si.push(t)}function D2(t){If=!0,SS(t)}function vo(){if(!Am&&si!==null){Am=!0;var t=0,e=Be;try{var n=si;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,If=!1}catch(i){throw si!==null&&(si=si.slice(t+1)),YI(Fv,vo),i}finally{Be=e,Am=!1}}return null}var Bs=[],js=0,mh=null,gh=0,Jn=[],Zn=0,qo=null,ui=1,ci="";function Co(t,e){Bs[js++]=gh,Bs[js++]=mh,mh=t,gh=e}function bS(t,e,n){Jn[Zn++]=ui,Jn[Zn++]=ci,Jn[Zn++]=qo,qo=t;var r=ui;t=ci;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var o=32-xr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ui=1<<32-xr(e)+i|n<<i|r,ci=o+t}else ui=1<<o|n<<i|r,ci=t}function Kv(t){t.return!==null&&(Co(t,1),bS(t,1,0))}function Gv(t){for(;t===mh;)mh=Bs[--js],Bs[js]=null,gh=Bs[--js],Bs[js]=null;for(;t===qo;)qo=Jn[--Zn],Jn[Zn]=null,ci=Jn[--Zn],Jn[Zn]=null,ui=Jn[--Zn],Jn[Zn]=null}var Bn=null,Un=null,ot=!1,Tr=null;function RS(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Un=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qo!==null?{id:ui,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Un=null,!0):!1;default:return!1}}function Jg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zg(t){if(ot){var e=Un;if(e){var n=e;if(!bw(t,e)){if(Jg(t))throw Error(B(418));e=Ji(n.nextSibling);var r=Bn;e&&bw(t,e)?RS(r,n):(t.flags=t.flags&-4097|2,ot=!1,Bn=t)}}else{if(Jg(t))throw Error(B(418));t.flags=t.flags&-4097|2,ot=!1,Bn=t}}}function Rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function sd(t){if(t!==Bn)return!1;if(!ot)return Rw(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gg(t.type,t.memoizedProps)),e&&(e=Un)){if(Jg(t))throw xS(),Error(B(418));for(;e;)RS(t,e),e=Ji(e.nextSibling)}if(Rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=Bn?Ji(t.stateNode.nextSibling):null;return!0}function xS(){for(var t=Un;t;)t=Ji(t.nextSibling)}function pa(){Un=Bn=null,ot=!1}function Qv(t){Tr===null?Tr=[t]:Tr.push(t)}var L2=ki.ReactCurrentBatchConfig;function _r(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yh=yo(null),vh=null,zs=null,Yv=null;function Xv(){Yv=zs=vh=null}function Jv(t){var e=yh.current;tt(yh),t._currentValue=e}function ey(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zs(t,e){vh=t,Yv=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if(Yv!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(vh===null)throw Error(B(308));zs=t,vh.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var ko=null;function Zv(t){ko===null?ko=[t]:ko.push(t)}function PS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function e_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Zv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function $d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}function xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var i=t.updateQueue;Fi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=ut({},d,h);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Go|=s,t.lanes=s,t.memoizedState=d}}function Pw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var AS=new PI.Component().refs;function ty(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=to(t),o=mi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zi(t,o,i),e!==null&&(Pr(e,t,i,r),$d(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=to(t),o=mi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zi(t,o,i),e!==null&&(Pr(e,t,i,r),$d(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=to(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zi(t,i,r),e!==null&&(Pr(e,t,r,n),$d(e,t,r))}};function kw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,o):!0}function OS(t,e,n){var r=!1,i=lo,o=e.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=Pn(e)?Ho:mn.current,r=e.contextTypes,o=(r=r!=null)?fa(t,i):lo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function ny(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=AS,e_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=Pn(e)?Ho:mn.current,i.context=fa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ty(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sf.enqueueReplaceState(i,i.state,null),_h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===AS&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ow(t){var e=t._init;return e(t._payload)}function NS(t){function e(p,g){if(t){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=no(p,g),p.index=0,p.sibling=null,p}function o(p,g,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,_){return g===null||g.tag!==6?(g=Fm(y,p.mode,_),g.return=p,g):(g=i(g,y),g.return=p,g)}function l(p,g,y,_){var I=y.type;return I===Ds?c(p,g,y.props.children,_,y.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$i&&Ow(I)===g.type)?(_=i(g,y.props),_.ref=hl(p,g,y),_.return=p,_):(_=zd(y.type,y.key,y.props,null,p.mode,_),_.ref=hl(p,g,y),_.return=p,_)}function u(p,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Vm(y,p.mode,_),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function c(p,g,y,_,I){return g===null||g.tag!==7?(g=Uo(y,p.mode,_,I),g.return=p,g):(g=i(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Fm(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yc:return y=zd(g.type,g.key,g.props,null,p.mode,y),y.ref=hl(p,null,g),y.return=p,y;case Ms:return g=Vm(g,p.mode,y),g.return=p,g;case $i:var _=g._init;return d(p,_(g._payload),y)}if(Ll(g)||al(g))return g=Uo(g,p.mode,y,null),g.return=p,g;ad(p,g)}return null}function h(p,g,y,_){var I=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(p,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:return y.key===I?l(p,g,y,_):null;case Ms:return y.key===I?u(p,g,y,_):null;case $i:return I=y._init,h(p,g,I(y._payload),_)}if(Ll(y)||al(y))return I!==null?null:c(p,g,y,_,null);ad(p,y)}return null}function f(p,g,y,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(y)||null,a(g,p,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yc:return p=p.get(_.key===null?y:_.key)||null,l(g,p,_,I);case Ms:return p=p.get(_.key===null?y:_.key)||null,u(g,p,_,I);case $i:var S=_._init;return f(p,g,y,S(_._payload),I)}if(Ll(_)||al(_))return p=p.get(y)||null,c(g,p,_,I,null);ad(g,_)}return null}function m(p,g,y,_){for(var I=null,S=null,b=g,R=g=0,O=null;b!==null&&R<y.length;R++){b.index>R?(O=b,b=null):O=b.sibling;var x=h(p,b,y[R],_);if(x===null){b===null&&(b=O);break}t&&b&&x.alternate===null&&e(p,b),g=o(x,g,R),S===null?I=x:S.sibling=x,S=x,b=O}if(R===y.length)return n(p,b),ot&&Co(p,R),I;if(b===null){for(;R<y.length;R++)b=d(p,y[R],_),b!==null&&(g=o(b,g,R),S===null?I=b:S.sibling=b,S=b);return ot&&Co(p,R),I}for(b=r(p,b);R<y.length;R++)O=f(b,p,R,y[R],_),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?R:O.key),g=o(O,g,R),S===null?I=O:S.sibling=O,S=O);return t&&b.forEach(function(L){return e(p,L)}),ot&&Co(p,R),I}function v(p,g,y,_){var I=al(y);if(typeof I!="function")throw Error(B(150));if(y=I.call(y),y==null)throw Error(B(151));for(var S=I=null,b=g,R=g=0,O=null,x=y.next();b!==null&&!x.done;R++,x=y.next()){b.index>R?(O=b,b=null):O=b.sibling;var L=h(p,b,x.value,_);if(L===null){b===null&&(b=O);break}t&&b&&L.alternate===null&&e(p,b),g=o(L,g,R),S===null?I=L:S.sibling=L,S=L,b=O}if(x.done)return n(p,b),ot&&Co(p,R),I;if(b===null){for(;!x.done;R++,x=y.next())x=d(p,x.value,_),x!==null&&(g=o(x,g,R),S===null?I=x:S.sibling=x,S=x);return ot&&Co(p,R),I}for(b=r(p,b);!x.done;R++,x=y.next())x=f(b,p,R,x.value,_),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?R:x.key),g=o(x,g,R),S===null?I=x:S.sibling=x,S=x);return t&&b.forEach(function($){return e(p,$)}),ot&&Co(p,R),I}function C(p,g,y,_){if(typeof y=="object"&&y!==null&&y.type===Ds&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yc:e:{for(var I=y.key,S=g;S!==null;){if(S.key===I){if(I=y.type,I===Ds){if(S.tag===7){n(p,S.sibling),g=i(S,y.props.children),g.return=p,p=g;break e}}else if(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===$i&&Ow(I)===S.type){n(p,S.sibling),g=i(S,y.props),g.ref=hl(p,S,y),g.return=p,p=g;break e}n(p,S);break}else e(p,S);S=S.sibling}y.type===Ds?(g=Uo(y.props.children,p.mode,_,y.key),g.return=p,p=g):(_=zd(y.type,y.key,y.props,null,p.mode,_),_.ref=hl(p,g,y),_.return=p,p=_)}return s(p);case Ms:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=i(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Vm(y,p.mode,_),g.return=p,p=g}return s(p);case $i:return S=y._init,C(p,g,S(y._payload),_)}if(Ll(y))return m(p,g,y,_);if(al(y))return v(p,g,y,_);ad(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,y),g.return=p,p=g):(n(p,g),g=Fm(y,p.mode,_),g.return=p,p=g),s(p)):n(p,g)}return C}var ma=NS(!0),MS=NS(!1),yc={},qr=yo(yc),ku=yo(yc),Au=yo(yc);function Ao(t){if(t===yc)throw Error(B(174));return t}function t_(t,e){switch(Qe(Au,e),Qe(ku,t),Qe(qr,yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mg(e,t)}tt(qr),Qe(qr,e)}function ga(){tt(qr),tt(ku),tt(Au)}function DS(t){Ao(Au.current);var e=Ao(qr.current),n=Mg(e,t.type);e!==n&&(Qe(ku,t),Qe(qr,n))}function n_(t){ku.current===t&&(tt(qr),tt(ku))}var at=yo(0);function wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Om=[];function r_(){for(var t=0;t<Om.length;t++)Om[t]._workInProgressVersionPrimary=null;Om.length=0}var Fd=ki.ReactCurrentDispatcher,Nm=ki.ReactCurrentBatchConfig,Ko=0,lt=null,xt=null,Dt=null,Eh=!1,Jl=!1,Ou=0,$2=0;function nn(){throw Error(B(321))}function i_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function o_(t,e,n,r,i,o){if(Ko=o,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?B2:j2,t=n(r,i),Jl){o=0;do{if(Jl=!1,Ou=0,25<=o)throw Error(B(301));o+=1,Dt=xt=null,e.updateQueue=null,Fd.current=z2,t=n(r,i)}while(Jl)}if(Fd.current=Th,e=xt!==null&&xt.next!==null,Ko=0,Dt=xt=lt=null,Eh=!1,e)throw Error(B(300));return t}function s_(){var t=Ou!==0;return Ou=0,t}function Lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?lt.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function lr(){if(xt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Dt===null?lt.memoizedState:Dt.next;if(e!==null)Dt=e,xt=t;else{if(t===null)throw Error(B(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Dt===null?lt.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Nu(t,e){return typeof e=="function"?e(t):e}function Mm(t){var e=lr(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ko&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,lt.lanes|=c,Go|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ar(r,e.memoizedState)||(Rn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,lt.lanes|=o,Go|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dm(t){var e=lr(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ar(o,e.memoizedState)||(Rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function LS(){}function $S(t,e){var n=lt,r=lr(),i=e(),o=!Ar(r.memoizedState,i);if(o&&(r.memoizedState=i,Rn=!0),r=r.queue,a_(US.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Mu(9,VS.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(B(349));Ko&30||FS(n,e,i)}return i}function FS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VS(t,e,n,r){e.value=n,e.getSnapshot=r,BS(e)&&jS(t)}function US(t,e,n){return n(function(){BS(e)&&jS(t)})}function BS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function jS(t){var e=Ei(t,1);e!==null&&Pr(e,t,1,-1)}function Nw(t){var e=Lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=U2.bind(null,lt,t),[e.memoizedState,t]}function Mu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zS(){return lr().memoizedState}function Vd(t,e,n,r){var i=Lr();lt.flags|=t,i.memoizedState=Mu(1|e,n,void 0,r===void 0?null:r)}function bf(t,e,n,r){var i=lr();r=r===void 0?null:r;var o=void 0;if(xt!==null){var s=xt.memoizedState;if(o=s.destroy,r!==null&&i_(r,s.deps)){i.memoizedState=Mu(e,n,o,r);return}}lt.flags|=t,i.memoizedState=Mu(1|e,n,o,r)}function Mw(t,e){return Vd(8390656,8,t,e)}function a_(t,e){return bf(2048,8,t,e)}function WS(t,e){return bf(4,2,t,e)}function HS(t,e){return bf(4,4,t,e)}function qS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KS(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,qS.bind(null,e,t),n)}function l_(){}function GS(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&i_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QS(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&i_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YS(t,e,n){return Ko&21?(Ar(n,e)||(n=ZI(),lt.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function F2(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Be=n,Nm.transition=r}}function XS(){return lr().memoizedState}function V2(t,e,n){var r=to(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JS(t))ZS(e,n);else if(n=PS(t,e,n,r),n!==null){var i=Tn();Pr(n,t,r,i),eb(n,e,r)}}function U2(t,e,n){var r=to(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JS(t))ZS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ar(a,s)){var l=e.interleaved;l===null?(i.next=i,Zv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PS(t,e,i,r),n!==null&&(i=Tn(),Pr(n,t,r,i),eb(n,e,r))}}function JS(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function ZS(t,e){Jl=Eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}var Th={readContext:ar,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},B2={readContext:ar,useCallback:function(t,e){return Lr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:Mw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vd(4194308,4,qS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vd(4,2,t,e)},useMemo:function(t,e){var n=Lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V2.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=Lr();return t={current:t},e.memoizedState=t},useState:Nw,useDebugValue:l_,useDeferredValue:function(t){return Lr().memoizedState=t},useTransition:function(){var t=Nw(!1),e=t[0];return t=F2.bind(null,t[1]),Lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=Lr();if(ot){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),$t===null)throw Error(B(349));Ko&30||FS(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Mw(US.bind(null,r,o,t),[t]),r.flags|=2048,Mu(9,VS.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Lr(),e=$t.identifierPrefix;if(ot){var n=ci,r=ui;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j2={readContext:ar,useCallback:GS,useContext:ar,useEffect:a_,useImperativeHandle:KS,useInsertionEffect:WS,useLayoutEffect:HS,useMemo:QS,useReducer:Mm,useRef:zS,useState:function(){return Mm(Nu)},useDebugValue:l_,useDeferredValue:function(t){var e=lr();return YS(e,xt.memoizedState,t)},useTransition:function(){var t=Mm(Nu)[0],e=lr().memoizedState;return[t,e]},useMutableSource:LS,useSyncExternalStore:$S,useId:XS,unstable_isNewReconciler:!1},z2={readContext:ar,useCallback:GS,useContext:ar,useEffect:a_,useImperativeHandle:KS,useInsertionEffect:WS,useLayoutEffect:HS,useMemo:QS,useReducer:Dm,useRef:zS,useState:function(){return Dm(Nu)},useDebugValue:l_,useDeferredValue:function(t){var e=lr();return xt===null?e.memoizedState=t:YS(e,xt.memoizedState,t)},useTransition:function(){var t=Dm(Nu)[0],e=lr().memoizedState;return[t,e]},useMutableSource:LS,useSyncExternalStore:$S,useId:XS,unstable_isNewReconciler:!1};function ya(t,e){try{var n="",r=e;do n+=yN(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ry(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W2=typeof WeakMap=="function"?WeakMap:Map;function tb(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,fy=r),ry(t,e)},n}function nb(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ry(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ry(t,e),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iM.bind(null,t,e,n),e.then(t,t))}function Lw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $w(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,Zi(n,e,1))),n.lanes|=1),t)}var H2=ki.ReactCurrentOwner,Rn=!1;function wn(t,e,n,r){e.child=t===null?MS(e,null,n,r):ma(e,t.child,n,r)}function Fw(t,e,n,r,i){n=n.render;var o=e.ref;return Zs(e,i),r=o_(t,e,n,r,o,i),n=s_(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(ot&&n&&Kv(e),e.flags|=1,wn(t,e,r,i),e.child)}function Vw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!g_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rb(t,e,o,r,i)):(t=zd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(s,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=no(o,r),t.ref=e.ref,t.return=e,e.child=t}function rb(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(bu(o,r)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return iy(t,e,n,r,i)}function ib(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Hs,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Hs,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Hs,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(Hs,$n),$n|=r;return wn(t,e,i,n),e.child}function ob(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iy(t,e,n,r,i){var o=Pn(n)?Ho:mn.current;return o=fa(e,o),Zs(e,i),n=o_(t,e,n,r,o,i),r=s_(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(ot&&r&&Kv(e),e.flags|=1,wn(t,e,n,i),e.child)}function Uw(t,e,n,r,i){if(Pn(n)){var o=!0;ph(e)}else o=!1;if(Zs(e,i),e.stateNode===null)Ud(t,e),OS(e,n,r),ny(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Pn(n)?Ho:mn.current,u=fa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Aw(e,s,r,u),Fi=!1;var h=e.memoizedState;s.state=h,_h(e,r,s,i),l=e.memoizedState,a!==r||h!==l||xn.current||Fi?(typeof c=="function"&&(ty(e,n,c,r),l=e.memoizedState),(a=Fi||kw(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Pn(n)?Ho:mn.current,l=fa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Aw(e,s,r,l),Fi=!1,h=e.memoizedState,s.state=h,_h(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||xn.current||Fi?(typeof f=="function"&&(ty(e,n,f,r),m=e.memoizedState),(u=Fi||kw(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return oy(t,e,n,r,o,i)}function oy(t,e,n,r,i,o){ob(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Sw(e,n,!1),Ti(t,e,o);r=e.stateNode,H2.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ma(e,t.child,null,o),e.child=ma(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&Sw(e,n,!0),e.child}function sb(t){var e=t.stateNode;e.pendingContext?Iw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iw(t,e.context,!1),t_(t,e.containerInfo)}function Bw(t,e,n,r,i){return pa(),Qv(i),e.flags|=256,wn(t,e,n,r),e.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function ay(t){return{baseLanes:t,cachePool:null,transitions:null}}function ab(t,e,n){var r=e.pendingProps,i=at.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(at,i&1),t===null)return Zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Pf(s,r,0,null),t=Uo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ay(n),e.memoizedState=sy,t):u_(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return q2(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=no(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=no(a,o):(o=Uo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ay(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=sy,r}return o=t.child,t=o.sibling,r=no(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function u_(t,e){return e=Pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ld(t,e,n,r){return r!==null&&Qv(r),ma(e,t.child,null,n),t=u_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q2(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lm(Error(B(422))),ld(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pf({mode:"visible",children:r.children},i,0,null),o=Uo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ma(e,t.child,null,s),e.child.memoizedState=ay(s),e.memoizedState=sy,o);if(!(e.mode&1))return ld(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Lm(o,r,void 0),ld(t,e,s,r)}if(a=(s&t.childLanes)!==0,Rn||a){if(r=$t,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ei(t,i),Pr(r,t,i,-1))}return m_(),r=Lm(Error(B(421))),ld(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Un=Ji(i.nextSibling),Bn=e,ot=!0,Tr=null,t!==null&&(Jn[Zn++]=ui,Jn[Zn++]=ci,Jn[Zn++]=qo,ui=t.id,ci=t.overflow,qo=e),e=u_(e,r.children),e.flags|=4096,e)}function jw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ey(t.return,e,n)}function $m(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lb(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jw(t,n,e);else if(t.tag===19)jw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$m(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$m(e,!0,n,null,o);break;case"together":$m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=no(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=no(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K2(t,e,n){switch(e.tag){case 3:sb(e),pa();break;case 5:DS(e);break;case 1:Pn(e.type)&&ph(e);break;case 4:t_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(yh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?ab(t,e,n):(Qe(at,at.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Qe(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,ib(t,e,n)}return Ti(t,e,n)}var ub,ly,cb,db;ub=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ly=function(){};cb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(qr.current);var o=null;switch(n){case"input":i=kg(t,i),r=kg(t,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=Ng(t,i),r=Ng(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hh)}Dg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_u.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_u.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};db=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G2(t,e,n){var r=e.pendingProps;switch(Gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return Pn(e.type)&&fh(),rn(e),null;case 3:return r=e.stateNode,ga(),tt(xn),tt(mn),r_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(gy(Tr),Tr=null))),ly(t,e),rn(e),null;case 5:n_(e);var i=Ao(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)cb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return rn(e),null}if(t=Ao(qr.current),sd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vr]=e,r[Pu]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Fl.length;i++)Xe(Fl[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":X1(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":Z1(r,o),Xe("invalid",r)}Dg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",""+a]):_u.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Xc(r),J1(r,o,!0);break;case"textarea":Xc(r),ew(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=hh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vr]=e,t[Pu]=r,ub(t,e,!1,!1),e.stateNode=t;e:{switch(s=Lg(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fl.length;i++)Xe(Fl[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":X1(t,r),i=kg(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Z1(t,r),i=Ng(t,r),Xe("invalid",t);break;default:i=r}Dg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?BI(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VI(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_u.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xe("scroll",t):l!=null&&Nv(t,o,l,s))}switch(n){case"input":Xc(t),J1(t,r,!1);break;case"textarea":Xc(t),ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)db(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ao(Au.current),Ao(qr.current),sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(o=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return rn(e),null;case 13:if(tt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Un!==null&&e.mode&1&&!(e.flags&128))xS(),pa(),e.flags|=98560,o=!1;else if(o=sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Vr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else Tr!==null&&(gy(Tr),Tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?kt===0&&(kt=3):m_())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return ga(),ly(t,e),t===null&&Ru(e.stateNode.containerInfo),rn(e),null;case 10:return Jv(e.type._context),rn(e),null;case 17:return Pn(e.type)&&fh(),rn(e),null;case 19:if(tt(at),o=e.memoizedState,o===null)return rn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)fl(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wh(t),s!==null){for(e.flags|=128,fl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(at,at.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>va&&(e.flags|=128,r=!0,fl(o,!1),e.lanes=4194304)}else{if(!r)if(t=wh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ot)return rn(e),null}else 2*vt()-o.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,fl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=at.current,Qe(at,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return p_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Q2(t,e){switch(Gv(e),e.tag){case 1:return Pn(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),tt(xn),tt(mn),r_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return n_(e),null;case 13:if(tt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(at),null;case 4:return ga(),null;case 10:return Jv(e.type._context),null;case 22:case 23:return p_(),null;case 24:return null;default:return null}}var ud=!1,ln=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function uy(t,e,n){try{n()}catch(r){pt(t,e,r)}}var zw=!1;function X2(t,e){if(qg=uh,t=mS(),qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kg={focusedElem:t,selectionRange:n},uh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,C=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:_r(e.type,v),C);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){pt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return m=zw,zw=!1,m}function Zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&uy(e,n,o)}i=i.next}while(i!==r)}}function Rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hb(t){var e=t.alternate;e!==null&&(t.alternate=null,hb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[Pu],delete e[Yg],delete e[N2],delete e[M2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fb(t){return t.tag===5||t.tag===3||t.tag===4}function Ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hh));else if(r!==4&&(t=t.child,t!==null))for(dy(t,e,n),t=t.sibling;t!==null;)dy(t,e,n),t=t.sibling}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}var zt=null,wr=!1;function Mi(t,e,n){for(n=n.child;n!==null;)pb(t,e,n),n=n.sibling}function pb(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(_f,n)}catch{}switch(n.tag){case 5:ln||Ws(n,e);case 6:var r=zt,i=wr;zt=null,Mi(t,e,n),zt=r,wr=i,zt!==null&&(wr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(wr?(t=zt,n=n.stateNode,t.nodeType===8?km(t.parentNode,n):t.nodeType===1&&km(t,n),Iu(t)):km(zt,n.stateNode));break;case 4:r=zt,i=wr,zt=n.stateNode.containerInfo,wr=!0,Mi(t,e,n),zt=r,wr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&uy(n,e,s),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!ln&&(Ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Mi(t,e,n),ln=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function Hw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Y2),e.forEach(function(r){var i=sM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,wr=!1;break e;case 3:zt=a.stateNode.containerInfo,wr=!0;break e;case 4:zt=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(zt===null)throw Error(B(160));pb(o,s,i),zt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mb(e,t),e=e.sibling}function mb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Dr(t),r&4){try{Zl(3,t,t.return),Rf(3,t)}catch(v){pt(t,t.return,v)}try{Zl(5,t,t.return)}catch(v){pt(t,t.return,v)}}break;case 1:yr(e,t),Dr(t),r&512&&n!==null&&Ws(n,n.return);break;case 5:if(yr(e,t),Dr(t),r&512&&n!==null&&Ws(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(v){pt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LI(i,o),Lg(a,s);var u=Lg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?BI(i,d):c==="dangerouslySetInnerHTML"?VI(i,d):c==="children"?wu(i,d):Nv(i,c,d,u)}switch(a){case"input":Ag(i,o);break;case"textarea":$I(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Qs(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qs(i,!!o.multiple,o.defaultValue,!0):Qs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pu]=o}catch(v){pt(t,t.return,v)}}break;case 6:if(yr(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){pt(t,t.return,v)}}break;case 3:if(yr(e,t),Dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(v){pt(t,t.return,v)}break;case 4:yr(e,t),Dr(t);break;case 13:yr(e,t),Dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(h_=vt())),r&4&&Hw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,yr(e,t),ln=u):yr(e,t),Dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(d=G=c;G!==null;){switch(h=G,f=h.child,h.tag){case 0:case 11:case 14:case 15:Zl(4,h,h.return);break;case 1:Ws(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){pt(r,n,v)}}break;case 5:Ws(h,h.return);break;case 22:if(h.memoizedState!==null){Kw(d);continue}}f!==null?(f.return=h,G=f):Kw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=UI("display",s))}catch(v){pt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){pt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yr(e,t),Dr(t),r&4&&Hw(t);break;case 21:break;default:yr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fb(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var o=Ww(t);hy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ww(t);dy(t,a,s);break;default:throw Error(B(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J2(t,e,n){G=t,gb(t)}function gb(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ud;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=ud;var u=ln;if(ud=s,(ln=l)&&!u)for(G=i;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?Gw(i):l!==null?(l.return=s,G=l):Gw(i);for(;o!==null;)G=o,gb(o),o=o.sibling;G=i,ud=a,ln=u}qw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):qw(t)}}function qw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Pw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Iu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ln||e.flags&512&&cy(e)}catch(h){pt(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Kw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Gw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rf(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var o=e.return;try{cy(e)}catch(l){pt(e,o,l)}break;case 5:var s=e.return;try{cy(e)}catch(l){pt(e,s,l)}}}catch(l){pt(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var Z2=Math.ceil,Ch=ki.ReactCurrentDispatcher,c_=ki.ReactCurrentOwner,or=ki.ReactCurrentBatchConfig,Oe=0,$t=null,It=null,Xt=0,$n=0,Hs=yo(0),kt=0,Du=null,Go=0,xf=0,d_=0,eu=null,bn=null,h_=0,va=1/0,oi=null,Ih=!1,fy=null,eo=null,cd=!1,qi=null,Sh=0,tu=0,py=null,Bd=-1,jd=0;function Tn(){return Oe&6?vt():Bd!==-1?Bd:Bd=vt()}function to(t){return t.mode&1?Oe&2&&Xt!==0?Xt&-Xt:L2.transition!==null?(jd===0&&(jd=ZI()),jd):(t=Be,t!==0||(t=window.event,t=t===void 0?16:sS(t.type)),t):1}function Pr(t,e,n,r){if(50<tu)throw tu=0,py=null,Error(B(185));pc(t,n,r),(!(Oe&2)||t!==$t)&&(t===$t&&(!(Oe&2)&&(xf|=n),kt===4&&Ui(t,Xt)),kn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(va=vt()+500,If&&vo()))}function kn(t,e){var n=t.callbackNode;LN(t,e);var r=lh(t,t===$t?Xt:0);if(r===0)n!==null&&rw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rw(n),e===1)t.tag===0?D2(Qw.bind(null,t)):SS(Qw.bind(null,t)),A2(function(){!(Oe&6)&&vo()}),n=null;else{switch(eS(r)){case 1:n=Fv;break;case 4:n=XI;break;case 16:n=ah;break;case 536870912:n=JI;break;default:n=ah}n=Ib(n,yb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yb(t,e){if(Bd=-1,jd=0,Oe&6)throw Error(B(327));var n=t.callbackNode;if(ea()&&t.callbackNode!==n)return null;var r=lh(t,t===$t?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bh(t,r);else{e=r;var i=Oe;Oe|=2;var o=_b();($t!==t||Xt!==e)&&(oi=null,va=vt()+500,Vo(t,e));do try{nM();break}catch(a){vb(t,a)}while(!0);Xv(),Ch.current=o,Oe=i,It!==null?e=0:($t=null,Xt=0,e=kt)}if(e!==0){if(e===2&&(i=Bg(t),i!==0&&(r=i,e=my(t,i))),e===1)throw n=Du,Vo(t,0),Ui(t,r),kn(t,vt()),n;if(e===6)Ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!eM(i)&&(e=bh(t,r),e===2&&(o=Bg(t),o!==0&&(r=o,e=my(t,o))),e===1))throw n=Du,Vo(t,0),Ui(t,r),kn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Io(t,bn,oi);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=h_+500-vt(),10<e)){if(lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qg(Io.bind(null,t,bn,oi),e);break}Io(t,bn,oi);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-xr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z2(r/1960))-r,10<r){t.timeoutHandle=Qg(Io.bind(null,t,bn,oi),r);break}Io(t,bn,oi);break;case 5:Io(t,bn,oi);break;default:throw Error(B(329))}}}return kn(t,vt()),t.callbackNode===n?yb.bind(null,t):null}function my(t,e){var n=eu;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=bh(t,e),t!==2&&(e=bn,bn=n,e!==null&&gy(e)),t}function gy(t){bn===null?bn=t:bn.push.apply(bn,t)}function eM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ar(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~d_,e&=~xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function Qw(t){if(Oe&6)throw Error(B(327));ea();var e=lh(t,0);if(!(e&1))return kn(t,vt()),null;var n=bh(t,e);if(t.tag!==0&&n===2){var r=Bg(t);r!==0&&(e=r,n=my(t,r))}if(n===1)throw n=Du,Vo(t,0),Ui(t,e),kn(t,vt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,bn,oi),kn(t,vt()),null}function f_(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(va=vt()+500,If&&vo())}}function Qo(t){qi!==null&&qi.tag===0&&!(Oe&6)&&ea();var e=Oe;Oe|=1;var n=or.transition,r=Be;try{if(or.transition=null,Be=1,t)return t()}finally{Be=r,or.transition=n,Oe=e,!(Oe&6)&&vo()}}function p_(){$n=Hs.current,tt(Hs)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k2(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:ga(),tt(xn),tt(mn),r_();break;case 5:n_(r);break;case 4:ga();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Jv(r.type._context);break;case 22:case 23:p_()}n=n.return}if($t=t,It=t=no(t.current,null),Xt=$n=e,kt=0,Du=null,d_=xf=Go=0,bn=eu=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ko=null}return t}function vb(t,e){do{var n=It;try{if(Xv(),Fd.current=Th,Eh){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eh=!1}if(Ko=0,Dt=xt=lt=null,Jl=!1,Ou=0,c_.current=null,n===null||n.return===null){kt=1,Du=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Lw(s);if(f!==null){f.flags&=-257,$w(f,s,a,o,e),f.mode&1&&Dw(o,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Dw(o,u,e),m_();break e}l=Error(B(426))}}else if(ot&&a.mode&1){var C=Lw(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$w(C,s,a,o,e),Qv(ya(l,a));break e}}o=l=ya(l,a),kt!==4&&(kt=2),eu===null?eu=[o]:eu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=tb(o,l,e);xw(o,p);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(eo===null||!eo.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=nb(o,a,e);xw(o,_);break e}}o=o.return}while(o!==null)}Eb(n)}catch(I){e=I,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function _b(){var t=Ch.current;return Ch.current=Th,t===null?Th:t}function m_(){(kt===0||kt===3||kt===2)&&(kt=4),$t===null||!(Go&268435455)&&!(xf&268435455)||Ui($t,Xt)}function bh(t,e){var n=Oe;Oe|=2;var r=_b();($t!==t||Xt!==e)&&(oi=null,Vo(t,e));do try{tM();break}catch(i){vb(t,i)}while(!0);if(Xv(),Oe=n,Ch.current=r,It!==null)throw Error(B(261));return $t=null,Xt=0,kt}function tM(){for(;It!==null;)wb(It)}function nM(){for(;It!==null&&!RN();)wb(It)}function wb(t){var e=Cb(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?Eb(t):It=e,c_.current=null}function Eb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q2(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,It=null;return}}else if(n=G2(n,e,$n),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);kt===0&&(kt=5)}function Io(t,e,n){var r=Be,i=or.transition;try{or.transition=null,Be=1,rM(t,e,n,r)}finally{or.transition=i,Be=r}return null}function rM(t,e,n,r){do ea();while(qi!==null);if(Oe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($N(t,o),t===$t&&(It=$t=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cd||(cd=!0,Ib(ah,function(){return ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=or.transition,or.transition=null;var s=Be;Be=1;var a=Oe;Oe|=4,c_.current=null,X2(t,n),mb(n,t),C2(Kg),uh=!!qg,Kg=qg=null,t.current=n,J2(n),xN(),Oe=a,Be=s,or.transition=o}else t.current=n;if(cd&&(cd=!1,qi=t,Sh=i),o=t.pendingLanes,o===0&&(eo=null),AN(n.stateNode),kn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ih)throw Ih=!1,t=fy,fy=null,t;return Sh&1&&t.tag!==0&&ea(),o=t.pendingLanes,o&1?t===py?tu++:(tu=0,py=t):tu=0,vo(),null}function ea(){if(qi!==null){var t=eS(Sh),e=or.transition,n=Be;try{if(or.transition=null,Be=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,Sh=0,Oe&6)throw Error(B(331));var i=Oe;for(Oe|=4,G=t.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Zl(8,c,o)}var d=c.child;if(d!==null)d.return=c,G=d;else for(;G!==null;){c=G;var h=c.sibling,f=c.return;if(hb(c),c===u){G=null;break}if(h!==null){h.return=f,G=h;break}G=f}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zl(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,G=p;break e}G=o.return}}var g=t.current;for(G=g;G!==null;){s=G;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,G=y;else e:for(s=g;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(I){pt(a,a.return,I)}if(a===s){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(Oe=i,vo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(_f,t)}catch{}r=!0}return r}finally{Be=n,or.transition=e}}return!1}function Yw(t,e,n){e=ya(n,e),e=tb(t,e,1),t=Zi(t,e,1),e=Tn(),t!==null&&(pc(t,1,e),kn(t,e))}function pt(t,e,n){if(t.tag===3)Yw(t,t,n);else for(;e!==null;){if(e.tag===3){Yw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){t=ya(n,t),t=nb(e,t,1),e=Zi(e,t,1),t=Tn(),e!==null&&(pc(e,1,t),kn(e,t));break}}e=e.return}}function iM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Xt&n)===n&&(kt===4||kt===3&&(Xt&130023424)===Xt&&500>vt()-h_?Vo(t,0):d_|=n),kn(t,e)}function Tb(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var n=Tn();t=Ei(t,e),t!==null&&(pc(t,e,n),kn(t,n))}function oM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tb(t,n)}function sM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Tb(t,n)}var Cb;Cb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,K2(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,ot&&e.flags&1048576&&bS(e,gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ud(t,e),t=e.pendingProps;var i=fa(e,mn.current);Zs(e,n),i=o_(null,e,r,t,i,n);var o=s_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(o=!0,ph(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e_(e),i.updater=Sf,e.stateNode=i,i._reactInternals=e,ny(e,r,t,n),e=oy(null,e,r,!0,o,n)):(e.tag=0,ot&&o&&Kv(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ud(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lM(r),t=_r(r,t),i){case 0:e=iy(null,e,r,t,n);break e;case 1:e=Uw(null,e,r,t,n);break e;case 11:e=Fw(null,e,r,t,n);break e;case 14:e=Vw(null,e,r,_r(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),iy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Uw(t,e,r,i,n);case 3:e:{if(sb(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kS(t,e),_h(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ya(Error(B(423)),e),e=Bw(t,e,r,n,i);break e}else if(r!==i){i=ya(Error(B(424)),e),e=Bw(t,e,r,n,i);break e}else for(Un=Ji(e.stateNode.containerInfo.firstChild),Bn=e,ot=!0,Tr=null,n=MS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){e=Ti(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&Zg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Gg(r,i)?s=null:o!==null&&Gg(r,o)&&(e.flags|=32),ob(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&Zg(e),null;case 13:return ab(t,e,n);case 4:return t_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Fw(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qe(yh,r._currentValue),r._currentValue=s,o!==null)if(Ar(o.value,s)){if(o.children===i.children&&!xn.current){e=Ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=mi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ey(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ey(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zs(e,n),i=ar(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),Vw(t,e,r,i,n);case 15:return rb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Ud(t,e),e.tag=1,Pn(r)?(t=!0,ph(e)):t=!1,Zs(e,n),OS(e,r,i),ny(e,r,i,n),oy(null,e,r,!0,t,n);case 19:return lb(t,e,n);case 22:return ib(t,e,n)}throw Error(B(156,e.tag))};function Ib(t,e){return YI(t,e)}function aM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new aM(t,e,n,r)}function g_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lM(t){if(typeof t=="function")return g_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===Lv)return 14}return 2}function no(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")g_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ds:return Uo(n.children,i,o,e);case Mv:s=8,i|=8;break;case bg:return t=rr(12,n,e,i|2),t.elementType=bg,t.lanes=o,t;case Rg:return t=rr(13,n,e,i),t.elementType=Rg,t.lanes=o,t;case xg:return t=rr(19,n,e,i),t.elementType=xg,t.lanes=o,t;case NI:return Pf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AI:s=10;break e;case OI:s=9;break e;case Dv:s=11;break e;case Lv:s=14;break e;case $i:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=rr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Uo(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function Pf(t,e,n,r){return t=rr(22,t,r,e),t.elementType=NI,t.lanes=n,t.stateNode={isHidden:!1},t}function Fm(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function Vm(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y_(t,e,n,r,i,o,s,a,l){return t=new uM(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},e_(o),t}function cM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sb(t){if(!t)return lo;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Pn(n))return IS(t,n,e)}return e}function bb(t,e,n,r,i,o,s,a,l){return t=y_(n,r,!0,t,i,o,s,a,l),t.context=Sb(null),n=t.current,r=Tn(),i=to(n),o=mi(r,i),o.callback=e??null,Zi(n,o,i),t.current.lanes=i,pc(t,i,r),kn(t,r),t}function kf(t,e,n,r){var i=e.current,o=Tn(),s=to(i);return n=Sb(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zi(i,e,s),t!==null&&(Pr(t,i,s,o),$d(t,i,s)),s}function Rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function v_(t,e){Xw(t,e),(t=t.alternate)&&Xw(t,e)}function dM(){return null}var Rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function __(t){this._internalRoot=t}Af.prototype.render=__.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));kf(t,e,null,null)};Af.prototype.unmount=__.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qo(function(){kf(null,t,null,null)}),e[wi]=null}};function Af(t){this._internalRoot=t}Af.prototype.unstable_scheduleHydration=function(t){if(t){var e=rS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&oS(t)}};function w_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jw(){}function hM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Rh(s);o.call(u)}}var s=bb(e,r,t,0,null,!1,!1,"",Jw);return t._reactRootContainer=s,t[wi]=s.current,Ru(t.nodeType===8?t.parentNode:t),Qo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rh(l);a.call(u)}}var l=y_(t,0,!1,null,null,!1,!1,"",Jw);return t._reactRootContainer=l,t[wi]=l.current,Ru(t.nodeType===8?t.parentNode:t),Qo(function(){kf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Rh(s);a.call(l)}}kf(e,s,t,i)}else s=hM(n,e,t,i,r);return Rh(s)}tS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$l(e.pendingLanes);n!==0&&(Vv(e,n|1),kn(e,vt()),!(Oe&6)&&(va=vt()+500,vo()))}break;case 13:Qo(function(){var r=Ei(t,1);if(r!==null){var i=Tn();Pr(r,t,1,i)}}),v_(t,1)}};Uv=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=Tn();Pr(e,t,134217728,n)}v_(t,134217728)}};nS=function(t){if(t.tag===13){var e=to(t),n=Ei(t,e);if(n!==null){var r=Tn();Pr(n,t,e,r)}v_(t,e)}};rS=function(){return Be};iS=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Fg=function(t,e,n){switch(e){case"input":if(Ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cf(r);if(!i)throw Error(B(90));DI(r),Ag(r,i)}}}break;case"textarea":$I(t,n);break;case"select":e=n.value,e!=null&&Qs(t,!!n.multiple,e,!1)}};WI=f_;HI=Qo;var fM={usingClientEntryPoint:!1,Events:[gc,Vs,Cf,jI,zI,f_]},pl={findFiberByHostInstance:Po,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pM={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GI(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||dM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{_f=dd.inject(pM),Hr=dd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w_(e))throw Error(B(200));return cM(t,e,null,n)};Gn.createRoot=function(t,e){if(!w_(t))throw Error(B(299));var n=!1,r="",i=Rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=y_(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,Ru(t.nodeType===8?t.parentNode:t),new __(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=GI(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Qo(t)};Gn.hydrate=function(t,e,n){if(!Of(e))throw Error(B(200));return Nf(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!w_(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Rb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=bb(e,null,t,1,n??null,i,!1,o,s),t[wi]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Af(e)};Gn.render=function(t,e,n){if(!Of(e))throw Error(B(200));return Nf(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Of(t))throw Error(B(40));return t._reactRootContainer?(Qo(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};Gn.unstable_batchedUpdates=f_;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Of(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Nf(t,e,n,!1,r)};Gn.version="18.2.0-next-9e3b772b8-20220608";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),bI.exports=Gn;var Mf=bI.exports;const hd=yf(Mf);var Zw=Mf;Ig.createRoot=Zw.createRoot,Ig.hydrateRoot=Zw.hydrateRoot;var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Ua(e)},Ua=function(t){return new Error("Firebase Database ("+Pb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new gM;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(t){const e=kb(t);return E_.encodeByteArray(e,!0)},xh=function(t){return Ab(t).replace(/\./g,"")},Ph=function(t){try{return E_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return Ob(void 0,t)}function Ob(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vM(n)||(t[n]=Ob(t[n],e[n]));return t}function vM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=()=>_M().__FIREBASE_DEFAULTS__,EM=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ph(t[1]);return e&&JSON.parse(e)},T_=()=>{try{return wM()||EM()||TM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nb=t=>{var e,n;return(n=(e=T_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Mb=t=>{const e=Nb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Db=()=>{var t;return(t=T_())===null||t===void 0?void 0:t.config},Lb=t=>{var e;return(e=T_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xh(JSON.stringify(n)),xh(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function CM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vb(){return Pb.NODE_ADMIN===!0}function SM(){try{return typeof indexedDB=="object"}catch{return!1}}function bM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RM,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xM(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ai(i,a,r)}}function xM(t,e){return t.replace(PM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){return JSON.parse(t)}function Qt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Lu(Ph(o[0])||""),n=Lu(Ph(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},kM=function(t){const e=Ub(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AM=function(t){const e=Ub(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _a(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(tE(o)&&tE(s)){if(!Ah(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function NM(t,e){const n=new MM(t,e);return n.subscribe.bind(n)}class MM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}function LM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,W(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Df=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UM(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VM(t){return t===So?void 0:t}function UM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const jM={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},zM=Ee.INFO,WM={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const qM=(t,e)=>e.some(n=>t instanceof n);let nE,rE;function KM(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bb=new WeakMap,vy=new WeakMap,jb=new WeakMap,Bm=new WeakMap,S_=new WeakMap;function QM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ro(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Bb.set(n,t)}).catch(()=>{}),S_.set(e,t),e}function YM(t){if(vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vy.set(t,e)}let _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XM(t){_y=t(_y)}function JM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jm(this),e,...n);return jb.set(r,e.sort?e.sort():[e]),ro(r)}:GM().includes(t)?function(...e){return t.apply(jm(this),e),ro(Bb.get(this))}:function(...e){return ro(t.apply(jm(this),e))}}function ZM(t){return typeof t=="function"?JM(t):(t instanceof IDBTransaction&&YM(t),qM(t,KM())?new Proxy(t,_y):t)}function ro(t){if(t instanceof IDBRequest)return QM(t);if(Bm.has(t))return Bm.get(t);const e=ZM(t);return e!==t&&(Bm.set(t,e),S_.set(e,t)),e}const jm=t=>S_.get(t);function eD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ro(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ro(s.result),l.oldVersion,l.newVersion,ro(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tD=["get","getKey","getAll","getAllKeys","count"],nD=["put","add","delete","clear"],zm=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tD.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zm.set(e,o),o}XM(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wy="@firebase/app",oE="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Lf("@firebase/app"),oD="@firebase/app-compat",sD="@firebase/analytics-compat",aD="@firebase/analytics",lD="@firebase/app-check-compat",uD="@firebase/app-check",cD="@firebase/auth",dD="@firebase/auth-compat",hD="@firebase/database",fD="@firebase/database-compat",pD="@firebase/functions",mD="@firebase/functions-compat",gD="@firebase/installations",yD="@firebase/installations-compat",vD="@firebase/messaging",_D="@firebase/messaging-compat",wD="@firebase/performance",ED="@firebase/performance-compat",TD="@firebase/remote-config",CD="@firebase/remote-config-compat",ID="@firebase/storage",SD="@firebase/storage-compat",bD="@firebase/firestore",RD="@firebase/firestore-compat",xD="firebase",PD="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="[DEFAULT]",kD={[wy]:"fire-core",[oD]:"fire-core-compat",[aD]:"fire-analytics",[sD]:"fire-analytics-compat",[uD]:"fire-app-check",[lD]:"fire-app-check-compat",[cD]:"fire-auth",[dD]:"fire-auth-compat",[hD]:"fire-rtdb",[fD]:"fire-rtdb-compat",[pD]:"fire-fn",[mD]:"fire-fn-compat",[gD]:"fire-iid",[yD]:"fire-iid-compat",[vD]:"fire-fcm",[_D]:"fire-fcm-compat",[wD]:"fire-perf",[ED]:"fire-perf-compat",[TD]:"fire-rc",[CD]:"fire-rc-compat",[ID]:"fire-gcs",[SD]:"fire-gcs-compat",[bD]:"fire-fst",[RD]:"fire-fst-compat","fire-js":"fire-js",[xD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,Ty=new Map;function AD(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(Ty.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of Oh.values())AD(n,t);return!0}function $f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},io=new vc("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=PD;function zb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw io.create("bad-app-name",{appName:String(i)});if(n||(n=Db()),!n)throw io.create("no-options");const o=Oh.get(i);if(o){if(Ah(n,o.options)&&Ah(r,o.config))return o;throw io.create("duplicate-app",{appName:i})}const s=new BM(i);for(const l of Ty.values())s.addComponent(l);const a=new ND(n,r,s);return Oh.set(i,a),a}function b_(t=Ey){const e=Oh.get(t);if(!e&&t===Ey&&Db())return zb();if(!e)throw io.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=kD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(a.join(" "));return}Xo(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="firebase-heartbeat-database",DD=1,$u="firebase-heartbeat-store";let Wm=null;function Wb(){return Wm||(Wm=eD(MD,DD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($u)}}}).catch(t=>{throw io.create("idb-open",{originalErrorMessage:t.message})})),Wm}async function LD(t){try{return await(await Wb()).transaction($u).objectStore($u).get(Hb(t))}catch(e){if(e instanceof Ai)Yo.warn(e.message);else{const n=io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(n.message)}}}async function sE(t,e){try{const r=(await Wb()).transaction($u,"readwrite");await r.objectStore($u).put(e,Hb(t)),await r.done}catch(n){if(n instanceof Ai)Yo.warn(n.message);else{const r=io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(r.message)}}}function Hb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,FD=30*24*60*60*1e3;class VD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=FD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:r,unsentEntries:i}=UD(this._heartbeatsCache.heartbeats),o=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function aE(){return new Date().toISOString().substring(0,10)}function UD(t,e=$D){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SM()?bM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lE(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){Xo(new uo("platform-logger",e=>new rD(e),"PRIVATE")),Xo(new uo("heartbeat",e=>new VD(e),"PRIVATE")),Kr(wy,oE,t),Kr(wy,oE,"esm2017"),Kr("fire-js","")}jD("");function R_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=qb,Kb=new vc("auth","Firebase",qb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Lf("@firebase/auth");function WD(t,...e){Nh.logLevel<=Ee.WARN&&Nh.warn(`Auth (${fs}): ${t}`,...e)}function Wd(t,...e){Nh.logLevel<=Ee.ERROR&&Nh.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw x_(t,...e)}function Gr(t,...e){return x_(t,...e)}function Gb(t,e,n){const r=Object.assign(Object.assign({},zD()),{[e]:n});return new vc("auth","Firebase",r).create(e,{appName:t.name})}function HD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ei(t,"argument-error"),Gb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kb.create(t,...e)}function ue(t,e,...n){if(!t)throw x_(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function Ci(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qD(){return uE()==="http:"||uE()==="https:"}function uE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||CM()||"connection"in navigator)?navigator.onLine:!0}function GD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=I_()||Fb()}get(){return KD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new _c(3e4,6e4);function k_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ja(t,e,n,r,i={}){return Yb(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ba(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Qb.fetch()(Xb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Yb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QD),e);try{const i=new JD(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw fd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw fd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gb(t,c,u);ei(t,c)}}catch(i){if(i instanceof Ai)throw i;ei(t,"network-request-failed",{message:String(i)})}}async function XD(t,e,n,r,i={}){const o=await ja(t,e,n,r,i);return"mfaPendingCredential"in o&&ei(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Xb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}class JD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),YD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e){return ja(t,"POST","/v1/accounts:delete",e)}async function eL(t,e){return ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=A_(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:nu(Hm(i.auth_time)),issuedAtTime:nu(Hm(i.iat)),expirationTime:nu(Hm(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hm(t){return Number(t)*1e3}function A_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ph(n);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nL(t){const e=A_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&rL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fu(t,eL(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aL(o.providerUserInfo):[],a=sL(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function oL(t){const e=Mn(t);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aL(t){return t.map(e=>{var{providerId:n}=e,r=R_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){const n=await Yb(t,{},async()=>{const r=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Xb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uL(t,e){return ja(t,"POST","/v2/accounts:revokeToken",k_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await lL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Vu;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return oL(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Fu(this,ZD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:_,isAnonymous:I,providerData:S,stsTokenManager:b}=n;ue(y&&b,e,"internal-error");const R=Vu.fromJSON(this.name,b);ue(typeof y=="string",e,"internal-error"),Di(d,e.name),Di(h,e.name),ue(typeof _=="boolean",e,"internal-error"),ue(typeof I=="boolean",e,"internal-error"),Di(f,e.name),Di(m,e.name),Di(v,e.name),Di(C,e.name),Di(p,e.name),Di(g,e.name);const O=new Bo({uid:y,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:R,createdAt:p,lastLoginAt:g});return S&&Array.isArray(S)&&(O.providerData=S.map(x=>Object.assign({},x))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vu;i.updateFromServerResponse(n);const o=new Bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function hi(t){Ci(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zb.type="NONE";const dE=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ta(hi(dE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||hi(dE);const s=Hd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Bo._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ta(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ta(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(oR(e))return"Webos";if(O_(e))return"Safari";if((e.includes("chrome/")||tR(e))&&!e.includes("edge/"))return"Chrome";if(rR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eR(t=gn()){return/firefox\//i.test(t)}function O_(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tR(t=gn()){return/crios\//i.test(t)}function nR(t=gn()){return/iemobile/i.test(t)}function rR(t=gn()){return/android/i.test(t)}function iR(t=gn()){return/blackberry/i.test(t)}function oR(t=gn()){return/webos/i.test(t)}function Ff(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cL(t=gn()){var e;return Ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dL(){return IM()&&document.documentMode===10}function sR(t=gn()){return Ff(t)||rR(t)||oR(t)||iR(t)||/windows phone/i.test(t)||nR(t)}function hL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=[]){let n;switch(t){case"Browser":n=hE(gn());break;case"Worker":n=`${hE(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e={}){return ja(t,"GET","/v2/passwordPolicy",k_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=6;class gL{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:mL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new fL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Mn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pL(this),n=new gL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vf(t){return Mn(t)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=NM(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _L(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",vL().appendChild(r)})}function wL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){const n=$f(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ah(o,e??{}))return i;ei(i,"already-initialized")}return n.initialize({options:e})}function TL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CL(t,e,n){const r=Vf(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=lR(e),{host:s,port:a}=IL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SL()}function lR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IL(t){const e=lR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pE(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:pE(s)}}}function pE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return XD(t,"POST","/v1/accounts:signInWithIdp",k_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="http://localhost";class Jo extends uR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=R_(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Jo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:bL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends N_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends wc{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends wc{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends wc{constructor(){super("twitter.com")}static credential(e,n){return Jo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Bo._fromIdTokenResponse(e,r,i),s=mE(r);return new wa({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mE(r);return new wa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dh(e,n,r,i)}}function cR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,o,e,r):o})}async function RL(t,e,n=!1){const r=await Fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Fu(t,cR(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=A_(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),wa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e,n=!1){const r="signIn",i=await cR(t,r,e),o=await wa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function kL(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function AL(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function OL(t){return Mn(t).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){const t=gn();return O_(t)||Ff(t)}const ML=1e3,DL=10;class hR extends dR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NL()&&hL(),this.fallbackToPolling=sR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);dL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hR.type="LOCAL";const LL=hR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends dR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fR.type="SESSION";const pR=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await $L(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=M_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function VL(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function UL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jL(){return mR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebaseLocalStorageDb",zL=1,$h="firebaseLocalStorage",yR="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function WL(){const t=indexedDB.deleteDatabase(gR);return new Ec(t).toPromise()}function Iy(){const t=indexedDB.open(gR,zL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:yR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await WL(),e(await Iy()))})})}async function gE(t,e,n){const r=Bf(t,!0).put({[yR]:e,value:n});return new Ec(r).toPromise()}async function HL(t,e){const n=Bf(t,!1).get(e),r=await new Ec(n).toPromise();return r===void 0?null:r.value}function yE(t,e){const n=Bf(t,!0).delete(e);return new Ec(n).toPromise()}const qL=800,KL=3;class vR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(jL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UL(),!this.activeServiceWorker)return;this.sender=new FL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await gE(e,Lh,"1"),await yE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Bf(i,!1).getAll();return new Ec(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vR.type="LOCAL";const GL=vR;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){return e?hi(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends uR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QL(t){return PL(t.auth,new D_(t),t.bypassAuthState)}function YL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),xL(n,new D_(t),t.bypassAuthState)}async function XL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),RL(n,new D_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QL;case"linkViaPopup":case"linkViaRedirect":return XL;case"reauthViaPopup":case"reauthViaRedirect":return YL;default:ei(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new _c(2e3,1e4);async function ZL(t,e,n){const r=Vf(t);HD(t,e,N_);const i=_R(r,n);return new Oo(r,"signInViaPopup",e,i).executeNotNull()}class Oo extends wR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=M_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JL.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="pendingRedirect",qd=new Map;class t$ extends wR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await n$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n$(t,e){const n=o$(e),r=i$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r$(t,e){qd.set(t._key(),e)}function i$(t){return hi(t._redirectPersistence)}function o$(t){return Hd(e$,t.config.apiKey,t.name)}async function s$(t,e,n=!1){const r=Vf(t),i=_R(r,e),s=await new t$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=10*60*1e3;class l${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ER(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a$&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e={}){return ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h$=/^https?/;async function f$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c$(t);for(const n of e)try{if(p$(n))return}catch{}ei(t,"unauthorized-domain")}function p$(t){const e=Cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!h$.test(n))return!1;if(d$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=new _c(3e4,6e4);function _E(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g$(t){return new Promise((e,n)=>{var r,i,o;function s(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),n(Gr(t,"network-request-failed"))},timeout:m$.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qr().gapi)===null||o===void 0)&&o.load)s();else{const a=wL("iframefcb");return Qr()[a]=()=>{gapi.load?s():n(Gr(t,"network-request-failed"))},_L(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function y$(t){return Kd=Kd||g$(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new _c(5e3,15e3),_$="__/auth/iframe",w$="emulator/auth/iframe",E$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C$(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,w$):`https://${t.config.authDomain}/${_$}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=T$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ba(r).slice(1)}`}async function I$(t){const e=await y$(t),n=Qr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:C$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Gr(t,"network-request-failed"),a=Qr().setTimeout(()=>{o(s)},v$.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b$=500,R$=600,x$="_blank",P$="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k$(t,e,n,r=b$,i=R$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},S$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gn().toLowerCase();n&&(a=tR(u)?x$:n),eR(u)&&(e=e||P$,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(cL(u)&&a!=="_self")return A$(e||"",a),new wE(null);const d=window.open(e||"",a,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new wE(d)}function A$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="__/auth/handler",N$="emulator/auth/handler",M$=encodeURIComponent("fac");async function EE(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof N_){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yy(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof wc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${M$}=${encodeURIComponent(l)}`:"";return`${D$(t)}?${Ba(a).slice(1)}${u}`}function D$({config:t}){return t.emulator?P_(t,N$):`https://${t.authDomain}/${O$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class L${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pR,this._completeRedirectFn=s$,this._overrideRedirectResult=r$}async _openPopup(e,n,r,i){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await EE(e,n,r,Cy(),i);return k$(e,s,M_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await EE(e,n,r,Cy(),i);return VL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I$(e),r=new l$(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[qm];s!==void 0&&n(!!s),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sR()||O_()||Ff()}}const $$=L$;var TE="@firebase/auth",CE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function U$(t){Xo(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},u=new yL(r,i,o,l);return TL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new uo("auth-internal",e=>{const n=Vf(e.getProvider("auth").getImmediate());return(r=>new F$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(TE,CE,V$(t)),Kr(TE,CE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=5*60,j$=Lb("authIdTokenMaxAge")||B$;let IE=null;const z$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j$)return;const i=n==null?void 0:n.token;IE!==i&&(IE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W$(t=b_()){const e=$f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EL(t,{popupRedirectResolver:$$,persistence:[GL,LL,pR]}),r=Lb("authTokenSyncURL");if(r){const o=z$(r);AL(n,o,()=>o(n.currentUser)),kL(n,s=>o(s))}const i=Nb("auth");return i&&CL(n,`http://${i}`),n}U$("Browser");var H$="firebase",q$="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(H$,q$,"app");var SE={};const bE="@firebase/database",RE="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR="";function K$(t){TR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Lu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Oi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new G$(e)}}catch{}return new Q$},No=CR("localStorage"),Sy=CR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Lf("@firebase/database"),Y$=function(){let t=1;return function(){return t++}}(),IR=function(t){const e=$M(t),n=new OM;n.update(e);const r=n.digest();return E_.encodeByteArray(r)},Tc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Tc.apply(null,r):typeof r=="object"?e+=Qt(r):e+=r,e+=" "}return e};let jo=null,xE=!0;const X$=function(t,e){W(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ra.logLevel=Ee.VERBOSE,jo=ra.log.bind(ra),e&&Sy.set("logging_enabled",!0)):typeof t=="function"?jo=t:(jo=null,Sy.remove("logging_enabled"))},un=function(...t){if(xE===!0&&(xE=!1,jo===null&&Sy.get("logging_enabled")===!0&&X$(!0)),jo){const e=Tc.apply(null,t);jo(e)}},Cc=function(t){return function(...e){un(t,...e)}},by=function(...t){const e="FIREBASE INTERNAL ERROR: "+Tc(...t);ra.error(e)},Ii=function(...t){const e=`FIREBASE FATAL ERROR: ${Tc(...t)}`;throw ra.error(e),new Error(e)},jn=function(...t){const e="FIREBASE WARNING: "+Tc(...t);ra.warn(e)},J$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Z$=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ea="[MIN_NAME]",Zo="[MAX_NAME]",za=function(t,e){if(t===e)return 0;if(t===Ea||e===Zo)return-1;if(e===Ea||t===Zo)return 1;{const n=PE(t),r=PE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},e4=function(t,e){return t===e?0:t<e?-1:1},ml=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qt(e))},L_=function(t){if(typeof t!="object"||t===null)return Qt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Qt(e[r]),n+=":",n+=L_(t[e[r]]);return n+="}",n},bR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ur(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const RR=function(t){W(!SR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},t4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},n4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},r4=new RegExp("^-?(0*)\\d{1,10}$"),i4=-2147483648,o4=2147483647,PE=function(t){if(r4.test(t)){const e=Number(t);if(e>=i4&&e<=o4)return e}return null},Ic=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw jn("Exception was thrown by user callback.",n),e},Math.floor(0))}},s4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ru=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jn(e)}}class ia{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ia.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="5",xR="v",PR="s",kR="r",AR="f",OR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NR="ls",MR="p",Ry="ac",DR="websocket",LR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=No.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&No.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function u4(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FR(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let r;if(e===DR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);u4(t)&&(n.ns=t.namespace);const i=[];return ur(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.counters_={}}incrementCounter(e,n=1){Oi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km={},Gm={};function F_(t){const e=t.toString();return Km[e]||(Km[e]=new c4),Km[e]}function d4(t,e){const n=t.toString();return Gm[n]||(Gm[n]=e()),Gm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ic(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="start",f4="close",p4="pLPCommand",m4="pRTLPCB",VR="id",UR="pw",BR="ser",g4="cb",y4="seg",v4="ts",_4="d",w4="dframe",jR=1870,zR=30,E4=jR-zR,T4=25e3,C4=3e4;class qs{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cc(e),this.stats_=F_(n),this.urlFn=l=>(this.appCheckToken&&(l[Ry]=this.appCheckToken),FR(n,LR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new h4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(C4)),Z$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V_((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kE)this.id=a,this.password=l;else if(s===f4)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kE]="t",r[BR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[g4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[xR]=$_,this.transportSessionId&&(r[PR]=this.transportSessionId),this.lastSessionId&&(r[NR]=this.lastSessionId),this.applicationId&&(r[MR]=this.applicationId),this.appCheckToken&&(r[Ry]=this.appCheckToken),typeof location<"u"&&location.hostname&&OR.test(location.hostname)&&(r[kR]=AR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qs.forceAllow_=!0}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){return qs.forceAllow_?!0:!qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!t4()&&!n4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ab(n),i=bR(r,E4);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[w4]="t",r[VR]=e,r[UR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Y$(),window[p4+this.uniqueCallbackIdentifier]=e,window[m4+this.uniqueCallbackIdentifier]=n,this.myIFrame=V_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){un("frame writing exception"),a.stack&&un(a.stack),un(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||un("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VR]=this.myID,e[UR]=this.myPW,e[BR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zR+r.length<=jR;){const s=this.pendingSegs.shift();r=r+"&"+y4+i+"="+s.seg+"&"+v4+i+"="+s.ts+"&"+_4+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(T4)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=16384,S4=45e3;let Fh=null;typeof MozWebSocket<"u"?Fh=MozWebSocket:typeof WebSocket<"u"&&(Fh=WebSocket);class Cr{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cc(this.connId),this.stats_=F_(n),this.connURL=Cr.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[xR]=$_,typeof location<"u"&&location.hostname&&OR.test(location.hostname)&&(s[kR]=AR),n&&(s[PR]=n),r&&(s[NR]=r),i&&(s[Ry]=i),o&&(s[MR]=o),FR(e,DR,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,No.set("previous_websocket_failure",!0);try{let r;Vb(),this.mySock=new Fh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Fh!==null&&!Cr.forceDisallow_}static previouslyFailed(){return No.isInMemoryStorage||No.get("previous_websocket_failure")===!0}markConnectionHealthy(){No.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Lu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bR(n,I4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(S4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2;Cr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qs,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Cr&&Cr.isAvailable();let r=n&&!Cr.previouslyFailed();if(e.webSocketOnly&&(n||jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cr];else{const i=this.transports_=[];for(const o of Uu.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Uu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6e4,R4=5e3,x4=10*1024,P4=100*1024,Qm="t",AE="d",k4="s",OE="r",A4="e",NE="o",ME="a",DE="n",LE="p",O4="h";class N4{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cc("c:"+this.id+":"),this.transportManager_=new Uu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ru(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>P4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qm in e){const n=e[Qm];n===ME?this.upgradeIfSecondaryHealthy_():n===OE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===NE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ml("t",e),r=ml("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ME,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ml("t",e),r=ml("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ml(Qm,e);if(AE in e){const r=e[AE];if(n===O4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===k4?this.onConnectionShutdown_(r):n===OE?this.onReset_(r):n===A4?by("Server Error: "+r):n===NE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):by("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$_!==r&&jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ru(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(b4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ru(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(R4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(No.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends HR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Vh}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=32,FE=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function qe(){return new nt("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function co(t){return t.pieces_.length-t.pieceNum_}function Ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function qR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function M4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function KR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function Lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof nt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new nt(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function ir(t,e){const n=Re(t),r=Re(e);if(n===null)return e;if(n===r)return ir(Ze(t),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function QR(t,e){if(co(t)!==co(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(co(t)>co(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class D4{constructor(e,n){this.errorPrefix_=n,this.parts_=KR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Df(this.parts_[r]);YR(this)}}function L4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Df(e),YR(t)}function $4(t){const e=t.parts_.pop();t.byteLength_-=Df(e),t.parts_.length>0&&(t.byteLength_-=1)}function YR(t){if(t.byteLength_>FE)throw new Error(t.errorPrefix_+"has a key path longer than "+FE+" bytes ("+t.byteLength_+").");if(t.parts_.length>$E)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$E+") or object contains a cycle "+bo(t))}function bo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends HR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new U_}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=1e3,F4=60*5*1e3,VE=30*1e3,V4=1.3,U4=3e4,B4="server_kill",UE=3;class gi extends WR{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=gi.nextPersistentConnectionId_++,this.log_=Cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gl,this.maxReconnectDelay_=F4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Vb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Qt(o)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new C_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;gi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Oi(e,"w")){const r=_a(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||AM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):by("Unrecognized action received from server: "+Qt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U4&&(this.reconnectDelay_=gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+gi.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?un("getToken() completed but was canceled"):(un("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new N4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{jn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(B4)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&jn(d),l())}}}interrupt(e){un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yy(this.interruptReasons_)&&(this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>L_(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new nt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){un("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UE&&(this.reconnectDelay_=VE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){un("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TR.replace(/\./g,"-")]=1,I_()?e["framework.cordova"]=1:Fb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vh.getInstance().currentlyOnline();return yy(this.interruptReasons_)&&e}}gi.nextPersistentConnectionId_=0;gi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new xe(Ea,e),i=new xe(Ea,n);return this.compare(r,i)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd;class XR extends jf{static get __EMPTY_NODE(){return pd}static set __EMPTY_NODE(e){pd=e}compare(e,n){return za(e.name,n.name)}isDefinedOn(e){throw Ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Zo,pd)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,pd)}toString(){return".key"}}const oa=new XR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Fn=class Vl{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Vl.RED,this.left=i??Br.EMPTY_NODE,this.right=o??Br.EMPTY_NODE}copy(e,n,r,i,o){return new Vl(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Br.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Fn.RED=!0;Fn.BLACK=!1;class j4{copy(e,n,r,i,o){return this}insert(e,n,r){return new Fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Br=class Gd{constructor(e,n=Gd.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Gd(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Gd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new md(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new md(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new md(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new md(this.root_,null,this.comparator_,!0,e)}};Br.EMPTY_NODE=new j4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e){return za(t.name,e.name)}function B_(t,e){return za(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy;function W4(t){xy=t}const JR=function(t){return typeof t=="number"?"number:"+RR(t):"string:"+t},ZR=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Oi(e,".sv"),"Priority must be a string or number.")}else W(t===xy||t.isEmpty(),"priority of unexpected type.");W(t===xy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BE;class Nt{constructor(e,n=Nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZR(this.priorityNode_)}static set __childrenNodeConstructor(e){BE=e}static get __childrenNodeConstructor(){return BE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Re(e)===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Re(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||co(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=RR(this.value_):e+=this.value_,this.lazyHash_=IR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Nt.VALUE_TYPE_ORDER.indexOf(n),o=Nt.VALUE_TYPE_ORDER.indexOf(r);return W(i>=0,"Unknown leaf type: "+n),W(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex,tx;function H4(t){ex=t}function q4(t){tx=t}class K4 extends jf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?za(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Zo,new Nt("[PRIORITY-POST]",tx))}makePost(e,n){const r=ex(e);return new xe(n,new Nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const hn=new K4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=Math.log(2);class Q4{constructor(e){const n=o=>parseInt(Math.log(o)/G4,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Uh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Fn(h,d.node,Fn.BLACK,null,null);{const f=parseInt(c/2,10)+l,m=i(l,f),v=i(f+1,u);return d=t[f],h=n?n(d):d,new Fn(h,d.node,Fn.BLACK,m,v)}},o=function(l){let u=null,c=null,d=t.length;const h=function(m,v){const C=d-m,p=d;d-=m;const g=i(C+1,p),y=t[C],_=n?n(y):y;f(new Fn(_,y.node,v,null,g))},f=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),C=Math.pow(2,l.count-(m+1));v?h(C,Fn.BLACK):(h(C,Fn.BLACK),h(C,Fn.RED))}return c},s=new Q4(t.length),a=o(s);return new Br(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym;const ws={};class fi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(ws&&hn,"ChildrenNode.ts has not been loaded"),Ym=Ym||new fi({".priority":ws},{".priority":hn}),Ym}get(e){const n=_a(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Br?n:null}hasIndex(e){return Oi(this.indexSet_,e.toString())}addIndex(e,n){W(e!==oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(xe.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Uh(r,e.getCompare()):a=ws;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new fi(c,u)}addToIndexes(e,n){const r=kh(this.indexes_,(i,o)=>{const s=_a(this.indexSet_,o);if(W(s,"Missing index implementation for "+o),i===ws)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(xe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Uh(a,s.getCompare())}else return ws;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new xe(e.name,a))),l.insert(e,e.node)}});return new fi(r,this.indexSet_)}removeFromIndexes(e,n){const r=kh(this.indexes_,i=>{if(i===ws)return i;{const o=n.get(e.name);return o?i.remove(new xe(e.name,o)):i}});return new fi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl;class Ue{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZR(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yl||(yl=new Ue(new Br(B_),null,fi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yl}updatePriority(e){return this.children_.isEmpty()?this:new Ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yl:n}}getChild(e){const n=Re(e);return n===null?this:this.getImmediateChild(n).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new xe(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?yl:this.priorityNode_;return new Ue(i,s,o)}}updateChild(e,n){const r=Re(e);if(r===null)return n;{W(Re(e)!==".priority"||co(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ze(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(hn,(s,a)=>{n[s]=a.val(e),r++,o&&Ue.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JR(this.getPriority().val())+":"),this.forEachChild(hn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":IR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new xe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new xe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,xe.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sc?-1:0}withIndex(e){if(e===oa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(hn),i=n.getIterator(hn);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===oa?null:this.indexMap_.get(e.toString())}}Ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Y4 extends Ue{constructor(){super(new Br(B_),Ue.EMPTY_NODE,fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ue.EMPTY_NODE}isEmpty(){return!1}}const Sc=new Y4;Object.defineProperties(xe,{MIN:{value:new xe(Ea,Ue.EMPTY_NODE)},MAX:{value:new xe(Zo,Sc)}});XR.__EMPTY_NODE=Ue.EMPTY_NODE;Nt.__childrenNodeConstructor=Ue;W4(Sc);q4(Sc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=!0;function cn(t,e=null){if(t===null)return Ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Nt(n,cn(e))}if(!(t instanceof Array)&&X4){const n=[];let r=!1;if(ur(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=cn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new xe(s,l)))}}),n.length===0)return Ue.EMPTY_NODE;const o=Uh(n,z4,s=>s.name,B_);if(r){const s=Uh(n,hn.getCompare());return new Ue(o,cn(e),new fi({".priority":s},{".priority":hn}))}else return new Ue(o,cn(e),fi.Default)}else{let n=Ue.EMPTY_NODE;return ur(t,(r,i)=>{if(Oi(t,r)&&r.substring(0,1)!=="."){const o=cn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(cn(e))}}H4(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4 extends jf{constructor(e){super(),this.indexPath_=e,W(!Se(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?za(e.name,n.name):o}makePost(e,n){const r=cn(e),i=Ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new xe(n,i)}maxPost(){const e=Ue.EMPTY_NODE.updateChild(this.indexPath_,Sc);return new xe(Zo,e)}toString(){return KR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4 extends jf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?za(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,n){const r=cn(e);return new xe(n,r)}toString(){return".value"}}const eF=new Z4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return{type:"value",snapshotNode:t}}function nF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function jE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ea}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const e=new j_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===hn?n="$priority":t.index_===eF?n="$value":t.index_===oa?n="$key":(W(t.index_ instanceof J4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Qt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Qt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Qt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==hn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends WR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Cc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Bh.getListenId_(e,r),a={};this.listens_[s]=a;const l=zE(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),_a(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Bh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=zE(e._queryParams),r=e._path.toString(),i=new C_;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ba(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Lu(a.responseText)}catch{jn("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&jn("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.rootNode_=Ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(){return{value:null,children:new Map}}function nx(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Re(e);t.children.has(r)||t.children.set(r,jh());const i=t.children.get(r);e=Ze(e),nx(i,e,n)}}function Py(t,e,n){t.value!==null?n(e,t.value):sF(t,(r,i)=>{const o=new nt(e.toString()+"/"+r);Py(i,o,n)})}function sF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ur(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=10*1e3,lF=30*1e3,uF=5*60*1e3;class cF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aF(e);const r=HE+(lF-HE)*Math.random();ru(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ur(e,(i,o)=>{o>0&&Oi(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ru(this.reportStats_.bind(this),Math.floor(Math.random()*2*uF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jr||(jr={}));function rx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ix(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ox(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jr.ACK_USER_WRITE,this.source=rx()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new zh(qe(),n,this.revert)}}else return W(Re(this.path)===e,"operationForChild called for unrelated child."),new zh(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jr.OVERWRITE}operationForChild(e){return Se(this.path)?new es(this.source,qe(),this.snap.getImmediateChild(e)):new es(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jr.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new es(this.source,qe(),n.value):new Bu(this.source,qe(),n)}else return W(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bu(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dF(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(iF(s.childName,s.snapshotNode))}),vl(t,i,"child_removed",e,r,n),vl(t,i,"child_added",e,r,n),vl(t,i,"child_moved",o,r,n),vl(t,i,"child_changed",e,r,n),vl(t,i,"value",e,r,n),i}function vl(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>fF(t,a,l)),s.forEach(a=>{const l=hF(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function hF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fF(t,e,n){if(e.childName==null||n.childName==null)throw Ua("Should only compare child_ events.");const r=new xe(e.childName,e.snapshotNode),i=new xe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){return{eventCache:t,serverCache:e}}function iu(t,e,n,r){return sx(new z_(e,n,r),t.serverCache)}function ax(t,e,n,r){return sx(t.eventCache,new z_(e,n,r))}function ky(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ts(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const pF=()=>(Xm||(Xm=new Br(e4)),Xm);class Je{constructor(e,n=pF()){this.value=e,this.children=n}static fromObject(e){let n=new Je(null);return ur(e,(r,i)=>{n=n.set(new nt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:qe(),value:this.value};if(Se(e))return null;{const r=Re(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Ze(e),n);return o!=null?{path:Lt(new nt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Re(e),r=this.children.get(n);return r!==null?r.subtree(Ze(e)):new Je(null)}}set(e,n){if(Se(e))return new Je(n,this.children);{const r=Re(e),o=(this.children.get(r)||new Je(null)).set(Ze(e),n),s=this.children.insert(r,o);return new Je(this.value,s)}}remove(e){if(Se(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const n=Re(e),r=this.children.get(n);if(r){const i=r.remove(Ze(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Je(null):new Je(this.value,o)}else return this}}get(e){if(Se(e))return this.value;{const n=Re(e),r=this.children.get(n);return r?r.get(Ze(e)):null}}setTree(e,n){if(Se(e))return n;{const r=Re(e),o=(this.children.get(r)||new Je(null)).setTree(Ze(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Je(this.value,s)}}fold(e){return this.fold_(qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Lt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;{const o=Re(e),s=this.children.get(o);return s?s.findOnPath_(Ze(e),Lt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,qe(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const i=Re(e),o=this.children.get(i);return o?o.foreachOnPath_(Ze(e),Lt(n,i),r):new Je(null)}}foreach(e){this.foreach_(qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.writeTree_=e}static empty(){return new kr(new Je(null))}}function ou(t,e,n){if(Se(e))return new kr(new Je(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ir(i,e);return o=o.updateChild(s,n),new kr(t.writeTree_.set(i,o))}else{const i=new Je(n),o=t.writeTree_.setTree(e,i);return new kr(o)}}}function qE(t,e,n){let r=t;return ur(n,(i,o)=>{r=ou(r,Lt(e,i),o)}),r}function KE(t,e){if(Se(e))return kr.empty();{const n=t.writeTree_.setTree(e,new Je(null));return new kr(n)}}function Ay(t,e){return ps(t,e)!=null}function ps(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ir(n.path,e)):null}function GE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(hn,(r,i)=>{e.push(new xe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new xe(r,i.value))}),e}function oo(t,e){if(Se(e))return t;{const n=ps(t,e);return n!=null?new kr(new Je(n)):new kr(t.writeTree_.subtree(e))}}function Oy(t){return t.writeTree_.isEmpty()}function Ta(t,e){return lx(qe(),t.writeTree_,e)}function lx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(W(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=lx(Lt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e){return px(e,t)}function mF(t,e,n,r,i){W(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ou(t.visibleWrites,e,n)),t.lastWriteId=r}function gF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function yF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&vF(a,r.path)?i=!1:Sr(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return _F(t),!0;if(r.snap)t.visibleWrites=KE(t.visibleWrites,r.path);else{const a=r.children;ur(a,l=>{t.visibleWrites=KE(t.visibleWrites,Lt(r.path,l))})}return!0}else return!1}function vF(t,e){if(t.snap)return Sr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sr(Lt(t.path,n),e))return!0;return!1}function _F(t){t.visibleWrites=cx(t.allWrites,wF,qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function wF(t){return t.visible}function cx(t,e,n){let r=kr.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Sr(n,s)?(a=ir(n,s),r=ou(r,a,o.snap)):Sr(s,n)&&(a=ir(s,n),r=ou(r,qe(),o.snap.getChild(a)));else if(o.children){if(Sr(n,s))a=ir(n,s),r=qE(r,a,o.children);else if(Sr(s,n))if(a=ir(s,n),Se(a))r=qE(r,qe(),o.children);else{const l=_a(o.children,Re(a));if(l){const u=l.getChild(Ze(a));r=ou(r,qe(),u)}}}else throw Ua("WriteRecord should have .snap or .children")}}return r}function dx(t,e,n,r,i){if(!r&&!i){const o=ps(t.visibleWrites,e);if(o!=null)return o;{const s=oo(t.visibleWrites,e);if(Oy(s))return n;if(n==null&&!Ay(s,qe()))return null;{const a=n||Ue.EMPTY_NODE;return Ta(s,a)}}}else{const o=oo(t.visibleWrites,e);if(!i&&Oy(o))return n;if(!i&&n==null&&!Ay(o,qe()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Sr(u.path,e)||Sr(e,u.path))},a=cx(t.allWrites,s,e),l=n||Ue.EMPTY_NODE;return Ta(a,l)}}}function EF(t,e,n){let r=Ue.EMPTY_NODE;const i=ps(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=oo(t.visibleWrites,e);return n.forEachChild(hn,(s,a)=>{const l=Ta(oo(o,new nt(s)),a);r=r.updateImmediateChild(s,l)}),GE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=oo(t.visibleWrites,e);return GE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function TF(t,e,n,r,i){W(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Lt(e,n);if(Ay(t.visibleWrites,o))return null;{const s=oo(t.visibleWrites,o);return Oy(s)?i.getChild(n):Ta(s,i.getChild(n))}}function CF(t,e,n,r){const i=Lt(e,n),o=ps(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=oo(t.visibleWrites,i);return Ta(s,r.getNode().getImmediateChild(n))}else return null}function IF(t,e){return ps(t.visibleWrites,e)}function SF(t,e,n,r,i,o,s){let a;const l=oo(t.visibleWrites,e),u=ps(l,qe());if(u!=null)a=u;else if(n!=null)a=Ta(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function bF(){return{visibleWrites:kr.empty(),allWrites:[],lastWriteId:-1}}function Ny(t,e,n,r){return dx(t.writeTree,t.treePath,e,n,r)}function hx(t,e){return EF(t.writeTree,t.treePath,e)}function QE(t,e,n,r){return TF(t.writeTree,t.treePath,e,n,r)}function Wh(t,e){return IF(t.writeTree,Lt(t.treePath,e))}function RF(t,e,n,r,i,o){return SF(t.writeTree,t.treePath,e,n,r,i,o)}function W_(t,e,n){return CF(t.writeTree,t.treePath,e,n)}function fx(t,e){return px(Lt(t.treePath,e),t.writeTree)}function px(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,jE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,rF(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,nF(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,jE(r,e.snapshotNode,i.oldSnap));else throw Ua("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const mx=new PF;class H_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new z_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ts(this.viewCache_),o=RF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function kF(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function AF(t,e,n,r,i){const o=new xF;let s,a;if(n.type===jr.OVERWRITE){const u=n;u.source.fromUser?s=My(t,e,u.path,u.snap,r,i,o):(W(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),s=Hh(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===jr.MERGE){const u=n;u.source.fromUser?s=NF(t,e,u.path,u.children,r,i,o):(W(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Dy(t,e,u.path,u.children,r,i,a,o))}else if(n.type===jr.ACK_USER_WRITE){const u=n;u.revert?s=LF(t,e,u.path,r,i,o):s=MF(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===jr.LISTEN_COMPLETE)s=DF(t,e,n.path,r,o);else throw Ua("Unknown operation type: "+n.type);const l=o.getChanges();return OF(e,s,l),{viewCache:s,changes:l}}function OF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ky(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(tF(ky(e)))}}function gx(t,e,n,r,i,o){const s=e.eventCache;if(Wh(r,n)!=null)return e;{let a,l;if(Se(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ts(e),c=u instanceof Ue?u:Ue.EMPTY_NODE,d=hx(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=Ny(r,ts(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Re(n);if(u===".priority"){W(co(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=QE(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=Ze(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=QE(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(u).updateChild(c,h):d=s.getNode().getImmediateChild(u)}else d=W_(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return iu(e,a,s.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Hh(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Se(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Re(n);if(!l.isCompleteForPath(n)&&co(n)>1)return e;const m=Ze(n),C=l.getNode().getImmediateChild(f).updateChild(m,r);f===".priority"?u=c.updatePriority(l.getNode(),C):u=c.updateChild(l.getNode(),f,C,m,mx,null)}const d=ax(e,u,l.isFullyInitialized()||Se(n),c.filtersNodes()),h=new H_(i,d,o);return gx(t,d,n,i,h,a)}function My(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new H_(i,e,o);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=iu(e,u,!0,t.filter.filtersNodes());else{const d=Re(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=iu(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Ze(n),f=a.getNode().getImmediateChild(d);let m;if(Se(h))m=r;else{const v=c.getCompleteChild(d);v!=null?qR(h)===".priority"&&v.getChild(GR(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=Ue.EMPTY_NODE}if(f.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,c,s);l=iu(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YE(t,e){return t.eventCache.isCompleteForChild(e)}function NF(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Lt(n,l);YE(e,Re(c))&&(a=My(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Lt(n,l);YE(e,Re(c))||(a=My(t,a,c,u,i,o,s))}),a}function XE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Dy(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Se(n)?u=r:u=new Je(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),m=XE(t,f,h);l=Hh(t,l,new nt(d),m,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const m=e.serverCache.getNode().getImmediateChild(d),v=XE(t,m,h);l=Hh(t,l,new nt(d),v,i,o,s,a)}}),l}function MF(t,e,n,r,i,o,s){if(Wh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hh(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Se(n)){let u=new Je(null);return l.getNode().forEachChild(oa,(c,d)=>{u=u.set(new nt(c),d)}),Dy(t,e,n,u,i,o,a,s)}else return e}else{let u=new Je(null);return r.foreach((c,d)=>{const h=Lt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Dy(t,e,n,u,i,o,a,s)}}function DF(t,e,n,r,i){const o=e.serverCache,s=ax(e,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return gx(t,s,n,r,mx,i)}function LF(t,e,n,r,i,o){let s;if(Wh(r,n)!=null)return e;{const a=new H_(r,e,i),l=e.eventCache.getNode();let u;if(Se(n)||Re(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Ny(r,ts(e));else{const d=e.serverCache.getNode();W(d instanceof Ue,"serverChildren would be complete if leaf node"),c=hx(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=Re(n);let d=W_(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Ze(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ue.EMPTY_NODE,Ze(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ny(r,ts(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Wh(r,qe())!=null,iu(e,u,s,t.filter.filtersNodes())}}function $F(t,e){const n=ts(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Re(e)).isEmpty())?n.getChild(e):null}function JE(t,e,n,r){e.type===jr.MERGE&&e.source.queryId!==null&&(W(ts(t.viewCache_),"We should always have a full cache before handling merges"),W(ky(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=AF(t.processor_,i,e,n,r);return kF(t.processor_,o.viewCache),W(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,FF(t,o.changes,o.viewCache.eventCache.getNode(),null)}function FF(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return dF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE;function VF(t){W(!ZE,"__referenceConstructor has already been defined"),ZE=t}function q_(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return W(o!=null,"SyncTree gave us an op for an invalid query."),JE(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(JE(s,e,n,r));return o}}function K_(t,e){let n=null;for(const r of t.views.values())n=n||$F(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT;function UF(t){W(!eT,"__referenceConstructor has already been defined"),eT=t}class tT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=bF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BF(t,e,n,r,i){return mF(t.pendingWriteTree_,e,n,r,i),i?Wf(t,new es(rx(),e,n)):[]}function Ks(t,e,n=!1){const r=gF(t.pendingWriteTree_,e);if(yF(t.pendingWriteTree_,e)){let o=new Je(null);return r.snap!=null?o=o.set(qe(),!0):ur(r.children,s=>{o=o.set(new nt(s),!0)}),Wf(t,new zh(r.path,o,n))}else return[]}function zf(t,e,n){return Wf(t,new es(ix(),e,n))}function jF(t,e,n){const r=Je.fromObject(n);return Wf(t,new Bu(ix(),e,r))}function zF(t,e,n,r){const i=wx(t,r);if(i!=null){const o=Ex(i),s=o.path,a=o.queryId,l=ir(s,e),u=new es(ox(a),l,n);return Tx(t,s,u)}else return[]}function WF(t,e,n,r){const i=wx(t,r);if(i){const o=Ex(i),s=o.path,a=o.queryId,l=ir(s,e),u=Je.fromObject(n),c=new Bu(ox(a),l,u);return Tx(t,s,c)}else return[]}function yx(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ir(s,e),u=K_(a,l);if(u)return u});return dx(i,e,o,n,!0)}function Wf(t,e){return vx(e,t.syncPointTree_,null,ux(t.pendingWriteTree_,qe()))}function vx(t,e,n,r){if(Se(t.path))return _x(t,e,n,r);{const i=e.get(qe());n==null&&i!=null&&(n=K_(i,qe()));let o=[];const s=Re(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=fx(r,s);o=o.concat(vx(a,l,u,c))}return i&&(o=o.concat(q_(i,t,r,n))),o}}function _x(t,e,n,r){const i=e.get(qe());n==null&&i!=null&&(n=K_(i,qe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=fx(r,s),c=t.operationForChild(s);c&&(o=o.concat(_x(c,a,l,u)))}),i&&(o=o.concat(q_(i,t,r,n))),o}function wx(t,e){return t.tagToQueryMap.get(e)}function Ex(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function Tx(t,e,n){const r=t.syncPointTree_.get(e);W(r,"Missing sync point for query tag that we're tracking");const i=ux(t.pendingWriteTree_,e);return q_(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new G_(n)}node(){return this.node_}}class Q_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Lt(this.path_,e);return new Q_(this.syncTree_,n)}node(){return yx(this.syncTree_,this.path_)}}const HF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nT=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return KF(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},KF=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);const i=e.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},GF=function(t,e,n,r){return Y_(e,new Q_(n,t),r)},QF=function(t,e,n){return Y_(t,new G_(e),n)};function Y_(t,e,n){const r=t.getPriority().val(),i=nT(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=nT(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Nt(a,cn(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Nt(i))),s.forEachChild(hn,(a,l)=>{const u=Y_(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function J_(t,e){let n=e instanceof nt?e:new nt(e),r=t,i=Re(n);for(;i!==null;){const o=_a(r.node.children,i)||{children:{},childCount:0};r=new X_(i,r,o),n=Ze(n),i=Re(n)}return r}function Wa(t){return t.node.value}function Cx(t,e){t.node.value=e,Ly(t)}function Ix(t){return t.node.childCount>0}function YF(t){return Wa(t)===void 0&&!Ix(t)}function Hf(t,e){ur(t.node.children,(n,r)=>{e(new X_(n,t,r))})}function Sx(t,e,n,r){n&&!r&&e(t),Hf(t,i=>{Sx(i,e,!0,r)}),n&&r&&e(t)}function XF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bc(t){return new nt(t.parent===null?t.name:bc(t.parent)+"/"+t.name)}function Ly(t){t.parent!==null&&JF(t.parent,t.name,t)}function JF(t,e,n){const r=YF(n),i=Oi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ly(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ly(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=/[\[\].#$\/\u0000-\u001F\u007F]/,e5=/[\[\].#$\u0000-\u001F\u007F]/,Jm=10*1024*1024,bx=function(t){return typeof t=="string"&&t.length!==0&&!ZF.test(t)},t5=function(t){return typeof t=="string"&&t.length!==0&&!e5.test(t)},n5=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),t5(t)},Rx=function(t,e,n){const r=n instanceof nt?new D4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+bo(r));if(typeof e=="function")throw new Error(t+"contains a function "+bo(r)+" with contents = "+e.toString());if(SR(e))throw new Error(t+"contains "+e.toString()+" "+bo(r));if(typeof e=="string"&&e.length>Jm/3&&Df(e)>Jm)throw new Error(t+"contains a string greater than "+Jm+" utf8 bytes "+bo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ur(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!bx(s)))throw new Error(t+" contains an invalid key ("+s+") "+bo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);L4(r,s),Rx(t,a,r),$4(r)}),i&&o)throw new Error(t+' contains ".value" child '+bo(r)+" in addition to actual children.")}},r5=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!n5(n))throw new Error(LM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function o5(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!QR(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ms(t,e,n){o5(t,n),s5(t,r=>Sr(r,e)||Sr(e,r))}function s5(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(a5(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function a5(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jo&&un("event: "+n.toString()),Ic(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="repo_interrupt",u5=25;class c5{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new i5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jh(),this.transactionQueueTree_=new X_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d5(t,e,n){if(t.stats_=F_(t.repoInfo_),t.forceRestClient_||s4())t.server_=new Bh(t.repoInfo_,(r,i,o,s)=>{rT(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>iT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gi(t.repoInfo_,e,(r,i,o,s)=>{rT(t,r,i,o,s)},r=>{iT(t,r)},r=>{f5(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=d4(t.repoInfo_,()=>new cF(t.stats_,t.server_)),t.infoData_=new oF,t.infoSyncTree_=new tT({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=zf(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Z_(t,"connected",!1),t.serverSyncTree_=new tT({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);ms(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function h5(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xx(t){return HF({timestamp:h5(t)})}function rT(t,e,n,r,i){t.dataUpdateCount++;const o=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=kh(n,u=>cn(u));s=WF(t.serverSyncTree_,o,l,i)}else{const l=cn(n);s=zF(t.serverSyncTree_,o,l,i)}else if(r){const l=kh(n,u=>cn(u));s=jF(t.serverSyncTree_,o,l)}else{const l=cn(n);s=zf(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=t0(t,o)),ms(t.eventQueue_,a,s)}function iT(t,e){Z_(t,"connected",e),e===!1&&m5(t)}function f5(t,e){ur(e,(n,r)=>{Z_(t,n,r)})}function Z_(t,e,n){const r=new nt("/.info/"+e),i=cn(n);t.infoData_.updateSnapshot(r,i);const o=zf(t.infoSyncTree_,r,i);ms(t.eventQueue_,r,o)}function p5(t){return t.nextWriteId_++}function m5(t){Px(t,"onDisconnectEvents");const e=xx(t),n=jh();Py(t.onDisconnect_,qe(),(i,o)=>{const s=GF(i,o,t.serverSyncTree_,e);nx(n,i,s)});let r=[];Py(n,qe(),(i,o)=>{r=r.concat(zf(t.serverSyncTree_,i,o));const s=_5(t,i);t0(t,s)}),t.onDisconnect_=jh(),ms(t.eventQueue_,qe(),r)}function g5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(l5)}function Px(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),un(n,...e)}function kx(t,e,n){return yx(t.serverSyncTree_,e,n)||Ue.EMPTY_NODE}function e0(t,e=t.transactionQueueTree_){if(e||qf(t,e),Wa(e)){const n=Ox(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&y5(t,bc(e),n)}else Ix(e)&&Hf(e,n=>{e0(t,n)})}function y5(t,e,n){const r=n.map(u=>u.currentWriteId),i=kx(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];W(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ir(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Px(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Ks(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();qf(t,J_(t.transactionQueueTree_,e)),e0(t,t.transactionQueueTree_),ms(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Ic(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{jn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}t0(t,e)}},s)}function t0(t,e){const n=Ax(t,e),r=bc(n),i=Ox(t,n);return v5(t,i,r),r}function v5(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ir(n,l.path);let c=!1,d;if(W(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Ks(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=u5)c=!0,d="maxretry",i=i.concat(Ks(t.serverSyncTree_,l.currentWriteId,!0));else{const h=kx(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Rx("transaction failed: Data returned ",f,l.path);let m=cn(f);typeof f=="object"&&f!=null&&Oi(f,".priority")||(m=m.updatePriority(h.getPriority()));const C=l.currentWriteId,p=xx(t),g=QF(m,h,p);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=p5(t),s.splice(s.indexOf(C),1),i=i.concat(BF(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Ks(t.serverSyncTree_,C,!0))}else c=!0,d="nodata",i=i.concat(Ks(t.serverSyncTree_,l.currentWriteId,!0))}ms(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}qf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ic(r[a]);e0(t,t.transactionQueueTree_)}function Ax(t,e){let n,r=t.transactionQueueTree_;for(n=Re(e);n!==null&&Wa(r)===void 0;)r=J_(r,n),e=Ze(e),n=Re(e);return r}function Ox(t,e){const n=[];return Nx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Nx(t,e,n){const r=Wa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hf(e,i=>{Nx(t,i,n)})}function qf(t,e){const n=Wa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Cx(e,n.length>0?n:void 0)}Hf(e,r=>{qf(t,r)})}function _5(t,e){const n=bc(Ax(t,e)),r=J_(t.transactionQueueTree_,e);return XF(r,i=>{Zm(t,i)}),Zm(t,r),Sx(r,i=>{Zm(t,i)}),n}function Zm(t,e){const n=Wa(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(W(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(W(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ks(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Cx(e,void 0):n.length=o+1,ms(t.eventQueue_,bc(e),i);for(let s=0;s<r.length;s++)Ic(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function E5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jn(`Invalid query segment '${n}' in query '${t}'`)}return e}const oT=function(t,e){const n=T5(t),r=n.namespace;n.domain==="firebase.com"&&Ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||J$();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $R(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new nt(n.pathString)}},T5=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=w5(t.substring(c,d)));const h=E5(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Se(this._path)?null:qR(this._path)}get ref(){return new Ha(this._repo,this._path)}get _queryIdentifier(){const e=WE(this._queryParams),n=L_(e);return n==="{}"?"default":n}get _queryObject(){return WE(this._queryParams)}isEqual(e){if(e=Mn(e),!(e instanceof n0))return!1;const n=this._repo===e._repo,r=QR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+M4(this._path)}}class Ha extends n0{constructor(e,n){super(e,n,new j_,!1)}get parent(){const e=GR(this._path);return e===null?null:new Ha(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}VF(Ha);UF(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="FIREBASE_DATABASE_EMULATOR_HOST",$y={};let I5=!1;function S5(t,e,n,r){t.repoInfo_=new $R(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function b5(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),un("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=oT(o,i),a=s.repoInfo,l,u;typeof process<"u"&&SE&&(u=SE[C5]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=oT(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new ia(ia.OWNER):new l4(t.name,t.options,e);r5("Invalid Firebase Database URL",s),Se(s.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");const d=x5(a,t,c,new a4(t.name,n));return new P5(d,t)}function R5(t,e){const n=$y[e];(!n||n[t.key]!==t)&&Ii(`Database ${e}(${t.repoInfo_}) has already been deleted.`),g5(t),delete n[t.key]}function x5(t,e,n,r){let i=$y[e.name];i||(i={},$y[e.name]=i);let o=i[t.toURLString()];return o&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new c5(t,I5,n,r),i[t.toURLString()]=o,o}class P5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ha(this._repo,qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(R5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ii("Cannot call "+e+" on a deleted database.")}}function k5(t=b_(),e){const n=$f(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Mb("database");r&&A5(n,...r)}return n}function A5(t,e,n,r={}){t=Mn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ii("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ia(ia.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:$b(r.mockUserToken,t.app.options.projectId);o=new ia(s)}S5(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){K$(fs),Xo(new uo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return b5(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Kr(bE,RE,t),Kr(bE,RE,"esm2017")}gi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};O5();const N5={apiKey:"AIzaSyDBGOZ8_b0GXzFK7v9gtmLjNzcoVdDU0Jw",databaseURL:"https://wordsprint-4ffc8-default-rtdb.firebaseio.com/",authDomain:"wordsprint-4ffc8.firebaseapp.com",projectId:"wordsprint-4ffc8",storageBucket:"wordsprint-4ffc8.appspot.com",messagingSenderId:"642113931063",appId:"1:642113931063:web:c9335d91d741c649dffcb2"},M5=zb(N5),Mx=W$(),D5=new ai;k5(M5);function ho(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Rc="$$material";function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E.apply(this,arguments)}function Q(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dx(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var L5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$5=Dx(function(t){return L5.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function F5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function V5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var U5=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(V5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=F5(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),sn="-ms-",qh="-moz-",Le="-webkit-",Lx="comm",r0="rule",i0="decl",B5="@import",$x="@keyframes",j5="@layer",z5=Math.abs,Kf=String.fromCharCode,W5=Object.assign;function H5(t,e){return Ht(t,0)^45?(((e<<2^Ht(t,0))<<2^Ht(t,1))<<2^Ht(t,2))<<2^Ht(t,3):0}function Fx(t){return t.trim()}function q5(t,e){return(t=e.exec(t))?t[0]:t}function $e(t,e,n){return t.replace(e,n)}function Fy(t,e){return t.indexOf(e)}function Ht(t,e){return t.charCodeAt(e)|0}function ju(t,e,n){return t.slice(e,n)}function $r(t){return t.length}function o0(t){return t.length}function gd(t,e){return e.push(t),t}function K5(t,e){return t.map(e).join("")}var Gf=1,Ca=1,Vx=0,Dn=0,Ct=0,qa="";function Qf(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Gf,column:Ca,length:s,return:""}}function _l(t,e){return W5(Qf("",null,null,"",null,null,0),t,{length:-t.length},e)}function G5(){return Ct}function Q5(){return Ct=Dn>0?Ht(qa,--Dn):0,Ca--,Ct===10&&(Ca=1,Gf--),Ct}function zn(){return Ct=Dn<Vx?Ht(qa,Dn++):0,Ca++,Ct===10&&(Ca=1,Gf++),Ct}function Yr(){return Ht(qa,Dn)}function Qd(){return Dn}function xc(t,e){return ju(qa,t,e)}function zu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ux(t){return Gf=Ca=1,Vx=$r(qa=t),Dn=0,[]}function Bx(t){return qa="",t}function Yd(t){return Fx(xc(Dn-1,Vy(t===91?t+2:t===40?t+1:t)))}function Y5(t){for(;(Ct=Yr())&&Ct<33;)zn();return zu(t)>2||zu(Ct)>3?"":" "}function X5(t,e){for(;--e&&zn()&&!(Ct<48||Ct>102||Ct>57&&Ct<65||Ct>70&&Ct<97););return xc(t,Qd()+(e<6&&Yr()==32&&zn()==32))}function Vy(t){for(;zn();)switch(Ct){case t:return Dn;case 34:case 39:t!==34&&t!==39&&Vy(Ct);break;case 40:t===41&&Vy(t);break;case 92:zn();break}return Dn}function J5(t,e){for(;zn()&&t+Ct!==57;)if(t+Ct===84&&Yr()===47)break;return"/*"+xc(e,Dn-1)+"*"+Kf(t===47?t:zn())}function Z5(t){for(;!zu(Yr());)zn();return xc(t,Dn)}function eV(t){return Bx(Xd("",null,null,null,[""],t=Ux(t),0,[0],t))}function Xd(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,f=0,m=0,v=1,C=1,p=1,g=0,y="",_=i,I=o,S=r,b=y;C;)switch(m=g,g=zn()){case 40:if(m!=108&&Ht(b,d-1)==58){Fy(b+=$e(Yd(g),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:b+=Yd(g);break;case 9:case 10:case 13:case 32:b+=Y5(m);break;case 92:b+=X5(Qd()-1,7);continue;case 47:switch(Yr()){case 42:case 47:gd(tV(J5(zn(),Qd()),e,n),l);break;default:b+="/"}break;case 123*v:a[u++]=$r(b)*p;case 125*v:case 59:case 0:switch(g){case 0:case 125:C=0;case 59+c:p==-1&&(b=$e(b,/\f/g,"")),f>0&&$r(b)-d&&gd(f>32?aT(b+";",r,n,d-1):aT($e(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(gd(S=sT(b,e,n,u,c,i,a,y,_=[],I=[],d),o),g===123)if(c===0)Xd(b,e,S,S,_,o,d,a,I);else switch(h===99&&Ht(b,3)===110?100:h){case 100:case 108:case 109:case 115:Xd(t,S,S,r&&gd(sT(t,S,S,0,0,i,a,y,i,_=[],d),I),i,I,d,a,r?_:I);break;default:Xd(b,S,S,S,[""],I,0,a,I)}}u=c=f=0,v=p=1,y=b="",d=s;break;case 58:d=1+$r(b),f=m;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&Q5()==125)continue}switch(b+=Kf(g),g*v){case 38:p=c>0?1:(b+="\f",-1);break;case 44:a[u++]=($r(b)-1)*p,p=1;break;case 64:Yr()===45&&(b+=Yd(zn())),h=Yr(),c=d=$r(y=b+=Z5(Qd())),g++;break;case 45:m===45&&$r(b)==2&&(v=0)}}return o}function sT(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],f=o0(h),m=0,v=0,C=0;m<r;++m)for(var p=0,g=ju(t,d+1,d=z5(v=s[m])),y=t;p<f;++p)(y=Fx(v>0?h[p]+" "+g:$e(g,/&\f/g,h[p])))&&(l[C++]=y);return Qf(t,e,n,i===0?r0:a,l,u,c)}function tV(t,e,n){return Qf(t,e,n,Lx,Kf(G5()),ju(t,2,-2),0)}function aT(t,e,n,r){return Qf(t,e,n,i0,ju(t,0,r),ju(t,r+1,-1),r)}function sa(t,e){for(var n="",r=o0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function nV(t,e,n,r){switch(t.type){case j5:if(t.children.length)break;case B5:case i0:return t.return=t.return||t.value;case Lx:return"";case $x:return t.return=t.value+"{"+sa(t.children,r)+"}";case r0:t.value=t.props.join(",")}return $r(n=sa(t.children,r))?t.return=t.value+"{"+n+"}":""}function rV(t){var e=o0(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function iV(t){return function(e){e.root||(e=e.return)&&t(e)}}var oV=function(e,n,r){for(var i=0,o=0;i=o,o=Yr(),i===38&&o===12&&(n[r]=1),!zu(o);)zn();return xc(e,Dn)},sV=function(e,n){var r=-1,i=44;do switch(zu(i)){case 0:i===38&&Yr()===12&&(n[r]=1),e[r]+=oV(Dn-1,n,r);break;case 2:e[r]+=Yd(i);break;case 4:if(i===44){e[++r]=Yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kf(i)}while(i=zn());return e},aV=function(e,n){return Bx(sV(Ux(e),n))},lT=new WeakMap,lV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!lT.get(r))&&!i){lT.set(e,!0);for(var o=[],s=aV(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},uV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function jx(t,e){switch(H5(t,e)){case 5103:return Le+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Le+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Le+t+qh+t+sn+t+t;case 6828:case 4268:return Le+t+sn+t+t;case 6165:return Le+t+sn+"flex-"+t+t;case 5187:return Le+t+$e(t,/(\w+).+(:[^]+)/,Le+"box-$1$2"+sn+"flex-$1$2")+t;case 5443:return Le+t+sn+"flex-item-"+$e(t,/flex-|-self/,"")+t;case 4675:return Le+t+sn+"flex-line-pack"+$e(t,/align-content|flex-|-self/,"")+t;case 5548:return Le+t+sn+$e(t,"shrink","negative")+t;case 5292:return Le+t+sn+$e(t,"basis","preferred-size")+t;case 6060:return Le+"box-"+$e(t,"-grow","")+Le+t+sn+$e(t,"grow","positive")+t;case 4554:return Le+$e(t,/([^-])(transform)/g,"$1"+Le+"$2")+t;case 6187:return $e($e($e(t,/(zoom-|grab)/,Le+"$1"),/(image-set)/,Le+"$1"),t,"")+t;case 5495:case 3959:return $e(t,/(image-set\([^]*)/,Le+"$1$`$1");case 4968:return $e($e(t,/(.+:)(flex-)?(.*)/,Le+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Le+t+t;case 4095:case 3583:case 4068:case 2532:return $e(t,/(.+)-inline(.+)/,Le+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($r(t)-1-e>6)switch(Ht(t,e+1)){case 109:if(Ht(t,e+4)!==45)break;case 102:return $e(t,/(.+:)(.+)-([^]+)/,"$1"+Le+"$2-$3$1"+qh+(Ht(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fy(t,"stretch")?jx($e(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ht(t,e+1)!==115)break;case 6444:switch(Ht(t,$r(t)-3-(~Fy(t,"!important")&&10))){case 107:return $e(t,":",":"+Le)+t;case 101:return $e(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Le+(Ht(t,14)===45?"inline-":"")+"box$3$1"+Le+"$2$3$1"+sn+"$2box$3")+t}break;case 5936:switch(Ht(t,e+11)){case 114:return Le+t+sn+$e(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Le+t+sn+$e(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Le+t+sn+$e(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Le+t+sn+t+t}return t}var cV=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case i0:e.return=jx(e.value,e.length);break;case $x:return sa([_l(e,{value:$e(e.value,"@","@"+Le)})],i);case r0:if(e.length)return K5(e.props,function(o){switch(q5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sa([_l(e,{props:[$e(o,/:(read-\w+)/,":"+qh+"$1")]})],i);case"::placeholder":return sa([_l(e,{props:[$e(o,/:(plac\w+)/,":"+Le+"input-$1")]}),_l(e,{props:[$e(o,/:(plac\w+)/,":"+qh+"$1")]}),_l(e,{props:[$e(o,/:(plac\w+)/,sn+"input-$1")]})],i)}return""})}},dV=[cV],hV=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var C=v.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||dV,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var C=v.getAttribute("data-emotion").split(" "),p=1;p<C.length;p++)o[C[p]]=!0;a.push(v)});var l,u=[lV,uV];{var c,d=[nV,iV(function(v){c.insert(v)})],h=rV(u.concat(i,d)),f=function(C){return sa(eV(C),h)};l=function(C,p,g,y){c=g,f(C?C+"{"+p.styles+"}":p.styles),y&&(m.inserted[p.name]=!0)}}var m={key:n,sheet:new U5({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},zx={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=typeof Symbol=="function"&&Symbol.for,s0=Vt?Symbol.for("react.element"):60103,a0=Vt?Symbol.for("react.portal"):60106,Yf=Vt?Symbol.for("react.fragment"):60107,Xf=Vt?Symbol.for("react.strict_mode"):60108,Jf=Vt?Symbol.for("react.profiler"):60114,Zf=Vt?Symbol.for("react.provider"):60109,ep=Vt?Symbol.for("react.context"):60110,l0=Vt?Symbol.for("react.async_mode"):60111,tp=Vt?Symbol.for("react.concurrent_mode"):60111,np=Vt?Symbol.for("react.forward_ref"):60112,rp=Vt?Symbol.for("react.suspense"):60113,fV=Vt?Symbol.for("react.suspense_list"):60120,ip=Vt?Symbol.for("react.memo"):60115,op=Vt?Symbol.for("react.lazy"):60116,pV=Vt?Symbol.for("react.block"):60121,mV=Vt?Symbol.for("react.fundamental"):60117,gV=Vt?Symbol.for("react.responder"):60118,yV=Vt?Symbol.for("react.scope"):60119;function Yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case s0:switch(t=t.type,t){case l0:case tp:case Yf:case Jf:case Xf:case rp:return t;default:switch(t=t&&t.$$typeof,t){case ep:case np:case op:case ip:case Zf:return t;default:return e}}case a0:return e}}}function Wx(t){return Yn(t)===tp}ze.AsyncMode=l0;ze.ConcurrentMode=tp;ze.ContextConsumer=ep;ze.ContextProvider=Zf;ze.Element=s0;ze.ForwardRef=np;ze.Fragment=Yf;ze.Lazy=op;ze.Memo=ip;ze.Portal=a0;ze.Profiler=Jf;ze.StrictMode=Xf;ze.Suspense=rp;ze.isAsyncMode=function(t){return Wx(t)||Yn(t)===l0};ze.isConcurrentMode=Wx;ze.isContextConsumer=function(t){return Yn(t)===ep};ze.isContextProvider=function(t){return Yn(t)===Zf};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===s0};ze.isForwardRef=function(t){return Yn(t)===np};ze.isFragment=function(t){return Yn(t)===Yf};ze.isLazy=function(t){return Yn(t)===op};ze.isMemo=function(t){return Yn(t)===ip};ze.isPortal=function(t){return Yn(t)===a0};ze.isProfiler=function(t){return Yn(t)===Jf};ze.isStrictMode=function(t){return Yn(t)===Xf};ze.isSuspense=function(t){return Yn(t)===rp};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yf||t===tp||t===Jf||t===Xf||t===rp||t===fV||typeof t=="object"&&t!==null&&(t.$$typeof===op||t.$$typeof===ip||t.$$typeof===Zf||t.$$typeof===ep||t.$$typeof===np||t.$$typeof===mV||t.$$typeof===gV||t.$$typeof===yV||t.$$typeof===pV)};ze.typeOf=Yn;zx.exports=ze;var vV=zx.exports,Hx=vV,_V={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qx={};qx[Hx.ForwardRef]=_V;qx[Hx.Memo]=wV;var EV=!0;function TV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Kx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||EV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Gx=function(e,n,r){Kx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function CV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var IV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},SV=/[A-Z]|^ms/g,bV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qx=function(e){return e.charCodeAt(1)===45},uT=function(e){return e!=null&&typeof e!="boolean"},eg=Dx(function(t){return Qx(t)?t:t.replace(SV,"-$&").toLowerCase()}),cT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(bV,function(r,i,o){return Fr={name:i,styles:o,next:Fr},i})}return IV[e]!==1&&!Qx(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Fr={name:n.name,styles:n.styles,next:Fr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Fr={name:r.name,styles:r.styles,next:Fr},r=r.next;var i=n.styles+";";return i}return RV(t,e,n)}case"function":{if(t!==void 0){var o=Fr,s=n(t);return Fr=o,Wu(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function RV(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wu(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":uT(s)&&(r+=eg(o)+":"+cT(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)uT(s[a])&&(r+=eg(o)+":"+cT(o,s[a])+";");else{var l=Wu(t,e,s);switch(o){case"animation":case"animationName":{r+=eg(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var dT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fr,u0=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Fr=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Wu(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Wu(r,n,e[a]),i&&(o+=s[a]);dT.lastIndex=0;for(var l="",u;(u=dT.exec(o))!==null;)l+="-"+u[1];var c=CV(o)+l;return{name:c,styles:o,next:Fr}},xV=function(e){return e()},Yx=Cg.useInsertionEffect?Cg.useInsertionEffect:!1,PV=Yx||xV,hT=Yx||w.useLayoutEffect,Xx=w.createContext(typeof HTMLElement<"u"?hV({key:"css"}):null);Xx.Provider;var Jx=function(e){return w.forwardRef(function(n,r){var i=w.useContext(Xx);return e(n,i,r)})},c0=w.createContext({}),kV=Jx(function(t,e){var n=t.styles,r=u0([n],void 0,w.useContext(c0)),i=w.useRef();return hT(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),hT(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&Gx(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function AV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return u0(e)}var d0=function(){var e=AV.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},OV=$5,NV=function(e){return e!=="theme"},fT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?OV:NV},pT=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},MV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Kx(n,r,i),PV(function(){return Gx(n,r,i)}),null},DV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=pT(e,n,r),l=a||fT(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var m=Jx(function(v,C,p){var g=u&&v.as||i,y="",_=[],I=v;if(v.theme==null){I={};for(var S in v)I[S]=v[S];I.theme=w.useContext(c0)}typeof v.className=="string"?y=TV(C.registered,_,v.className):v.className!=null&&(y=v.className+" ");var b=u0(d.concat(_),C.registered,I);y+=C.key+"-"+b.name,s!==void 0&&(y+=" "+s);var R=u&&a===void 0?fT(g):l,O={};for(var x in v)u&&x==="as"||R(x)&&(O[x]=v[x]);return O.className=y,O.ref=p,w.createElement(w.Fragment,null,w.createElement(MV,{cache:C,serialized:b,isStringTag:typeof g=="string"}),w.createElement(g,O))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(v,C){return t(v,E({},n,C,{shouldForwardProp:pT(m,C,!0)})).apply(void 0,d)},m}},LV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Uy=DV.bind();LV.forEach(function(t){Uy[t]=Uy(t)});var Zx={exports:{}},$V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FV=$V,VV=FV;function eP(){}function tP(){}tP.resetWarningCache=eP;var UV=function(){function t(r,i,o,s,a,l){if(l!==VV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tP,resetWarningCache:eP};return n.PropTypes=n,n};Zx.exports=UV();var h0=Zx.exports;const yd=yf(h0);function BV(t){return t==null||Object.keys(t).length===0}function jV(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(BV(i)?n:i):e;return T.jsx(kV,{styles:r})}function nP(t,e){return Uy(t,e)}const zV=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function li(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function rP(t){if(!li(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=rP(t[n])}),e}function An(t,e,n={clone:!0}){const r=n.clone?E({},t):t;return li(t)&&li(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(li(e[i])&&i in t&&li(t[i])?r[i]=An(t[i],e[i],n):n.clone?r[i]=li(e[i])?rP(e[i]):e[i]:r[i]=e[i])}),r}var Ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=Symbol.for("react.element"),p0=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),cp=Symbol.for("react.context"),WV=Symbol.for("react.server_context"),dp=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),fp=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),HV=Symbol.for("react.offscreen"),iP;iP=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f0:switch(t=t.type,t){case sp:case lp:case ap:case hp:case fp:return t;default:switch(t=t&&t.$$typeof,t){case WV:case cp:case dp:case mp:case pp:case up:return t;default:return e}}case p0:return e}}}Ke.ContextConsumer=cp;Ke.ContextProvider=up;Ke.Element=f0;Ke.ForwardRef=dp;Ke.Fragment=sp;Ke.Lazy=mp;Ke.Memo=pp;Ke.Portal=p0;Ke.Profiler=lp;Ke.StrictMode=ap;Ke.Suspense=hp;Ke.SuspenseList=fp;Ke.isAsyncMode=function(){return!1};Ke.isConcurrentMode=function(){return!1};Ke.isContextConsumer=function(t){return hr(t)===cp};Ke.isContextProvider=function(t){return hr(t)===up};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f0};Ke.isForwardRef=function(t){return hr(t)===dp};Ke.isFragment=function(t){return hr(t)===sp};Ke.isLazy=function(t){return hr(t)===mp};Ke.isMemo=function(t){return hr(t)===pp};Ke.isPortal=function(t){return hr(t)===p0};Ke.isProfiler=function(t){return hr(t)===lp};Ke.isStrictMode=function(t){return hr(t)===ap};Ke.isSuspense=function(t){return hr(t)===hp};Ke.isSuspenseList=function(t){return hr(t)===fp};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sp||t===lp||t===ap||t===hp||t===fp||t===HV||typeof t=="object"&&t!==null&&(t.$$typeof===mp||t.$$typeof===pp||t.$$typeof===up||t.$$typeof===cp||t.$$typeof===dp||t.$$typeof===iP||t.getModuleId!==void 0)};Ke.typeOf=hr;function K(t){if(typeof t!="string")throw new Error(ho(7));return t.charAt(0).toUpperCase()+t.slice(1)}function mT(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function oP(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function tg(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Cn(t){return t&&t.ownerDocument||document}function ns(t){return Cn(t).defaultView||window}function By(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Or=typeof window<"u"?w.useLayoutEffect:w.useEffect;let gT=0;function qV(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(gT+=1,n(`mui-${gT}`))},[e]),r}const yT=Cg.useId;function Hu(t){if(yT!==void 0){const e=yT();return t??e}return qV(t)}function jy({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[o,s]=w.useState(e),a=i?t:o,l=w.useCallback(u=>{i||s(u)},[]);return[a,l]}function Mo(t){const e=w.useRef(t);return Or(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function St(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{By(n,e)})},t)}let gp=!0,zy=!1,vT;const KV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function GV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&KV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function QV(t){t.metaKey||t.altKey||t.ctrlKey||(gp=!0)}function ng(){gp=!1}function YV(){this.visibilityState==="hidden"&&zy&&(gp=!0)}function XV(t){t.addEventListener("keydown",QV,!0),t.addEventListener("mousedown",ng,!0),t.addEventListener("pointerdown",ng,!0),t.addEventListener("touchstart",ng,!0),t.addEventListener("visibilitychange",YV,!0)}function JV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return gp||GV(e)}function sP(){const t=w.useCallback(i=>{i!=null&&XV(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(zy=!0,window.clearTimeout(vT),vT=window.setTimeout(()=>{zy=!1},100),e.current=!1,!0):!1}function r(i){return JV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function aP(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function lP(t,e){const n=E({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=E({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=E({},o),Object.keys(i).forEach(s=>{n[r][s]=lP(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function ye(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const _T=t=>t,ZV=()=>{let t=_T;return{configure(e){t=e},generate(e){return t(e)},reset(){t=_T}}},uP=ZV(),e3={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ge(t,e,n="Mui"){const r=e3[e];return r?`${n}-${r}`:`${uP.generate(t)}-${e}`}function me(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ge(t,i,n)}),r}const t3=["values","unit","step"],n3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>E({},n,{[r.key]:r.val}),{})};function r3(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Q(t,t3),o=n3(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const m=s.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:f)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function d(h){const f=s.indexOf(h);return f===0?a(s[1]):f===s.length-1?l(s[f]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return E({keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const i3={borderRadius:4},o3=i3;function su(t,e){return e?An(t,e,{clone:!1}):t}const m0={xs:0,sm:600,md:900,lg:1200,xl:1536},wT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${m0[t]}px)`};function Si(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||wT;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||wT;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||m0).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function s3(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function a3(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function yp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Kh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=yp(t,n)||r,e&&(i=e(i,r,t)),i}function _t(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=yp(l,r)||{};return Si(s,a,d=>{let h=Kh(u,i,d);return d===h&&typeof d=="string"&&(h=Kh(u,i,`${e}${d==="default"?"":K(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function l3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const u3={m:"margin",p:"padding"},c3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ET={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},d3=l3(t=>{if(t.length>2)if(ET[t])t=ET[t];else return[t];const[e,n]=t.split(""),r=u3[e],i=c3[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),g0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],y0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...g0,...y0];function Pc(t,e,n,r){var i;const o=(i=yp(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function cP(t){return Pc(t,"spacing",8)}function kc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function h3(t,e){return n=>t.reduce((r,i)=>(r[i]=kc(e,n),r),{})}function f3(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=d3(n),o=h3(i,r),s=t[n];return Si(t,s,o)}function dP(t,e){const n=cP(t.theme);return Object.keys(t).map(r=>f3(t,e,r,n)).reduce(su,{})}function ht(t){return dP(t,g0)}ht.propTypes={};ht.filterProps=g0;function ft(t){return dP(t,y0)}ft.propTypes={};ft.filterProps=y0;function p3(t=8){if(t.mui)return t;const e=cP({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function vp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?su(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function er(t){return typeof t!="number"?t:`${t}px solid`}function fr(t,e){return _t({prop:t,themeKey:"borders",transform:e})}const m3=fr("border",er),g3=fr("borderTop",er),y3=fr("borderRight",er),v3=fr("borderBottom",er),_3=fr("borderLeft",er),w3=fr("borderColor"),E3=fr("borderTopColor"),T3=fr("borderRightColor"),C3=fr("borderBottomColor"),I3=fr("borderLeftColor"),S3=fr("outline",er),b3=fr("outlineColor"),_p=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Pc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:kc(e,r)});return Si(t,t.borderRadius,n)}return null};_p.propTypes={};_p.filterProps=["borderRadius"];vp(m3,g3,y3,v3,_3,w3,E3,T3,C3,I3,_p,S3,b3);const wp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({gap:kc(e,r)});return Si(t,t.gap,n)}return null};wp.propTypes={};wp.filterProps=["gap"];const Ep=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({columnGap:kc(e,r)});return Si(t,t.columnGap,n)}return null};Ep.propTypes={};Ep.filterProps=["columnGap"];const Tp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Pc(t.theme,"spacing",8),n=r=>({rowGap:kc(e,r)});return Si(t,t.rowGap,n)}return null};Tp.propTypes={};Tp.filterProps=["rowGap"];const R3=_t({prop:"gridColumn"}),x3=_t({prop:"gridRow"}),P3=_t({prop:"gridAutoFlow"}),k3=_t({prop:"gridAutoColumns"}),A3=_t({prop:"gridAutoRows"}),O3=_t({prop:"gridTemplateColumns"}),N3=_t({prop:"gridTemplateRows"}),M3=_t({prop:"gridTemplateAreas"}),D3=_t({prop:"gridArea"});vp(wp,Ep,Tp,R3,x3,P3,k3,A3,O3,N3,M3,D3);function aa(t,e){return e==="grey"?e:t}const L3=_t({prop:"color",themeKey:"palette",transform:aa}),$3=_t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:aa}),F3=_t({prop:"backgroundColor",themeKey:"palette",transform:aa});vp(L3,$3,F3);function Vn(t){return t<=1&&t!==0?`${t*100}%`:t}const V3=_t({prop:"width",transform:Vn}),v0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||m0[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Vn(n)}};return Si(t,t.maxWidth,e)}return null};v0.filterProps=["maxWidth"];const U3=_t({prop:"minWidth",transform:Vn}),B3=_t({prop:"height",transform:Vn}),j3=_t({prop:"maxHeight",transform:Vn}),z3=_t({prop:"minHeight",transform:Vn});_t({prop:"size",cssProperty:"width",transform:Vn});_t({prop:"size",cssProperty:"height",transform:Vn});const W3=_t({prop:"boxSizing"});vp(V3,v0,U3,B3,j3,z3,W3);const H3={border:{themeKey:"borders",transform:er},borderTop:{themeKey:"borders",transform:er},borderRight:{themeKey:"borders",transform:er},borderBottom:{themeKey:"borders",transform:er},borderLeft:{themeKey:"borders",transform:er},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:er},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_p},color:{themeKey:"palette",transform:aa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:aa},backgroundColor:{themeKey:"palette",transform:aa},p:{style:ft},pt:{style:ft},pr:{style:ft},pb:{style:ft},pl:{style:ft},px:{style:ft},py:{style:ft},padding:{style:ft},paddingTop:{style:ft},paddingRight:{style:ft},paddingBottom:{style:ft},paddingLeft:{style:ft},paddingX:{style:ft},paddingY:{style:ft},paddingInline:{style:ft},paddingInlineStart:{style:ft},paddingInlineEnd:{style:ft},paddingBlock:{style:ft},paddingBlockStart:{style:ft},paddingBlockEnd:{style:ft},m:{style:ht},mt:{style:ht},mr:{style:ht},mb:{style:ht},ml:{style:ht},mx:{style:ht},my:{style:ht},margin:{style:ht},marginTop:{style:ht},marginRight:{style:ht},marginBottom:{style:ht},marginLeft:{style:ht},marginX:{style:ht},marginY:{style:ht},marginInline:{style:ht},marginInlineStart:{style:ht},marginInlineEnd:{style:ht},marginBlock:{style:ht},marginBlockStart:{style:ht},marginBlockEnd:{style:ht},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wp},rowGap:{style:Tp},columnGap:{style:Ep},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vn},maxWidth:{style:v0},minWidth:{transform:Vn},height:{transform:Vn},maxHeight:{transform:Vn},minHeight:{transform:Vn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Cp=H3;function q3(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function K3(t,e){return typeof t=="function"?t(e):t}function G3(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=yp(i,u)||{};return d?d(s):Si(s,r,m=>{let v=Kh(h,c,m);return m===v&&typeof m=="string"&&(v=Kh(h,c,`${n}${m==="default"?"":K(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Cp;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=s3(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const m=K3(u[f],o);if(m!=null)if(typeof m=="object")if(s[f])h=su(h,t(f,m,o,s));else{const v=Si({theme:o},m,C=>({[f]:C}));q3(v,m)?h[f]=e({sx:m,theme:o}):h=su(h,v)}else h=su(h,t(f,m,o,s))}),a3(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Ac=G3();Ac.filterProps=["sx"];const Q3=["breakpoints","palette","spacing","shape"];function _0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=Q(t,Q3),a=r3(n),l=p3(i);let u=An({breakpoints:a,direction:"ltr",components:{},palette:E({mode:"light"},r),spacing:l,shape:E({},o3,o)},s);return u=e.reduce((c,d)=>An(c,d),u),u.unstable_sxConfig=E({},Cp,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(d){return Ac({sx:d,theme:this})},u}function Y3(t){return Object.keys(t).length===0}function hP(t=null){const e=w.useContext(c0);return!e||Y3(e)?t:e}const X3=_0();function Ip(t=X3){return hP(t)}function J3({styles:t,themeId:e,defaultTheme:n={}}){const r=Ip(n),i=typeof t=="function"?t(e&&r[e]||r):t;return T.jsx(jV,{styles:i})}const Z3=["sx"],e9=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Cp;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function fP(t){const{sx:e}=t,n=Q(t,Z3),{systemProps:r,otherProps:i}=e9(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return li(a)?E({},r,a):r}:o=E({},r,e),E({},i,{sx:o})}function pP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Y(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pP(t))&&(r&&(r+=" "),r+=e);return r}const t9=["className","component"];function n9(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=nP("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ac);return w.forwardRef(function(l,u){const c=Ip(n),d=fP(l),{className:h,component:f="div"}=d,m=Q(d,t9);return T.jsx(o,E({as:f,ref:u,className:Y(h,i?i(r):r),theme:e&&c[e]||c},m))})}const r9=["variant"];function TT(t){return t.length===0}function mP(t){const{variant:e}=t,n=Q(t,r9);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=TT(r)?t[i]:K(t[i]):r+=`${TT(r)?i:K(i)}${K(t[i].toString())}`}),r}const i9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function o9(t){return Object.keys(t).length===0}function s9(t){return typeof t=="string"&&t.charCodeAt(0)>96}const a9=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Gh=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=mP(r.props),n[i]=r.style}),n},l9=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),Gh(n)},Qh=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let o=0;return n&&n.forEach(s=>{let a=!0;if(typeof s.props=="function"){const l=E({},t,r);a=s.props(l)}else Object.keys(s.props).forEach(l=>{r[l]!==s.props[l]&&t[l]!==s.props[l]&&(a=!1)});a&&(typeof s.props=="function"?i.push(e[`callback${o}`]):i.push(e[mP(s.props)])),typeof s.props=="function"&&(o+=1)}),i},u9=(t,e,n,r)=>{var i;const o=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Qh(t,e,o)};function au(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const c9=_0(),d9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Jd({defaultTheme:t,theme:e,themeId:n}){return o9(e)?t:e[n]||e}function h9(t){return t?(e,n)=>n[t]:null}const CT=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(E({},e,{theme:Jd(E({},e,{defaultTheme:n,themeId:r}))}));let o;if(i&&i.variants&&(o=i.variants,delete i.variants),o){const s=Qh(e,Gh(o),o);return[i,...s]}return i};function f9(t={}){const{themeId:e,defaultTheme:n=c9,rootShouldForwardProp:r=au,slotShouldForwardProp:i=au}=t,o=s=>Ac(E({},s,{theme:Jd(E({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{zV(s,_=>_.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=h9(d9(u))}=a,f=Q(a,i9),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let C,p=au;u==="Root"||u==="root"?p=r:u?p=i:s9(s)&&(p=void 0);const g=nP(s,E({shouldForwardProp:p,label:C},f)),y=(_,...I)=>{const S=I?I.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return L=>CT({styledArg:x,props:L,defaultTheme:n,themeId:e});if(li(x)){let L=x,$;return x&&x.variants&&($=x.variants,delete L.variants,L=N=>{let D=x;return Qh(N,Gh($),$).forEach(k=>{D=An(D,k)}),D}),L}return x}):[];let b=_;if(li(_)){let x;_&&_.variants&&(x=_.variants,delete b.variants,b=L=>{let $=_;return Qh(L,Gh(x),x).forEach(D=>{$=An($,D)}),$})}else typeof _=="function"&&_.__emotion_real!==_&&(b=x=>CT({styledArg:_,props:x,defaultTheme:n,themeId:e}));l&&h&&S.push(x=>{const L=Jd(E({},x,{defaultTheme:n,themeId:e})),$=a9(l,L);if($){const N={};return Object.entries($).forEach(([D,U])=>{N[D]=typeof U=="function"?U(E({},x,{theme:L})):U}),h(x,N)}return null}),l&&!m&&S.push(x=>{const L=Jd(E({},x,{defaultTheme:n,themeId:e}));return u9(x,l9(l,L),L,l)}),v||S.push(o);const R=S.length-I.length;if(Array.isArray(_)&&R>0){const x=new Array(R).fill("");b=[..._,...x],b.raw=[..._.raw,...x]}const O=g(b,...S);return s.muiName&&(O.muiName=s.muiName),O};return g.withConfig&&(y.withConfig=g.withConfig),y}}function p9(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:lP(e.components[n].defaultProps,r)}function m9({props:t,name:e,defaultTheme:n,themeId:r}){let i=Ip(n);return r&&(i=i[r]||i),p9({theme:i,name:e,props:t})}function w0(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function g9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rs(t){if(t.type)return t;if(t.charAt(0)==="#")return rs(g9(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ho(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ho(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Sp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function y9(t){t=rs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Sp({type:a,values:l})}function IT(t){t=rs(t);let e=t.type==="hsl"||t.type==="hsla"?rs(y9(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function v9(t,e){const n=IT(t),r=IT(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function He(t,e){return t=rs(t),e=w0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Sp(t)}function gP(t,e){if(t=rs(t),e=w0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Sp(t)}function yP(t,e){if(t=rs(t),e=w0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Sp(t)}function _9(t,e){return E({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const w9={black:"#000",white:"#fff"},qu=w9,E9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},T9=E9,C9={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Es=C9,I9={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ts=I9,S9={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},wl=S9,b9={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cs=b9,R9={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Is=R9,x9={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ss=x9,P9=["mode","contrastThreshold","tonalOffset"],ST={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qu.white,default:qu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rg={text:{primary:qu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function bT(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=yP(t.main,i):e==="dark"&&(t.dark=gP(t.main,o)))}function k9(t="light"){return t==="dark"?{main:Cs[200],light:Cs[50],dark:Cs[400]}:{main:Cs[700],light:Cs[400],dark:Cs[800]}}function A9(t="light"){return t==="dark"?{main:Es[200],light:Es[50],dark:Es[400]}:{main:Es[500],light:Es[300],dark:Es[700]}}function O9(t="light"){return t==="dark"?{main:Ts[500],light:Ts[300],dark:Ts[700]}:{main:Ts[700],light:Ts[400],dark:Ts[800]}}function N9(t="light"){return t==="dark"?{main:Is[400],light:Is[300],dark:Is[700]}:{main:Is[700],light:Is[500],dark:Is[900]}}function M9(t="light"){return t==="dark"?{main:Ss[400],light:Ss[300],dark:Ss[700]}:{main:Ss[800],light:Ss[500],dark:Ss[900]}}function D9(t="light"){return t==="dark"?{main:wl[400],light:wl[300],dark:wl[700]}:{main:"#ed6c02",light:wl[500],dark:wl[900]}}function L9(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Q(t,P9),o=t.primary||k9(e),s=t.secondary||A9(e),a=t.error||O9(e),l=t.info||N9(e),u=t.success||M9(e),c=t.warning||D9(e);function d(v){return v9(v,rg.text.primary)>=n?rg.text.primary:ST.text.primary}const h=({color:v,name:C,mainShade:p=500,lightShade:g=300,darkShade:y=700})=>{if(v=E({},v),!v.main&&v[p]&&(v.main=v[p]),!v.hasOwnProperty("main"))throw new Error(ho(11,C?` (${C})`:"",p));if(typeof v.main!="string")throw new Error(ho(12,C?` (${C})`:"",JSON.stringify(v.main)));return bT(v,"light",g,r),bT(v,"dark",y,r),v.contrastText||(v.contrastText=d(v.main)),v},f={dark:rg,light:ST};return An(E({common:E({},qu),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:T9,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const $9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function F9(t){return Math.round(t*1e5)/1e5}const RT={textTransform:"uppercase"},xT='"Roboto", "Helvetica", "Arial", sans-serif';function V9(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=xT,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=Q(n,$9),f=i/14,m=d||(p=>`${p/u*f}rem`),v=(p,g,y,_,I)=>E({fontFamily:r,fontWeight:p,fontSize:m(g),lineHeight:y},r===xT?{letterSpacing:`${F9(_/g)}em`}:{},I,c),C={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,RT),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,RT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return An(E({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},C),h,{clone:!1})}const U9=.2,B9=.14,j9=.12;function it(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${U9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${B9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${j9})`].join(",")}const z9=["none",it(0,2,1,-1,0,1,1,0,0,1,3,0),it(0,3,1,-2,0,2,2,0,0,1,5,0),it(0,3,3,-2,0,3,4,0,0,1,8,0),it(0,2,4,-1,0,4,5,0,0,1,10,0),it(0,3,5,-1,0,5,8,0,0,1,14,0),it(0,3,5,-1,0,6,10,0,0,1,18,0),it(0,4,5,-2,0,7,10,1,0,2,16,1),it(0,5,5,-3,0,8,10,1,0,3,14,2),it(0,5,6,-3,0,9,12,1,0,3,16,2),it(0,6,6,-3,0,10,14,1,0,4,18,3),it(0,6,7,-4,0,11,15,1,0,4,20,3),it(0,7,8,-4,0,12,17,2,0,5,22,4),it(0,7,8,-4,0,13,19,2,0,5,24,4),it(0,7,9,-4,0,14,21,2,0,5,26,4),it(0,8,9,-5,0,15,22,2,0,6,28,5),it(0,8,10,-5,0,16,24,2,0,6,30,5),it(0,8,11,-5,0,17,26,2,0,6,32,5),it(0,9,11,-5,0,18,28,2,0,7,34,6),it(0,9,12,-6,0,19,29,2,0,7,36,6),it(0,10,13,-6,0,20,31,3,0,8,38,7),it(0,10,13,-6,0,21,33,3,0,8,40,7),it(0,10,14,-6,0,22,35,3,0,8,42,7),it(0,11,14,-7,0,23,36,3,0,9,44,8),it(0,11,15,-7,0,24,38,3,0,9,46,8)],W9=["duration","easing","delay"],H9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},q9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PT(t){return`${Math.round(t)}ms`}function K9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function G9(t){const e=E({},H9,t.easing),n=E({},q9,t.duration);return E({getAutoHeightDuration:K9,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return Q(o,W9),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:PT(s)} ${a} ${typeof l=="string"?l:PT(l)}`).join(",")}},t,{easing:e,duration:n})}const Q9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Y9=Q9,X9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function vP(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=Q(t,X9);if(t.vars)throw new Error(ho(18));const a=L9(r),l=_0(t);let u=An(l,{mixins:_9(l.breakpoints,n),palette:a,shadows:z9.slice(),typography:V9(a,o),transitions:G9(i),zIndex:E({},Y9)});return u=An(u,s),u=e.reduce((c,d)=>An(c,d),u),u.unstable_sxConfig=E({},Cp,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(d){return Ac({sx:d,theme:this})},u}const J9=vP(),bp=J9;function Ka(){const t=Ip(bp);return t[Rc]||t}function ve({props:t,name:e}){return m9({props:t,name:e,defaultTheme:bp,themeId:Rc})}const pr=t=>au(t)&&t!=="classes",Z9=au,q=f9({themeId:Rc,defaultTheme:bp,rootShouldForwardProp:pr}),kT=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},e6=w.createContext(),_P=e6;function t6(t){return ge("MuiTable",t)}me("MuiTable",["root","stickyHeader"]);const n6=["className","component","padding","size","stickyHeader"],r6=t=>{const{classes:e,stickyHeader:n}=t;return ye({root:["root",n&&"stickyHeader"]},t6,e)},i6=q("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>E({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":E({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),AT="table",o6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTable"}),{className:i,component:o=AT,padding:s="normal",size:a="medium",stickyHeader:l=!1}=r,u=Q(r,n6),c=E({},r,{component:o,padding:s,size:a,stickyHeader:l}),d=r6(c),h=w.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return T.jsx(_P.Provider,{value:h,children:T.jsx(i6,E({as:o,role:o===AT?null:"table",ref:n,className:Y(d.root,i),ownerState:c},u))})}),s6=o6,a6=w.createContext(),Oc=a6;function l6(t){return ge("MuiTableBody",t)}me("MuiTableBody",["root"]);const u6=["className","component"],c6=t=>{const{classes:e}=t;return ye({root:["root"]},l6,e)},d6=q("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),h6={variant:"body"},OT="tbody",f6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableBody"}),{className:i,component:o=OT}=r,s=Q(r,u6),a=E({},r,{component:o}),l=c6(a);return T.jsx(Oc.Provider,{value:h6,children:T.jsx(d6,E({className:Y(l.root,i),as:o,ref:n,role:o===OT?null:"rowgroup",ownerState:a},s))})}),p6=f6;function m6(t){return ge("MuiTableCell",t)}const g6=me("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ku=g6,y6=["align","className","component","padding","scope","size","sortDirection","variant"],v6=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${K(r)}`,i!=="normal"&&`padding${K(i)}`,`size${K(o)}`]};return ye(a,m6,e)},_6=q("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${K(n.size)}`],n.padding!=="normal"&&e[`padding${K(n.padding)}`],n.align!=="inherit"&&e[`align${K(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>E({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?yP(He(t.palette.divider,1),.88):gP(He(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${Ku.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),w6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:u,sortDirection:c,variant:d}=r,h=Q(r,y6),f=w.useContext(_P),m=w.useContext(Oc),v=m&&m.variant==="head";let C;s?C=s:C=v?"th":"td";let p=l;C==="td"?p=void 0:!p&&v&&(p="col");const g=d||m&&m.variant,y=E({},r,{align:i,component:C,padding:a||(f&&f.padding?f.padding:"normal"),size:u||(f&&f.size?f.size:"medium"),sortDirection:c,stickyHeader:g==="head"&&f&&f.stickyHeader,variant:g}),_=v6(y);let I=null;return c&&(I=c==="asc"?"ascending":"descending"),T.jsx(_6,E({as:C,ref:n,className:Y(_.root,o),"aria-sort":I,scope:p,ownerState:y},h))}),Gu=w6;function E6(t){return ge("MuiTableContainer",t)}me("MuiTableContainer",["root"]);const T6=["className","component"],C6=t=>{const{classes:e}=t;return ye({root:["root"]},E6,e)},I6=q("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),S6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,s=Q(r,T6),a=E({},r,{component:o}),l=C6(a);return T.jsx(I6,E({ref:n,as:o,className:Y(l.root,i),ownerState:a},s))}),b6=S6;function R6(t){return ge("MuiTableHead",t)}me("MuiTableHead",["root"]);const x6=["className","component"],P6=t=>{const{classes:e}=t;return ye({root:["root"]},R6,e)},k6=q("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),A6={variant:"head"},NT="thead",O6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableHead"}),{className:i,component:o=NT}=r,s=Q(r,x6),a=E({},r,{component:o}),l=P6(a);return T.jsx(Oc.Provider,{value:A6,children:T.jsx(k6,E({as:o,className:Y(l.root,i),ref:n,role:o===NT?null:"rowgroup",ownerState:a},s))})}),N6=O6;function M6(t){return ge("MuiTableRow",t)}const D6=me("MuiTableRow",["root","selected","hover","head","footer"]),MT=D6,L6=["className","component","hover","selected"],$6=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return ye({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},M6,e)},F6=q("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${MT.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${MT.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:He(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:He(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),DT="tr",V6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableRow"}),{className:i,component:o=DT,hover:s=!1,selected:a=!1}=r,l=Q(r,L6),u=w.useContext(Oc),c=E({},r,{component:o,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"}),d=$6(c);return T.jsx(F6,E({as:o,ref:n,className:Y(d.root,i),role:o===DT?null:"row",ownerState:c},l))}),E0=V6;function U6(t){return ge("MuiPaper",t)}me("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const B6=["className","component","elevation","square","variant"],j6=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ye(o,U6,i)},z6=q("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return E({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&E({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${He("#fff",kT(e.elevation))}, ${He("#fff",kT(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),W6=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,u=Q(r,B6),c=E({},r,{component:o,elevation:s,square:a,variant:l}),d=j6(c);return T.jsx(z6,E({as:o,ownerState:c,className:Y(d.root,i),ref:n},u))}),wP=W6;q(Gu)(({theme:t})=>({[`&.${Ku.head}`]:{backgroundColor:"grey",color:t.palette.common.white},[`&.${Ku.body}`]:{fontSize:14}}));q(E0)(({theme:t})=>({"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));const H6=me("MuiBox",["root"]),q6=H6,K6=vP(),G6=n9({themeId:Rc,defaultTheme:K6,defaultClassName:q6.root,generateClassName:uP.generate}),Er=G6;function Q6(t){return ge("MuiTableFooter",t)}me("MuiTableFooter",["root"]);const Y6=["className","component"],X6=t=>{const{classes:e}=t;return ye({root:["root"]},Q6,e)},J6=q("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-footer-group"}),Z6={variant:"footer"},LT="tfoot",eU=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTableFooter"}),{className:i,component:o=LT}=r,s=Q(r,Y6),a=E({},r,{component:o}),l=X6(a);return T.jsx(Oc.Provider,{value:Z6,children:T.jsx(J6,E({as:o,className:Y(l.root,i),ref:n,role:o===LT?null:"rowgroup",ownerState:a},s))})}),tU=eU;function Qu(t){return typeof t=="string"}function Ul(t,e,n){return t===void 0||Qu(t)?e:E({},e,{ownerState:E({},e.ownerState,n)})}const nU={disableDefaultClasses:!1},rU=w.createContext(nU);function iU(t){const{disableDefaultClasses:e}=w.useContext(rU);return n=>e?"":t(n)}function EP(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function oU(t,e,n){return typeof t=="function"?t(e,n):t}function $T(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function sU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const f=Y(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m=E({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=E({},n,i,r);return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const s=EP(E({},i,r)),a=$T(r),l=$T(i),u=e(s),c=Y(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=E({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=E({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const aU=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function is(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=Q(t,aU),a=o?{}:oU(r,i),{props:l,internalRef:u}=sU(E({},s,{externalSlotProps:a})),c=St(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Ul(n,E({},l,{ref:c}),i)}const lU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function uU(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function cU(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function dU(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||cU(t))}function hU(t){const e=[],n=[];return Array.from(t.querySelectorAll(lU)).forEach((r,i)=>{const o=uU(r);o===-1||!dU(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function fU(){return!0}function pU(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=hU,isEnabled:s=fU,open:a}=t,l=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=w.useRef(!1),m=w.useRef(null),v=St(e.ref,m),C=w.useRef(null);w.useEffect(()=>{!a||!m.current||(f.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!m.current)return;const y=Cn(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.useEffect(()=>{if(!a||!m.current)return;const y=Cn(m.current),_=b=>{C.current=b,!(r||!s()||b.key!=="Tab")&&y.activeElement===m.current&&b.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const b=m.current;if(b===null)return;if(!y.hasFocus()||!s()||l.current){l.current=!1;return}if(b.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let R=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(R=o(m.current)),R.length>0){var O,x;const L=!!((O=C.current)!=null&&O.shiftKey&&((x=C.current)==null?void 0:x.key)==="Tab"),$=R[0],N=R[R.length-1];typeof $!="string"&&typeof N!="string"&&(L?N.focus():$.focus())}else b.focus()};y.addEventListener("focusin",I),y.addEventListener("keydown",_,!0);const S=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(S),y.removeEventListener("focusin",I),y.removeEventListener("keydown",_,!0)}},[n,r,i,s,a,o]);const p=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const _=e.props.onFocus;_&&_(y)},g=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return T.jsxs(w.Fragment,{children:[T.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:v,onFocus:p}),T.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}var On="top",cr="bottom",dr="right",Nn="left",T0="auto",Nc=[On,cr,dr,Nn],Ia="start",Yu="end",mU="clippingParents",TP="viewport",El="popper",gU="reference",FT=Nc.reduce(function(t,e){return t.concat([e+"-"+Ia,e+"-"+Yu])},[]),CP=[].concat(Nc,[T0]).reduce(function(t,e){return t.concat([e,e+"-"+Ia,e+"-"+Yu])},[]),yU="beforeRead",vU="read",_U="afterRead",wU="beforeMain",EU="main",TU="afterMain",CU="beforeWrite",IU="write",SU="afterWrite",bU=[yU,vU,_U,wU,EU,TU,CU,IU,SU];function ti(t){return t?(t.nodeName||"").toLowerCase():null}function qn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function os(t){var e=qn(t).Element;return t instanceof e||t instanceof Element}function sr(t){var e=qn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function C0(t){if(typeof ShadowRoot>"u")return!1;var e=qn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function RU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!sr(o)||!ti(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function xU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!sr(i)||!ti(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const PU={name:"applyStyles",enabled:!0,phase:"write",fn:RU,effect:xU,requires:["computeStyles"]};function Xr(t){return t.split("-")[0]}var zo=Math.max,Yh=Math.min,Sa=Math.round;function Wy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IP(){return!/^((?!chrome|android).)*safari/i.test(Wy())}function ba(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&sr(t)&&(i=t.offsetWidth>0&&Sa(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Sa(r.height)/t.offsetHeight||1);var s=os(t)?qn(t):window,a=s.visualViewport,l=!IP()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function I0(t){var e=ba(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function SP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&C0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bi(t){return qn(t).getComputedStyle(t)}function kU(t){return["table","td","th"].indexOf(ti(t))>=0}function _o(t){return((os(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rp(t){return ti(t)==="html"?t:t.assignedSlot||t.parentNode||(C0(t)?t.host:null)||_o(t)}function VT(t){return!sr(t)||bi(t).position==="fixed"?null:t.offsetParent}function AU(t){var e=/firefox/i.test(Wy()),n=/Trident/i.test(Wy());if(n&&sr(t)){var r=bi(t);if(r.position==="fixed")return null}var i=Rp(t);for(C0(i)&&(i=i.host);sr(i)&&["html","body"].indexOf(ti(i))<0;){var o=bi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Mc(t){for(var e=qn(t),n=VT(t);n&&kU(n)&&bi(n).position==="static";)n=VT(n);return n&&(ti(n)==="html"||ti(n)==="body"&&bi(n).position==="static")?e:n||AU(t)||e}function S0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function lu(t,e,n){return zo(t,Yh(e,n))}function OU(t,e,n){var r=lu(t,e,n);return r>n?n:r}function bP(){return{top:0,right:0,bottom:0,left:0}}function RP(t){return Object.assign({},bP(),t)}function xP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var NU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,RP(typeof e!="number"?e:xP(e,Nc))};function MU(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Xr(n.placement),l=S0(a),u=[Nn,dr].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=NU(i.padding,n),h=I0(o),f=l==="y"?On:Nn,m=l==="y"?cr:dr,v=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],C=s[l]-n.rects.reference[l],p=Mc(o),g=p?l==="y"?p.clientHeight||0:p.clientWidth||0:0,y=v/2-C/2,_=d[f],I=g-h[c]-d[m],S=g/2-h[c]/2+y,b=lu(_,S,I),R=l;n.modifiersData[r]=(e={},e[R]=b,e.centerOffset=b-S,e)}}function DU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||SP(e.elements.popper,i)&&(e.elements.arrow=i))}const LU={name:"arrow",enabled:!0,phase:"main",fn:MU,effect:DU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ra(t){return t.split("-")[1]}var $U={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FU(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Sa(n*i)/i||0,y:Sa(r*i)/i||0}}function UT(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,m=s.y,v=m===void 0?0:m,C=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=C.x,v=C.y;var p=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),y=Nn,_=On,I=window;if(u){var S=Mc(n),b="clientHeight",R="clientWidth";if(S===qn(n)&&(S=_o(n),bi(S).position!=="static"&&a==="absolute"&&(b="scrollHeight",R="scrollWidth")),S=S,i===On||(i===Nn||i===dr)&&o===Yu){_=cr;var O=d&&S===I&&I.visualViewport?I.visualViewport.height:S[b];v-=O-r.height,v*=l?1:-1}if(i===Nn||(i===On||i===cr)&&o===Yu){y=dr;var x=d&&S===I&&I.visualViewport?I.visualViewport.width:S[R];f-=x-r.width,f*=l?1:-1}}var L=Object.assign({position:a},u&&$U),$=c===!0?FU({x:f,y:v},qn(n)):{x:f,y:v};if(f=$.x,v=$.y,l){var N;return Object.assign({},L,(N={},N[_]=g?"0":"",N[y]=p?"0":"",N.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",N))}return Object.assign({},L,(e={},e[_]=g?v+"px":"",e[y]=p?f+"px":"",e.transform="",e))}function VU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Xr(e.placement),variation:Ra(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UT(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UT(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const UU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VU,data:{}};var vd={passive:!0};function BU(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=qn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,vd)}),a&&l.addEventListener("resize",n.update,vd),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,vd)}),a&&l.removeEventListener("resize",n.update,vd)}}const jU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:BU,data:{}};var zU={left:"right",right:"left",bottom:"top",top:"bottom"};function Zd(t){return t.replace(/left|right|bottom|top/g,function(e){return zU[e]})}var WU={start:"end",end:"start"};function BT(t){return t.replace(/start|end/g,function(e){return WU[e]})}function b0(t){var e=qn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function R0(t){return ba(_o(t)).left+b0(t).scrollLeft}function HU(t,e){var n=qn(t),r=_o(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=IP();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+R0(t),y:l}}function qU(t){var e,n=_o(t),r=b0(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=zo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=zo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+R0(t),l=-r.scrollTop;return bi(i||n).direction==="rtl"&&(a+=zo(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function x0(t){var e=bi(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function PP(t){return["html","body","#document"].indexOf(ti(t))>=0?t.ownerDocument.body:sr(t)&&x0(t)?t:PP(Rp(t))}function uu(t,e){var n;e===void 0&&(e=[]);var r=PP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=qn(r),s=i?[o].concat(o.visualViewport||[],x0(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(uu(Rp(s)))}function Hy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function KU(t,e){var n=ba(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function jT(t,e,n){return e===TP?Hy(HU(t,n)):os(e)?KU(e,n):Hy(qU(_o(t)))}function GU(t){var e=uu(Rp(t)),n=["absolute","fixed"].indexOf(bi(t).position)>=0,r=n&&sr(t)?Mc(t):t;return os(r)?e.filter(function(i){return os(i)&&SP(i,r)&&ti(i)!=="body"}):[]}function QU(t,e,n,r){var i=e==="clippingParents"?GU(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=jT(t,u,r);return l.top=zo(c.top,l.top),l.right=Yh(c.right,l.right),l.bottom=Yh(c.bottom,l.bottom),l.left=zo(c.left,l.left),l},jT(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function kP(t){var e=t.reference,n=t.element,r=t.placement,i=r?Xr(r):null,o=r?Ra(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case On:l={x:s,y:e.y-n.height};break;case cr:l={x:s,y:e.y+e.height};break;case dr:l={x:e.x+e.width,y:a};break;case Nn:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?S0(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Ia:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Yu:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Xu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?mU:a,u=n.rootBoundary,c=u===void 0?TP:u,d=n.elementContext,h=d===void 0?El:d,f=n.altBoundary,m=f===void 0?!1:f,v=n.padding,C=v===void 0?0:v,p=RP(typeof C!="number"?C:xP(C,Nc)),g=h===El?gU:El,y=t.rects.popper,_=t.elements[m?g:h],I=QU(os(_)?_:_.contextElement||_o(t.elements.popper),l,c,s),S=ba(t.elements.reference),b=kP({reference:S,element:y,strategy:"absolute",placement:i}),R=Hy(Object.assign({},y,b)),O=h===El?R:S,x={top:I.top-O.top+p.top,bottom:O.bottom-I.bottom+p.bottom,left:I.left-O.left+p.left,right:O.right-I.right+p.right},L=t.modifiersData.offset;if(h===El&&L){var $=L[i];Object.keys(x).forEach(function(N){var D=[dr,cr].indexOf(N)>=0?1:-1,U=[On,cr].indexOf(N)>=0?"y":"x";x[N]+=$[U]*D})}return x}function YU(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?CP:l,c=Ra(r),d=c?a?FT:FT.filter(function(m){return Ra(m)===c}):Nc,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var f=h.reduce(function(m,v){return m[v]=Xu(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[Xr(v)],m},{});return Object.keys(f).sort(function(m,v){return f[m]-f[v]})}function XU(t){if(Xr(t)===T0)return[];var e=Zd(t);return[BT(t),e,BT(e)]}function JU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=f===void 0?!0:f,v=n.allowedAutoPlacements,C=e.options.placement,p=Xr(C),g=p===C,y=l||(g||!m?[Zd(C)]:XU(C)),_=[C].concat(y).reduce(function(J,de){return J.concat(Xr(de)===T0?YU(e,{placement:de,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:v}):de)},[]),I=e.rects.reference,S=e.rects.popper,b=new Map,R=!0,O=_[0],x=0;x<_.length;x++){var L=_[x],$=Xr(L),N=Ra(L)===Ia,D=[On,cr].indexOf($)>=0,U=D?"width":"height",k=Xu(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),M=D?N?dr:Nn:N?cr:On;I[U]>S[U]&&(M=Zd(M));var P=Zd(M),A=[];if(o&&A.push(k[$]<=0),a&&A.push(k[M]<=0,k[P]<=0),A.every(function(J){return J})){O=L,R=!1;break}b.set(L,A)}if(R)for(var j=m?3:1,ie=function(de){var ae=_.find(function(Me){var Pe=b.get(Me);if(Pe)return Pe.slice(0,de).every(function(he){return he})});if(ae)return O=ae,"break"},re=j;re>0;re--){var _e=ie(re);if(_e==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const ZU={name:"flip",enabled:!0,phase:"main",fn:JU,requiresIfExists:["offset"],data:{_skip:!1}};function zT(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function WT(t){return[On,dr,cr,Nn].some(function(e){return t[e]>=0})}function eB(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Xu(e,{elementContext:"reference"}),a=Xu(e,{altBoundary:!0}),l=zT(s,r),u=zT(a,i,o),c=WT(l),d=WT(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const tB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eB};function nB(t,e,n){var r=Xr(t),i=[Nn,On].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Nn,dr].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function rB(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=CP.reduce(function(c,d){return c[d]=nB(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const iB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rB};function oB(t){var e=t.state,n=t.name;e.modifiersData[n]=kP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const sB={name:"popperOffsets",enabled:!0,phase:"read",fn:oB,data:{}};function aB(t){return t==="x"?"y":"x"}function lB(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,m=n.tetherOffset,v=m===void 0?0:m,C=Xu(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),p=Xr(e.placement),g=Ra(e.placement),y=!g,_=S0(p),I=aB(_),S=e.modifiersData.popperOffsets,b=e.rects.reference,R=e.rects.popper,O=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,x=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(S){if(o){var N,D=_==="y"?On:Nn,U=_==="y"?cr:dr,k=_==="y"?"height":"width",M=S[_],P=M+C[D],A=M-C[U],j=f?-R[k]/2:0,ie=g===Ia?b[k]:R[k],re=g===Ia?-R[k]:-b[k],_e=e.elements.arrow,J=f&&_e?I0(_e):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:bP(),ae=de[D],Me=de[U],Pe=lu(0,b[k],J[k]),he=y?b[k]/2-j-Pe-ae-x.mainAxis:ie-Pe-ae-x.mainAxis,gt=y?-b[k]/2+j+Pe+Me+x.mainAxis:re+Pe+Me+x.mainAxis,fe=e.elements.arrow&&Mc(e.elements.arrow),Ge=fe?_==="y"?fe.clientTop||0:fe.clientLeft||0:0,pe=(N=L==null?void 0:L[_])!=null?N:0,ke=M+he-pe-Ge,Ie=M+gt-pe,vn=lu(f?Yh(P,ke):P,M,f?zo(A,Ie):A);S[_]=vn,$[_]=vn-M}if(a){var Bt,wt=_==="x"?On:Nn,tn=_==="x"?cr:dr,rt=S[I],Ve=I==="y"?"height":"width",jt=rt+C[wt],yt=rt-C[tn],Ae=[On,Nn].indexOf(p)!==-1,Ot=(Bt=L==null?void 0:L[I])!=null?Bt:0,bt=Ae?jt:rt-b[Ve]-R[Ve]-Ot+x.altAxis,_n=Ae?rt+b[Ve]+R[Ve]-Ot-x.altAxis:yt,De=f&&Ae?OU(bt,rt,_n):lu(f?bt:jt,rt,f?_n:yt);S[I]=De,$[I]=De-rt}e.modifiersData[r]=$}}const uB={name:"preventOverflow",enabled:!0,phase:"main",fn:lB,requiresIfExists:["offset"]};function cB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function dB(t){return t===qn(t)||!sr(t)?b0(t):cB(t)}function hB(t){var e=t.getBoundingClientRect(),n=Sa(e.width)/t.offsetWidth||1,r=Sa(e.height)/t.offsetHeight||1;return n!==1||r!==1}function fB(t,e,n){n===void 0&&(n=!1);var r=sr(e),i=sr(e)&&hB(e),o=_o(e),s=ba(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ti(e)!=="body"||x0(o))&&(a=dB(e)),sr(e)?(l=ba(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=R0(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function pB(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function mB(t){var e=pB(t);return bU.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function gB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function yB(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var HT={placement:"bottom",modifiers:[],strategy:"absolute"};function qT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?HT:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},HT,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(p){var g=typeof p=="function"?p(c.options):p;v(),c.options=Object.assign({},o,c.options,g),c.scrollParents={reference:os(a)?uu(a):a.contextElement?uu(a.contextElement):[],popper:uu(l)};var y=mB(yB([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(_){return _.enabled}),m(),f.update()},forceUpdate:function(){if(!h){var p=c.elements,g=p.reference,y=p.popper;if(qT(g,y)){c.rects={reference:fB(g,Mc(y),c.options.strategy==="fixed"),popper:I0(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var I=c.orderedModifiers[_],S=I.fn,b=I.options,R=b===void 0?{}:b,O=I.name;typeof S=="function"&&(c=S({state:c,options:R,name:O,instance:f})||c)}}}},update:gB(function(){return new Promise(function(C){f.forceUpdate(),C(c)})}),destroy:function(){v(),h=!0}};if(!qT(a,l))return f;f.setOptions(u).then(function(C){!h&&u.onFirstUpdate&&u.onFirstUpdate(C)});function m(){c.orderedModifiers.forEach(function(C){var p=C.name,g=C.options,y=g===void 0?{}:g,_=C.effect;if(typeof _=="function"){var I=_({state:c,name:p,instance:f,options:y}),S=function(){};d.push(I||S)}})}function v(){d.forEach(function(C){return C()}),d=[]}return f}}var _B=[jU,sB,UU,PU,iB,ZU,uB,LU,tB],wB=vB({defaultModifiers:_B});function EB(t){return typeof t=="function"?t():t}const AP=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=w.useState(null),l=St(w.isValidElement(r)?r.ref:null,n);if(Or(()=>{o||a(EB(i)||document.body)},[i,o]),Or(()=>{if(s&&!o)return By(n,s),()=>{By(n,null)}},[n,s,o]),o){if(w.isValidElement(r)){const u={ref:l};return w.cloneElement(r,u)}return T.jsx(w.Fragment,{children:r})}return T.jsx(w.Fragment,{children:s&&Mf.createPortal(r,s)})});function TB(t){return ge("MuiPopper",t)}me("MuiPopper",["root"]);const CB=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],IB=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function SB(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function qy(t){return typeof t=="function"?t():t}function bB(t){return t.nodeType!==void 0}const RB=()=>ye({root:["root"]},iU(TB)),xB={},PB=w.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:m={},TransitionProps:v}=e,C=Q(e,CB),p=w.useRef(null),g=St(p,n),y=w.useRef(null),_=St(y,h),I=w.useRef(_);Or(()=>{I.current=_},[_]),w.useImperativeHandle(h,()=>y.current,[]);const S=SB(c,s),[b,R]=w.useState(S),[O,x]=w.useState(qy(i));w.useEffect(()=>{y.current&&y.current.forceUpdate()}),w.useEffect(()=>{i&&x(qy(i))},[i]),Or(()=>{if(!O||!u)return;const U=P=>{R(P.placement)};let k=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:P})=>{U(P)}}];l!=null&&(k=k.concat(l)),d&&d.modifiers!=null&&(k=k.concat(d.modifiers));const M=wB(O,p.current,E({placement:S},d,{modifiers:k}));return I.current(M),()=>{M.destroy(),I.current(null)}},[O,a,l,u,d,S]);const L={placement:b};v!==null&&(L.TransitionProps=v);const $=RB(),N=(r=m.root)!=null?r:"div",D=is({elementType:N,externalSlotProps:f.root,externalForwardedProps:C,additionalProps:{role:"tooltip",ref:g},ownerState:e,className:$.root});return T.jsx(N,E({},D,{children:typeof o=="function"?o(L):o}))}),kB=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=xB,popperRef:f,style:m,transition:v=!1,slotProps:C={},slots:p={}}=e,g=Q(e,IB),[y,_]=w.useState(!0),I=()=>{_(!1)},S=()=>{_(!0)};if(!l&&!c&&(!v||y))return null;let b;if(o)b=o;else if(r){const x=qy(r);b=x&&bB(x)?Cn(x).body:Cn(null).body}const R=!c&&l&&(!v||y)?"none":void 0,O=v?{in:c,onEnter:I,onExited:S}:void 0;return T.jsx(AP,{disablePortal:a,container:b,children:T.jsx(PB,E({anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:v?!y:c,placement:d,popperOptions:h,popperRef:f,slotProps:C,slots:p},g,{style:E({position:"fixed",top:0,left:0,display:R},m),TransitionProps:O,children:i}))})});function AB(t){const e=Cn(t);return e.body===t?ns(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function cu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function KT(t){return parseInt(ns(t).getComputedStyle(t).paddingRight,10)||0}function OB(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function GT(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!OB(s);a&&l&&cu(s,i)})}function ig(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function NB(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(AB(r)){const s=aP(Cn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${KT(r)+s}px`;const a=Cn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${KT(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Cn(r).body;else{const s=r.parentElement,a=ns(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function MB(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class DB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&cu(e.modalRef,!1);const i=MB(n);GT(n,e.mount,e.modalRef,i,!0);const o=ig(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=ig(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=NB(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=ig(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&cu(e.modalRef,n),GT(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&cu(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function LB(t){return typeof t=="function"?t():t}function $B(t){return t?t.props.hasOwnProperty("in"):!1}const FB=new DB;function VB(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=FB,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=w.useRef({}),f=w.useRef(null),m=w.useRef(null),v=St(m,d),[C,p]=w.useState(!c),g=$B(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const _=()=>Cn(f.current),I=()=>(h.current.modalRef=m.current,h.current.mount=f.current,h.current),S=()=>{i.mount(I(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},b=Mo(()=>{const k=LB(e)||_().body;i.add(I(),k),m.current&&S()}),R=w.useCallback(()=>i.isTopModal(I()),[i]),O=Mo(k=>{f.current=k,k&&(c&&R()?S():m.current&&cu(m.current,y))}),x=w.useCallback(()=>{i.remove(I(),y)},[y,i]);w.useEffect(()=>()=>{x()},[x]),w.useEffect(()=>{c?b():(!g||!o)&&x()},[c,x,g,o,b]);const L=k=>M=>{var P;(P=k.onKeyDown)==null||P.call(k,M),!(M.key!=="Escape"||M.which===229||!R())&&(n||(M.stopPropagation(),u&&u(M,"escapeKeyDown")))},$=k=>M=>{var P;(P=k.onClick)==null||P.call(k,M),M.target===M.currentTarget&&u&&u(M,"backdropClick")};return{getRootProps:(k={})=>{const M=EP(t);delete M.onTransitionEnter,delete M.onTransitionExited;const P=E({},M,k);return E({role:"presentation"},P,{onKeyDown:L(P),ref:v})},getBackdropProps:(k={})=>{const M=k;return E({"aria-hidden":!0},M,{onClick:$(M),open:c})},getTransitionProps:()=>{const k=()=>{p(!1),s&&s()},M=()=>{p(!0),a&&a(),o&&x()};return{onEnter:mT(k,l==null?void 0:l.props.onEnter),onExited:mT(M,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:O,isTopModal:R,exited:C,hasTransition:g}}const UB=["onChange","maxRows","minRows","style","value"];function _d(t){return parseInt(t,10)||0}const BB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function QT(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const jB=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Q(e,UB),{current:u}=w.useRef(a!=null),c=w.useRef(null),d=St(n,c),h=w.useRef(null),f=w.useRef(0),[m,v]=w.useState({outerHeightStyle:0}),C=w.useCallback(()=>{const _=c.current,S=ns(_).getComputedStyle(_);if(S.width==="0px")return{outerHeightStyle:0};const b=h.current;b.style.width=S.width,b.value=_.value||e.placeholder||"x",b.value.slice(-1)===`
`&&(b.value+=" ");const R=S.boxSizing,O=_d(S.paddingBottom)+_d(S.paddingTop),x=_d(S.borderBottomWidth)+_d(S.borderTopWidth),L=b.scrollHeight;b.value="x";const $=b.scrollHeight;let N=L;o&&(N=Math.max(Number(o)*$,N)),i&&(N=Math.min(Number(i)*$,N)),N=Math.max(N,$);const D=N+(R==="border-box"?O+x:0),U=Math.abs(N-L)<=1;return{outerHeightStyle:D,overflow:U}},[i,o,e.placeholder]),p=(_,I)=>{const{outerHeightStyle:S,overflow:b}=I;return f.current<20&&(S>0&&Math.abs((_.outerHeightStyle||0)-S)>1||_.overflow!==b)?(f.current+=1,{overflow:b,outerHeightStyle:S}):_},g=w.useCallback(()=>{const _=C();QT(_)||v(I=>p(I,_))},[C]);Or(()=>{const _=()=>{const L=C();QT(L)||Mf.flushSync(()=>{v($=>p($,L))})},I=()=>{f.current=0,_()};let S;const b=oP(I),R=c.current,O=ns(R);O.addEventListener("resize",b);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(I),x.observe(R)),()=>{b.clear(),cancelAnimationFrame(S),O.removeEventListener("resize",b),x&&x.disconnect()}},[C]),Or(()=>{g()}),w.useEffect(()=>{f.current=0},[a]);const y=_=>{f.current=0,u||g(),r&&r(_)};return T.jsxs(w.Fragment,{children:[T.jsx("textarea",E({value:a,onChange:y,ref:d,rows:o,style:E({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},l)),T.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:E({},BB.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function Ga({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const zB=w.createContext(void 0),P0=zB;function Qa(){return w.useContext(P0)}function WB(t){return T.jsx(J3,E({},t,{defaultTheme:bp,themeId:Rc}))}function YT(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Xh(t,e=!1){return t&&(YT(t.value)&&t.value!==""||e&&YT(t.defaultValue)&&t.defaultValue!=="")}function HB(t){return t.startAdornment}function qB(t){return ge("MuiInputBase",t)}const KB=me("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),xa=KB,GB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],xp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${K(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Pp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},QB=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:m}=t,v={root:["root",`color${K(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${K(h)}`,c&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return ye(v,qB,e)},kp=q("div",{name:"MuiInputBase",slot:"Root",overridesResolver:xp})(({theme:t,ownerState:e})=>E({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&E({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Ap=q("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Pp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=E({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return E({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xa.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${xa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),YB=T.jsx(WB,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),XB=w.forwardRef(function(e,n){var r;const i=ve({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:m,fullWidth:v=!1,id:C,inputComponent:p="input",inputProps:g={},inputRef:y,maxRows:_,minRows:I,multiline:S=!1,name:b,onBlur:R,onChange:O,onClick:x,onFocus:L,onKeyDown:$,onKeyUp:N,placeholder:D,readOnly:U,renderSuffix:k,rows:M,slotProps:P={},slots:A={},startAdornment:j,type:ie="text",value:re}=i,_e=Q(i,GB),J=g.value!=null?g.value:re,{current:de}=w.useRef(J!=null),ae=w.useRef(),Me=w.useCallback(De=>{},[]),Pe=St(ae,y,g.ref,Me),[he,gt]=w.useState(!1),fe=Qa(),Ge=Ga({props:i,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ge.focused=fe?fe.focused:he,w.useEffect(()=>{!fe&&h&&he&&(gt(!1),R&&R())},[fe,h,he,R]);const pe=fe&&fe.onFilled,ke=fe&&fe.onEmpty,Ie=w.useCallback(De=>{Xh(De)?pe&&pe():ke&&ke()},[pe,ke]);Or(()=>{de&&Ie({value:J})},[J,Ie,de]);const vn=De=>{if(Ge.disabled){De.stopPropagation();return}L&&L(De),g.onFocus&&g.onFocus(De),fe&&fe.onFocus?fe.onFocus(De):gt(!0)},Bt=De=>{R&&R(De),g.onBlur&&g.onBlur(De),fe&&fe.onBlur?fe.onBlur(De):gt(!1)},wt=(De,...ne)=>{if(!de){const Rt=De.target||ae.current;if(Rt==null)throw new Error(ho(1));Ie({value:Rt.value})}g.onChange&&g.onChange(De,...ne),O&&O(De,...ne)};w.useEffect(()=>{Ie(ae.current)},[]);const tn=De=>{ae.current&&De.currentTarget===De.target&&ae.current.focus(),x&&x(De)};let rt=p,Ve=g;S&&rt==="input"&&(M?Ve=E({type:void 0,minRows:M,maxRows:M},Ve):Ve=E({type:void 0,maxRows:_,minRows:I},Ve),rt=jB);const jt=De=>{Ie(De.animationName==="mui-auto-fill-cancel"?ae.current:{value:"x"})};w.useEffect(()=>{fe&&fe.setAdornedStart(!!j)},[fe,j]);const yt=E({},i,{color:Ge.color||"primary",disabled:Ge.disabled,endAdornment:m,error:Ge.error,focused:Ge.focused,formControl:fe,fullWidth:v,hiddenLabel:Ge.hiddenLabel,multiline:S,size:Ge.size,startAdornment:j,type:ie}),Ae=QB(yt),Ot=A.root||u.Root||kp,bt=P.root||c.root||{},_n=A.input||u.Input||Ap;return Ve=E({},Ve,(r=P.input)!=null?r:c.input),T.jsxs(w.Fragment,{children:[!f&&YB,T.jsxs(Ot,E({},bt,!Qu(Ot)&&{ownerState:E({},yt,bt.ownerState)},{ref:n,onClick:tn},_e,{className:Y(Ae.root,bt.className,l,U&&"MuiInputBase-readOnly"),children:[j,T.jsx(P0.Provider,{value:null,children:T.jsx(_n,E({ownerState:yt,"aria-invalid":Ge.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:Ge.disabled,id:C,onAnimationStart:jt,name:b,placeholder:D,readOnly:U,required:Ge.required,rows:M,value:J,onKeyDown:$,onKeyUp:N,type:ie},Ve,!Qu(_n)&&{as:rt,ownerState:E({},yt,Ve.ownerState)},{ref:Pe,className:Y(Ae.input,Ve.className,U&&"MuiInputBase-readOnly"),onBlur:Bt,onChange:wt,onFocus:vn}))}),m,k?k(E({},Ge,{startAdornment:j})):null]}))]})}),Op=XB,JB=w.createContext({}),ss=JB;function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function OP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ky(t,e)}const XT={disabled:!1},Jh=Ir.createContext(null);var ZB=function(e){return e.scrollTop},Bl="unmounted",Ro="exited",xo="entering",Ps="entered",Gy="exiting",Ni=function(t){OP(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Ro,o.appearStatus=xo):l=Ps:r.unmountOnExit||r.mountOnEnter?l=Bl:l=Ro,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Bl?{status:Ro}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==xo&&s!==Ps&&(o=xo):(s===xo||s===Ps)&&(o=Gy)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===xo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this);s&&ZB(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ro&&this.setState({status:Bl})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[hd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||XT.disabled){this.safeSetState({status:Ps},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:xo},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:Ps},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:hd.findDOMNode(this);if(!o||XT.disabled){this.safeSetState({status:Ro},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Gy},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ro},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:hd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Bl)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Q(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ir.createElement(Jh.Provider,{value:null},typeof s=="function"?s(i,a):Ir.cloneElement(Ir.Children.only(s),a))},e}(Ir.Component);Ni.contextType=Jh;Ni.propTypes={};function bs(){}Ni.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bs,onEntering:bs,onEntered:bs,onExit:bs,onExiting:bs,onExited:bs};Ni.UNMOUNTED=Bl;Ni.EXITED=Ro;Ni.ENTERING=xo;Ni.ENTERED=Ps;Ni.EXITING=Gy;const NP=Ni;function ej(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k0(t,e){var n=function(o){return e&&w.isValidElement(o)?e(o):o},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function tj(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Do(t,e,n){return n[e]!=null?n[e]:t.props[e]}function nj(t,e){return k0(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Do(n,"appear",t),enter:Do(n,"enter",t),exit:Do(n,"exit",t)})})}function rj(t,e,n){var r=k0(t.children),i=tj(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=w.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Do(s,"exit",t),enter:Do(s,"enter",t)}):!l&&a&&!c?i[o]=w.cloneElement(s,{in:!1}):l&&a&&w.isValidElement(u)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Do(s,"exit",t),enter:Do(s,"enter",t)}))}}),i}var ij=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},oj={component:"div",childFactory:function(e){return e}},A0=function(t){OP(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(ej(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?nj(i,a):rj(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=k0(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=E({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Q(i,["component","childFactory"]),l=this.state.contextValue,u=ij(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Ir.createElement(Jh.Provider,{value:l},u):Ir.createElement(Jh.Provider,{value:l},Ir.createElement(o,a,u))},e}(Ir.Component);A0.propTypes={};A0.defaultProps=oj;const sj=A0;function aj(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=w.useState(!1),h=Y(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Y(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),T.jsx("span",{className:h,style:f,children:T.jsx("span",{className:m})})}const Xn=me("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lj=["center","classes","className"];let Np=t=>t,JT,ZT,eC,tC;const Qy=550,uj=80,cj=d0(JT||(JT=Np`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),dj=d0(ZT||(ZT=Np`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),hj=d0(eC||(eC=Np`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),fj=q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pj=q(aj,{name:"MuiTouchRipple",slot:"Ripple"})(tC||(tC=Np`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Xn.rippleVisible,cj,Qy,({theme:t})=>t.transitions.easing.easeInOut,Xn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Xn.child,Xn.childLeaving,dj,Qy,({theme:t})=>t.transitions.easing.easeInOut,Xn.childPulsate,hj,({theme:t})=>t.transitions.easing.easeInOut),mj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Q(r,lj),[l,u]=w.useState([]),c=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),f=w.useRef(0),m=w.useRef(null),v=w.useRef(null);w.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const C=w.useCallback(_=>{const{pulsate:I,rippleX:S,rippleY:b,rippleSize:R,cb:O}=_;u(x=>[...x,T.jsx(pj,{classes:{ripple:Y(o.ripple,Xn.ripple),rippleVisible:Y(o.rippleVisible,Xn.rippleVisible),ripplePulsate:Y(o.ripplePulsate,Xn.ripplePulsate),child:Y(o.child,Xn.child),childLeaving:Y(o.childLeaving,Xn.childLeaving),childPulsate:Y(o.childPulsate,Xn.childPulsate)},timeout:Qy,pulsate:I,rippleX:S,rippleY:b,rippleSize:R},c.current)]),c.current+=1,d.current=O},[o]),p=w.useCallback((_={},I={},S=()=>{})=>{const{pulsate:b=!1,center:R=i||I.pulsate,fakeElement:O=!1}=I;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const x=O?null:v.current,L=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,N,D;if(R||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)$=Math.round(L.width/2),N=Math.round(L.height/2);else{const{clientX:U,clientY:k}=_.touches&&_.touches.length>0?_.touches[0]:_;$=Math.round(U-L.left),N=Math.round(k-L.top)}if(R)D=Math.sqrt((2*L.width**2+L.height**2)/3),D%2===0&&(D+=1);else{const U=Math.max(Math.abs((x?x.clientWidth:0)-$),$)*2+2,k=Math.max(Math.abs((x?x.clientHeight:0)-N),N)*2+2;D=Math.sqrt(U**2+k**2)}_!=null&&_.touches?m.current===null&&(m.current=()=>{C({pulsate:b,rippleX:$,rippleY:N,rippleSize:D,cb:S})},f.current=setTimeout(()=>{m.current&&(m.current(),m.current=null)},uj)):C({pulsate:b,rippleX:$,rippleY:N,rippleSize:D,cb:S})},[i,C]),g=w.useCallback(()=>{p({},{pulsate:!0})},[p]),y=w.useCallback((_,I)=>{if(clearTimeout(f.current),(_==null?void 0:_.type)==="touchend"&&m.current){m.current(),m.current=null,f.current=setTimeout(()=>{y(_,I)});return}m.current=null,u(S=>S.length>0?S.slice(1):S),d.current=I},[]);return w.useImperativeHandle(n,()=>({pulsate:g,start:p,stop:y}),[g,p,y]),T.jsx(fj,E({className:Y(Xn.root,o.root,s),ref:v},a,{children:T.jsx(sj,{component:null,exit:!0,children:l})}))}),gj=mj;function yj(t){return ge("MuiButtonBase",t)}const vj=me("MuiButtonBase",["root","disabled","focusVisible"]),_j=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wj=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=ye({root:["root",e&&"disabled",n&&"focusVisible"]},yj,i);return n&&r&&(s.root+=` ${r}`),s},Ej=q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vj.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:m,onClick:v,onContextMenu:C,onDragLeave:p,onFocus:g,onFocusVisible:y,onKeyDown:_,onKeyUp:I,onMouseDown:S,onMouseLeave:b,onMouseUp:R,onTouchEnd:O,onTouchMove:x,onTouchStart:L,tabIndex:$=0,TouchRippleProps:N,touchRippleRef:D,type:U}=r,k=Q(r,_j),M=w.useRef(null),P=w.useRef(null),A=St(P,D),{isFocusVisibleRef:j,onFocus:ie,onBlur:re,ref:_e}=sP(),[J,de]=w.useState(!1);u&&J&&de(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),M.current.focus()}}),[]);const[ae,Me]=w.useState(!1);w.useEffect(()=>{Me(!0)},[]);const Pe=ae&&!c&&!u;w.useEffect(()=>{J&&h&&!c&&ae&&P.current.pulsate()},[c,h,J,ae]);function he(ne,Rt,ii=d){return Mo(mr=>(Rt&&Rt(mr),!ii&&P.current&&P.current[ne](mr),!0))}const gt=he("start",S),fe=he("stop",C),Ge=he("stop",p),pe=he("stop",R),ke=he("stop",ne=>{J&&ne.preventDefault(),b&&b(ne)}),Ie=he("start",L),vn=he("stop",O),Bt=he("stop",x),wt=he("stop",ne=>{re(ne),j.current===!1&&de(!1),m&&m(ne)},!1),tn=Mo(ne=>{M.current||(M.current=ne.currentTarget),ie(ne),j.current===!0&&(de(!0),y&&y(ne)),g&&g(ne)}),rt=()=>{const ne=M.current;return l&&l!=="button"&&!(ne.tagName==="A"&&ne.href)},Ve=w.useRef(!1),jt=Mo(ne=>{h&&!Ve.current&&J&&P.current&&ne.key===" "&&(Ve.current=!0,P.current.stop(ne,()=>{P.current.start(ne)})),ne.target===ne.currentTarget&&rt()&&ne.key===" "&&ne.preventDefault(),_&&_(ne),ne.target===ne.currentTarget&&rt()&&ne.key==="Enter"&&!u&&(ne.preventDefault(),v&&v(ne))}),yt=Mo(ne=>{h&&ne.key===" "&&P.current&&J&&!ne.defaultPrevented&&(Ve.current=!1,P.current.stop(ne,()=>{P.current.pulsate(ne)})),I&&I(ne),v&&ne.target===ne.currentTarget&&rt()&&ne.key===" "&&!ne.defaultPrevented&&v(ne)});let Ae=l;Ae==="button"&&(k.href||k.to)&&(Ae=f);const Ot={};Ae==="button"?(Ot.type=U===void 0?"button":U,Ot.disabled=u):(!k.href&&!k.to&&(Ot.role="button"),u&&(Ot["aria-disabled"]=u));const bt=St(n,_e,M),_n=E({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:$,focusVisible:J}),De=wj(_n);return T.jsxs(Ej,E({as:Ae,className:Y(De.root,a),ownerState:_n,onBlur:wt,onClick:v,onContextMenu:fe,onFocus:tn,onKeyDown:jt,onKeyUp:yt,onMouseDown:gt,onMouseLeave:ke,onMouseUp:pe,onDragLeave:Ge,onTouchEnd:vn,onTouchMove:Bt,onTouchStart:Ie,ref:bt,tabIndex:u?-1:$,type:U},Ot,k,{children:[s,Pe?T.jsx(gj,E({ref:A,center:o},N)):null]}))}),Ju=Tj,Cj=me("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),nC=Cj;function Ij(t){return ge("MuiListItemIcon",t)}const Sj=me("MuiListItemIcon",["root","alignItemsFlexStart"]),rC=Sj,bj=["className"],Rj=t=>{const{alignItems:e,classes:n}=t;return ye({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Ij,n)},xj=q("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>E({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Pj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=Q(r,bj),s=w.useContext(ss),a=E({},r,{alignItems:s.alignItems}),l=Rj(a);return T.jsx(xj,E({className:Y(l.root,i),ownerState:a,ref:n},o))}),Tl=Pj;function kj(t){return ge("MuiTypography",t)}me("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Aj=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Oj=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${K(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ye(a,kj,s)},Nj=q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${K(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>E({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),iC={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Mj={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Dj=t=>Mj[t]||t,Lj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTypography"}),i=Dj(r.color),o=fP(E({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=iC}=o,m=Q(o,Aj),v=E({},o,{align:s,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),C=l||(d?"p":f[h]||iC[h])||"span",p=Oj(v);return T.jsx(Nj,E({as:C,ref:n,ownerState:v,className:Y(p.root,a)},m))}),qt=Lj;function $j(t){return ge("MuiListItemText",t)}const Fj=me("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Zh=Fj,Vj=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Uj=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return ye({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},$j,e)},Bj=q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Zh.primary}`]:e.primary},{[`& .${Zh.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>E({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),jj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=r,h=Q(r,Vj),{dense:f}=w.useContext(ss);let m=l??i,v=c;const C=E({},r,{disableTypography:s,inset:a,primary:!!m,secondary:!!v,dense:f}),p=Uj(C);return m!=null&&m.type!==qt&&!s&&(m=T.jsx(qt,E({variant:f?"body2":"body1",className:p.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:m}))),v!=null&&v.type!==qt&&!s&&(v=T.jsx(qt,E({variant:"body2",className:p.secondary,color:"text.secondary",display:"block"},d,{children:v}))),T.jsxs(Bj,E({className:Y(p.root,o),ownerState:C,ref:n},h,{children:[m,v]}))}),Cl=jj;function zj(t){return ge("MuiMenuItem",t)}const Wj=me("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Il=Wj,Hj=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qj=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Kj=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=ye({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},zj,s);return E({},s,l)},Gj=q(Ju,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qj})(({theme:t,ownerState:e})=>E({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Il.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:He(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Il.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:He(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Il.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:He(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:He(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Il.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Il.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${nC.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${nC.inset}`]:{marginLeft:52},[`& .${Zh.root}`]:{marginTop:0,marginBottom:0},[`& .${Zh.inset}`]:{paddingLeft:36},[`& .${rC.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&E({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${rC.root} svg`]:{fontSize:"1.25rem"}}))),Qj=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h}=r,f=Q(r,Hj),m=w.useContext(ss),v=w.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),C=w.useRef(null);Or(()=>{i&&C.current&&C.current.focus()},[i]);const p=E({},r,{dense:v.dense,divider:a,disableGutters:l}),g=Kj(r),y=St(C,n);let _;return r.disabled||(_=d!==void 0?d:-1),T.jsx(ss.Provider,{value:v,children:T.jsx(Gj,E({ref:y,role:c,tabIndex:_,component:o,focusVisibleClassName:Y(g.focusVisible,u),className:Y(g.root,h)},f,{ownerState:p,classes:g}))})}),Yj=Qj;function Xj(t){return ge("MuiList",t)}me("MuiList",["root","padding","dense","subheader"]);const Jj=["children","className","component","dense","disablePadding","subheader"],Zj=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ye({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Xj,e)},ez=q("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>E({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),tz=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=Q(r,Jj),d=w.useMemo(()=>({dense:a}),[a]),h=E({},r,{component:s,dense:a,disablePadding:l}),f=Zj(h);return T.jsx(ss.Provider,{value:d,children:T.jsxs(ez,E({as:s,className:Y(f.root,o),ref:n,ownerState:h},c,{children:[u,i]}))})}),Yy=tz,nz=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function og(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function oC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function MP(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Sl(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!MP(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const rz=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=Q(e,nz),f=w.useRef(null),m=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Or(()=>{i&&f.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,_)=>{const I=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&I){const S=`${aP(Cn(y))}px`;f.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=S,f.current.style.width=`calc(100% + ${S})`}return f.current}}),[]);const v=y=>{const _=f.current,I=y.key,S=Cn(_).activeElement;if(I==="ArrowDown")y.preventDefault(),Sl(_,S,u,l,og);else if(I==="ArrowUp")y.preventDefault(),Sl(_,S,u,l,oC);else if(I==="Home")y.preventDefault(),Sl(_,null,u,l,og);else if(I==="End")y.preventDefault(),Sl(_,null,u,l,oC);else if(I.length===1){const b=m.current,R=I.toLowerCase(),O=performance.now();b.keys.length>0&&(O-b.lastTime>500?(b.keys=[],b.repeating=!0,b.previousKeyMatched=!0):b.repeating&&R!==b.keys[0]&&(b.repeating=!1)),b.lastTime=O,b.keys.push(R);const x=S&&!b.repeating&&MP(S,b);b.previousKeyMatched&&(x||Sl(_,S,!1,l,og,b))?y.preventDefault():b.previousKeyMatched=!1}c&&c(y)},C=St(f,n);let p=-1;w.Children.forEach(s,(y,_)=>{if(!w.isValidElement(y)){p===_&&(p+=1,p>=s.length&&(p=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||p===-1)&&(p=_),p===_&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(p+=1,p>=s.length&&(p=-1))});const g=w.Children.map(s,(y,_)=>{if(_===p){const I={};return o&&(I.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),w.cloneElement(y,I)}return y});return T.jsx(Yy,E({role:"menu",ref:C,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:g}))}),iz=rz,DP=t=>t.scrollTop;function ef(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}const oz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Xy(t){return`scale(${t}, ${t**2})`}const sz={entering:{opacity:1,transform:Xy(1)},entered:{opacity:1,transform:"none"}},sg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),LP=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:m,timeout:v="auto",TransitionComponent:C=NP}=e,p=Q(e,oz),g=w.useRef(),y=w.useRef(),_=Ka(),I=w.useRef(null),S=St(I,o.ref,n),b=U=>k=>{if(U){const M=I.current;k===void 0?U(M):U(M,k)}},R=b(c),O=b((U,k)=>{DP(U);const{duration:M,delay:P,easing:A}=ef({style:m,timeout:v,easing:s},{mode:"enter"});let j;v==="auto"?(j=_.transitions.getAutoHeightDuration(U.clientHeight),y.current=j):j=M,U.style.transition=[_.transitions.create("opacity",{duration:j,delay:P}),_.transitions.create("transform",{duration:sg?j:j*.666,delay:P,easing:A})].join(","),l&&l(U,k)}),x=b(u),L=b(f),$=b(U=>{const{duration:k,delay:M,easing:P}=ef({style:m,timeout:v,easing:s},{mode:"exit"});let A;v==="auto"?(A=_.transitions.getAutoHeightDuration(U.clientHeight),y.current=A):A=k,U.style.transition=[_.transitions.create("opacity",{duration:A,delay:M}),_.transitions.create("transform",{duration:sg?A:A*.666,delay:sg?M:M||A*.333,easing:P})].join(","),U.style.opacity=0,U.style.transform=Xy(.75),d&&d(U)}),N=b(h),D=U=>{v==="auto"&&(g.current=setTimeout(U,y.current||0)),r&&r(I.current,U)};return w.useEffect(()=>()=>{clearTimeout(g.current)},[]),T.jsx(C,E({appear:i,in:a,nodeRef:I,onEnter:O,onEntered:x,onEntering:R,onExit:$,onExited:N,onExiting:L,addEndListener:D,timeout:v==="auto"?null:v},p,{children:(U,k)=>w.cloneElement(o,E({style:E({opacity:0,transform:Xy(.75),visibility:U==="exited"&&!a?"hidden":void 0},sz[U],m,o.props.style),ref:S},k))}))});LP.muiSupportAuto=!0;const Jy=LP,az=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lz={entering:{opacity:1},entered:{opacity:1}},uz=w.forwardRef(function(e,n){const r=Ka(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:m,onExiting:v,style:C,timeout:p=i,TransitionComponent:g=NP}=e,y=Q(e,az),_=w.useRef(null),I=St(_,a.ref,n),S=D=>U=>{if(D){const k=_.current;U===void 0?D(k):D(k,U)}},b=S(h),R=S((D,U)=>{DP(D);const k=ef({style:C,timeout:p,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",k),D.style.transition=r.transitions.create("opacity",k),c&&c(D,U)}),O=S(d),x=S(v),L=S(D=>{const U=ef({style:C,timeout:p,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",U),D.style.transition=r.transitions.create("opacity",U),f&&f(D)}),$=S(m),N=D=>{o&&o(_.current,D)};return T.jsx(g,E({appear:s,in:u,nodeRef:_,onEnter:R,onEntered:O,onEntering:b,onExit:L,onExited:$,onExiting:x,addEndListener:N,timeout:p},y,{children:(D,U)=>w.cloneElement(a,E({style:E({opacity:0,visibility:D==="exited"&&!u?"hidden":void 0},lz[D],C,a.props.style),ref:I},U))}))}),cz=uz;function dz(t){return ge("MuiBackdrop",t)}me("MuiBackdrop",["root","invisible"]);const hz=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],fz=t=>{const{classes:e,invisible:n}=t;return ye({root:["root",n&&"invisible"]},dz,e)},pz=q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>E({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),mz=w.forwardRef(function(e,n){var r,i,o;const s=ve({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:m={},slots:v={},TransitionComponent:C=cz,transitionDuration:p}=s,g=Q(s,hz),y=E({},s,{component:u,invisible:h}),_=fz(y),I=(r=m.root)!=null?r:d.root;return T.jsx(C,E({in:f,timeout:p},g,{children:T.jsx(pz,E({"aria-hidden":!0},I,{as:(i=(o=v.root)!=null?o:c.Root)!=null?i:u,className:Y(_.root,l,I==null?void 0:I.className),ownerState:E({},y,I==null?void 0:I.ownerState),classes:_,ref:n,children:a}))}))}),gz=mz;function yz(t){return ge("MuiModal",t)}me("MuiModal",["root","hidden","backdrop"]);const vz=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],_z=t=>{const{open:e,exited:n,classes:r}=t;return ye({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},yz,r)},wz=q("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>E({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Ez=q(gz,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Tz=w.forwardRef(function(e,n){var r,i,o,s,a,l;const u=ve({name:"MuiModal",props:e}),{BackdropComponent:c=Ez,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:m,container:v,component:C,components:p={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:I=!1,disablePortal:S=!1,disableRestoreFocus:b=!1,disableScrollLock:R=!1,hideBackdrop:O=!1,keepMounted:x=!1,onBackdropClick:L,open:$,slotProps:N,slots:D}=u,U=Q(u,vz),k=E({},u,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:_,disableEscapeKeyDown:I,disablePortal:S,disableRestoreFocus:b,disableScrollLock:R,hideBackdrop:O,keepMounted:x}),{getRootProps:M,getBackdropProps:P,getTransitionProps:A,portalRef:j,isTopModal:ie,exited:re,hasTransition:_e}=VB(E({},k,{rootRef:n})),J=E({},k,{exited:re}),de=_z(J),ae={};if(m.props.tabIndex===void 0&&(ae.tabIndex="-1"),_e){const{onEnter:pe,onExited:ke}=A();ae.onEnter=pe,ae.onExited=ke}const Me=(r=(i=D==null?void 0:D.root)!=null?i:p.Root)!=null?r:wz,Pe=(o=(s=D==null?void 0:D.backdrop)!=null?s:p.Backdrop)!=null?o:c,he=(a=N==null?void 0:N.root)!=null?a:g.root,gt=(l=N==null?void 0:N.backdrop)!=null?l:g.backdrop,fe=is({elementType:Me,externalSlotProps:he,externalForwardedProps:U,getSlotProps:M,additionalProps:{ref:n,as:C},ownerState:J,className:Y(h,he==null?void 0:he.className,de==null?void 0:de.root,!J.open&&J.exited&&(de==null?void 0:de.hidden))}),Ge=is({elementType:Pe,externalSlotProps:gt,additionalProps:d,getSlotProps:pe=>P(E({},pe,{onClick:ke=>{L&&L(ke),pe!=null&&pe.onClick&&pe.onClick(ke)}})),className:Y(gt==null?void 0:gt.className,d==null?void 0:d.className,de==null?void 0:de.backdrop),ownerState:J});return!x&&!$&&(!_e||re)?null:T.jsx(AP,{ref:j,container:v,disablePortal:S,children:T.jsxs(Me,E({},fe,{children:[!O&&c?T.jsx(Pe,E({},Ge)):null,T.jsx(pU,{disableEnforceFocus:_,disableAutoFocus:y,disableRestoreFocus:b,isEnabled:ie,open:$,children:w.cloneElement(m,ae)})]}))})}),Cz=Tz;function Iz(t){return ge("MuiPopover",t)}me("MuiPopover",["root","paper"]);const Sz=["onEntering"],bz=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Rz=["slotProps"];function sC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function aC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function lC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ag(t){return typeof t=="function"?t():t}const xz=t=>{const{classes:e}=t;return ye({root:["root"],paper:["paper"]},Iz,e)},Pz=q(Cz,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$P=q(wP,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kz=w.forwardRef(function(e,n){var r,i,o;const s=ve({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:v=8,marginThreshold:C=16,open:p,PaperProps:g={},slots:y,slotProps:_,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:S=Jy,transitionDuration:b="auto",TransitionProps:{onEntering:R}={},disableScrollLock:O=!1}=s,x=Q(s.TransitionProps,Sz),L=Q(s,bz),$=(r=_==null?void 0:_.paper)!=null?r:g,N=w.useRef(),D=St(N,$.ref),U=E({},s,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:C,externalPaperSlotProps:$,transformOrigin:I,TransitionComponent:S,transitionDuration:b,TransitionProps:x}),k=xz(U),M=w.useCallback(()=>{if(d==="anchorPosition")return c;const pe=ag(l),Ie=(pe&&pe.nodeType===1?pe:Cn(N.current).body).getBoundingClientRect();return{top:Ie.top+sC(Ie,u.vertical),left:Ie.left+aC(Ie,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),P=w.useCallback(pe=>({vertical:sC(pe,I.vertical),horizontal:aC(pe,I.horizontal)}),[I.horizontal,I.vertical]),A=w.useCallback(pe=>{const ke={width:pe.offsetWidth,height:pe.offsetHeight},Ie=P(ke);if(d==="none")return{top:null,left:null,transformOrigin:lC(Ie)};const vn=M();let Bt=vn.top-Ie.vertical,wt=vn.left-Ie.horizontal;const tn=Bt+ke.height,rt=wt+ke.width,Ve=ns(ag(l)),jt=Ve.innerHeight-C,yt=Ve.innerWidth-C;if(C!==null&&Bt<C){const Ae=Bt-C;Bt-=Ae,Ie.vertical+=Ae}else if(C!==null&&tn>jt){const Ae=tn-jt;Bt-=Ae,Ie.vertical+=Ae}if(C!==null&&wt<C){const Ae=wt-C;wt-=Ae,Ie.horizontal+=Ae}else if(rt>yt){const Ae=rt-yt;wt-=Ae,Ie.horizontal+=Ae}return{top:`${Math.round(Bt)}px`,left:`${Math.round(wt)}px`,transformOrigin:lC(Ie)}},[l,d,M,P,C]),[j,ie]=w.useState(p),re=w.useCallback(()=>{const pe=N.current;if(!pe)return;const ke=A(pe);ke.top!==null&&(pe.style.top=ke.top),ke.left!==null&&(pe.style.left=ke.left),pe.style.transformOrigin=ke.transformOrigin,ie(!0)},[A]);w.useEffect(()=>(O&&window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)),[l,O,re]);const _e=(pe,ke)=>{R&&R(pe,ke),re()},J=()=>{ie(!1)};w.useEffect(()=>{p&&re()}),w.useImperativeHandle(a,()=>p?{updatePosition:()=>{re()}}:null,[p,re]),w.useEffect(()=>{if(!p)return;const pe=oP(()=>{re()}),ke=ns(l);return ke.addEventListener("resize",pe),()=>{pe.clear(),ke.removeEventListener("resize",pe)}},[l,p,re]);let de=b;b==="auto"&&!S.muiSupportAuto&&(de=void 0);const ae=m||(l?Cn(ag(l)).body:void 0),Me=(i=y==null?void 0:y.root)!=null?i:Pz,Pe=(o=y==null?void 0:y.paper)!=null?o:$P,he=is({elementType:Pe,externalSlotProps:E({},$,{style:j?$.style:E({},$.style,{opacity:0})}),additionalProps:{elevation:v,ref:D},ownerState:U,className:Y(k.paper,$==null?void 0:$.className)}),gt=is({elementType:Me,externalSlotProps:(_==null?void 0:_.root)||{},externalForwardedProps:L,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ae,open:p},ownerState:U,className:Y(k.root,f)}),{slotProps:fe}=gt,Ge=Q(gt,Rz);return T.jsx(Me,E({},Ge,!Qu(Me)&&{slotProps:fe,disableScrollLock:O},{children:T.jsx(S,E({appear:!0,in:p,onEntering:_e,onExited:J,timeout:de},x,{children:T.jsx(Pe,E({},he,{children:h}))}))}))}),Az=kz;function Oz(t){return ge("MuiMenu",t)}me("MuiMenu",["root","paper","list"]);const Nz=["onEntering"],Mz=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Dz={vertical:"top",horizontal:"right"},Lz={vertical:"top",horizontal:"left"},$z=t=>{const{classes:e}=t;return ye({root:["root"],paper:["paper"],list:["list"]},Oz,e)},Fz=q(Az,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vz=q($P,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Uz=q(iz,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Bz=w.forwardRef(function(e,n){var r,i;const o=ve({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:C}={},variant:p="selectedMenu",slots:g={},slotProps:y={}}=o,_=Q(o.TransitionProps,Nz),I=Q(o,Mz),S=Ka(),b=S.direction==="rtl",R=E({},o,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:c,onEntering:C,PaperProps:f,transitionDuration:v,TransitionProps:_,variant:p}),O=$z(R),x=s&&!u&&h,L=w.useRef(null),$=(A,j)=>{L.current&&L.current.adjustStyleForScrollbar(A,S),C&&C(A,j)},N=A=>{A.key==="Tab"&&(A.preventDefault(),d&&d(A,"tabKeyDown"))};let D=-1;w.Children.map(a,(A,j)=>{w.isValidElement(A)&&(A.props.disabled||(p==="selectedMenu"&&A.props.selected||D===-1)&&(D=j))});const U=(r=g.paper)!=null?r:Vz,k=(i=y.paper)!=null?i:f,M=is({elementType:g.root,externalSlotProps:y.root,ownerState:R,className:[O.root,l]}),P=is({elementType:U,externalSlotProps:k,ownerState:R,className:O.paper});return T.jsx(Fz,E({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?Dz:Lz,slots:{paper:U,root:g.root},slotProps:{root:M,paper:P},open:h,ref:n,transitionDuration:v,TransitionProps:E({onEntering:$},_),ownerState:R},I,{classes:m,children:T.jsx(Uz,E({onKeyDown:N,actions:L,autoFocus:s&&(D===-1||u),autoFocusItem:x,variant:p},c,{className:Y(O.list,c.className),children:a}))}))}),jz=Bz;function zz(t){return ge("MuiNativeSelect",t)}const Wz=me("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),O0=Wz,Hz=["className","disabled","error","IconComponent","inputRef","variant"],qz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${K(n)}`,o&&"iconOpen",r&&"disabled"]};return ye(a,zz,e)},FP=({ownerState:t,theme:e})=>E({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":E({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${O0.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Kz=q("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${O0.multiple}`]:e.multiple}]}})(FP),VP=({ownerState:t,theme:e})=>E({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${O0.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Gz=q("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${K(n.variant)}`],n.open&&e.iconOpen]}})(VP),Qz=w.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,u=Q(e,Hz),c=E({},e,{disabled:i,variant:l,error:o}),d=qz(c);return T.jsxs(w.Fragment,{children:[T.jsx(Kz,E({ownerState:c,className:Y(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:T.jsx(Gz,{as:s,ownerState:c,className:d.icon})]})}),Yz=Qz;function Xz(t){return ge("MuiSelect",t)}const bl=me("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var uC;const Jz=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Zz=q("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${bl.select}`]:e.select},{[`&.${bl.select}`]:e[n.variant]},{[`&.${bl.error}`]:e.error},{[`&.${bl.multiple}`]:e.multiple}]}})(FP,{[`&.${bl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),e8=q("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${K(n.variant)}`],n.open&&e.iconOpen]}})(VP),t8=q("input",{shouldForwardProp:t=>Z9(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function cC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function n8(t){return t==null||typeof t=="string"&&!t.trim()}const r8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${K(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ye(a,Xz,e)},i8=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:m=!1,IconComponent:v,inputRef:C,labelId:p,MenuProps:g={},multiple:y,name:_,onBlur:I,onChange:S,onClose:b,onFocus:R,onOpen:O,open:x,readOnly:L,renderValue:$,SelectDisplayProps:N={},tabIndex:D,value:U,variant:k="standard"}=e,M=Q(e,Jz),[P,A]=jy({controlled:U,default:d,name:"Select"}),[j,ie]=jy({controlled:x,default:c,name:"Select"}),re=w.useRef(null),_e=w.useRef(null),[J,de]=w.useState(null),{current:ae}=w.useRef(x!=null),[Me,Pe]=w.useState(),he=St(n,C),gt=w.useCallback(ee=>{_e.current=ee,ee&&de(ee)},[]),fe=J==null?void 0:J.parentNode;w.useImperativeHandle(he,()=>({focus:()=>{_e.current.focus()},node:re.current,value:P}),[P]),w.useEffect(()=>{c&&j&&J&&!ae&&(Pe(a?null:fe.clientWidth),_e.current.focus())},[J,a]),w.useEffect(()=>{s&&_e.current.focus()},[s]),w.useEffect(()=>{if(!p)return;const ee=Cn(_e.current).getElementById(p);if(ee){const We=()=>{getSelection().isCollapsed&&_e.current.focus()};return ee.addEventListener("click",We),()=>{ee.removeEventListener("click",We)}}},[p]);const Ge=(ee,We)=>{ee?O&&O(We):b&&b(We),ae||(Pe(a?null:fe.clientWidth),ie(ee))},pe=ee=>{ee.button===0&&(ee.preventDefault(),_e.current.focus(),Ge(!0,ee))},ke=ee=>{Ge(!1,ee)},Ie=w.Children.toArray(l),vn=ee=>{const We=Ie.find(dt=>dt.props.value===ee.target.value);We!==void 0&&(A(We.props.value),S&&S(ee,We))},Bt=ee=>We=>{let dt;if(We.currentTarget.hasAttribute("tabindex")){if(y){dt=Array.isArray(P)?P.slice():[];const Mr=P.indexOf(ee.props.value);Mr===-1?dt.push(ee.props.value):dt.splice(Mr,1)}else dt=ee.props.value;if(ee.props.onClick&&ee.props.onClick(We),P!==dt&&(A(dt),S)){const Mr=We.nativeEvent||We,rl=new Mr.constructor(Mr.type,Mr);Object.defineProperty(rl,"target",{writable:!0,value:{value:dt,name:_}}),S(rl,ee)}y||Ge(!1,We)}},wt=ee=>{L||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ee.key)!==-1&&(ee.preventDefault(),Ge(!0,ee))},tn=J!==null&&j,rt=ee=>{!tn&&I&&(Object.defineProperty(ee,"target",{writable:!0,value:{value:P,name:_}}),I(ee))};delete M["aria-invalid"];let Ve,jt;const yt=[];let Ae=!1;(Xh({value:P})||f)&&($?Ve=$(P):Ae=!0);const Ot=Ie.map(ee=>{if(!w.isValidElement(ee))return null;let We;if(y){if(!Array.isArray(P))throw new Error(ho(2));We=P.some(dt=>cC(dt,ee.props.value)),We&&Ae&&yt.push(ee.props.children)}else We=cC(P,ee.props.value),We&&Ae&&(jt=ee.props.children);return w.cloneElement(ee,{"aria-selected":We?"true":"false",onClick:Bt(ee),onKeyUp:dt=>{dt.key===" "&&dt.preventDefault(),ee.props.onKeyUp&&ee.props.onKeyUp(dt)},role:"option",selected:We,value:void 0,"data-value":ee.props.value})});Ae&&(y?yt.length===0?Ve=null:Ve=yt.reduce((ee,We,dt)=>(ee.push(We),dt<yt.length-1&&ee.push(", "),ee),[]):Ve=jt);let bt=Me;!a&&ae&&J&&(bt=fe.clientWidth);let _n;typeof D<"u"?_n=D:_n=h?null:0;const De=N.id||(_?`mui-component-select-${_}`:void 0),ne=E({},e,{variant:k,value:P,open:tn,error:m}),Rt=r8(ne),ii=E({},g.PaperProps,(r=g.slotProps)==null?void 0:r.paper),mr=Hu();return T.jsxs(w.Fragment,{children:[T.jsx(Zz,E({ref:gt,tabIndex:_n,role:"combobox","aria-controls":mr,"aria-disabled":h?"true":void 0,"aria-expanded":tn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[p,De].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:wt,onMouseDown:h||L?null:pe,onBlur:rt,onFocus:R},N,{ownerState:ne,className:Y(N.className,Rt.select,u),id:De,children:n8(Ve)?uC||(uC=T.jsx("span",{className:"notranslate",children:"​"})):Ve})),T.jsx(t8,E({"aria-invalid":m,value:Array.isArray(P)?P.join(","):P,name:_,ref:re,"aria-hidden":!0,onChange:vn,tabIndex:-1,disabled:h,className:Rt.nativeInput,autoFocus:s,ownerState:ne},M)),T.jsx(e8,{as:v,className:Rt.icon,ownerState:ne}),T.jsx(jz,E({id:`menu-${_||""}`,anchorEl:fe,open:tn,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:E({"aria-labelledby":p,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:mr},g.MenuListProps),slotProps:E({},g.slotProps,{paper:E({},ii,{style:E({minWidth:bt},ii!=null?ii.style:null)})}),children:Ot}))]})}),o8=i8;function s8(t){return ge("MuiSvgIcon",t)}me("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const a8=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],l8=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${K(e)}`,`fontSize${K(n)}`]};return ye(i,s8,r)},u8=q("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${K(n.color)}`],e[`fontSize${K(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,u,c,d,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),Zy=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=Q(r,a8),m=w.isValidElement(i)&&i.type==="svg",v=E({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),C={};c||(C.viewBox=h);const p=l8(v);return T.jsxs(u8,E({as:a,className:Y(p.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},C,f,m&&i.props,{ownerState:v,children:[m?i.props.children:i,d?T.jsx("title",{children:d}):null]}))});Zy.muiName="SvgIcon";function Ya(t,e){function n(r,i){return T.jsx(Zy,E({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Zy.muiName,w.memo(w.forwardRef(n))}const c8=Ya(T.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function d8(t){return ge("MuiInput",t)}const h8=E({},xa,me("MuiInput",["root","underline","input"])),Rl=h8,f8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],p8=t=>{const{classes:e,disableUnderline:n}=t,i=ye({root:["root",!n&&"underline"],input:["input"]},d8,e);return E({},e,i)},m8=q(kp,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),E({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Rl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Rl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Rl.disabled}, .${Rl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Rl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),g8=q(Ap,{name:"MuiInput",slot:"Input",overridesResolver:Pp})({}),UP=w.forwardRef(function(e,n){var r,i,o,s;const a=ve({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:C="text"}=a,p=Q(a,f8),g=p8(a),_={root:{ownerState:{disableUnderline:l}}},I=m??c?An(m??c,_):_,S=(r=(i=v.root)!=null?i:u.Root)!=null?r:m8,b=(o=(s=v.input)!=null?s:u.Input)!=null?o:g8;return T.jsx(Op,E({slots:{root:S,input:b},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:C},p,{classes:g}))});UP.muiName="Input";const BP=UP;function y8(t){return ge("MuiFilledInput",t)}const v8=E({},xa,me("MuiFilledInput",["root","underline","input"])),To=v8,_8=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],w8=t=>{const{classes:e,disableUnderline:n}=t,i=ye({root:["root",!n&&"underline"],input:["input"]},y8,e);return E({},e,i)},E8=q(kp,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return E({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${To.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${To.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${To.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${To.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${To.disabled}, .${To.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${To.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&E({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),T8=q(Ap,{name:"MuiFilledInput",slot:"Input",overridesResolver:Pp})(({theme:t,ownerState:e})=>E({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),jP=w.forwardRef(function(e,n){var r,i,o,s;const a=ve({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text"}=a,C=Q(a,_8),p=E({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),g=w8(a),y={root:{ownerState:p},input:{ownerState:p}},_=f??u?An(y,f??u):y,I=(r=(i=m.root)!=null?i:l.Root)!=null?r:E8,S=(o=(s=m.input)!=null?s:l.Input)!=null?o:T8;return T.jsx(Op,E({slots:{root:I,input:S},componentsProps:_,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},C,{classes:g}))});jP.muiName="Input";const zP=jP;var dC;const C8=["children","classes","className","label","notched"],I8=q("fieldset",{shouldForwardProp:pr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),S8=q("legend",{shouldForwardProp:pr})(({ownerState:t,theme:e})=>E({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&E({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function b8(t){const{className:e,label:n,notched:r}=t,i=Q(t,C8),o=n!=null&&n!=="",s=E({},t,{notched:r,withLabel:o});return T.jsx(I8,E({"aria-hidden":!0,className:e,ownerState:s},i,{children:T.jsx(S8,{ownerState:s,children:o?T.jsx("span",{children:n}):dC||(dC=T.jsx("span",{className:"notranslate",children:"​"}))})}))}function R8(t){return ge("MuiOutlinedInput",t)}const x8=E({},xa,me("MuiOutlinedInput",["root","notchedOutline","input"])),Li=x8,P8=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],k8=t=>{const{classes:e}=t,r=ye({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},R8,e);return E({},e,r)},A8=q(kp,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:xp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return E({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Li.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Li.focused} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Li.error} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Li.disabled} .${Li.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&E({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),O8=q(b8,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),N8=q(Ap,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Pp})(({theme:t,ownerState:e})=>E({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),WP=w.forwardRef(function(e,n){var r,i,o,s,a;const l=ve({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:m,slots:v={},type:C="text"}=l,p=Q(l,P8),g=k8(l),y=Qa(),_=Ga({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=E({},l,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:y,fullWidth:c,hiddenLabel:_.hiddenLabel,multiline:f,size:_.size,type:C}),S=(r=(i=v.root)!=null?i:u.Root)!=null?r:A8,b=(o=(s=v.input)!=null?s:u.Input)!=null?o:N8;return T.jsx(Op,E({slots:{root:S,input:b},renderSuffix:R=>T.jsx(O8,{ownerState:I,className:g.notchedOutline,label:h!=null&&h!==""&&_.required?a||(a=T.jsxs(w.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:C},p,{classes:E({},g,{notchedOutline:null})}))});WP.muiName="Input";const HP=WP,M8=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],D8=["root"],L8=t=>{const{classes:e}=t;return e},N0={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>pr(t)&&t!=="variant",slot:"Root"},$8=q(BP,N0)(""),F8=q(HP,N0)(""),V8=q(zP,N0)(""),qP=w.forwardRef(function(e,n){const r=ve({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=c8,id:d,input:h,inputProps:f,label:m,labelId:v,MenuProps:C,multiple:p=!1,native:g=!1,onClose:y,onOpen:_,open:I,renderValue:S,SelectDisplayProps:b,variant:R="outlined"}=r,O=Q(r,M8),x=g?Yz:o8,L=Qa(),$=Ga({props:r,muiFormControl:L,states:["variant","error"]}),N=$.variant||R,D=E({},r,{variant:N,classes:s}),U=L8(D),k=Q(U,D8),M=h||{standard:T.jsx($8,{ownerState:D}),outlined:T.jsx(F8,{label:m,ownerState:D}),filled:T.jsx(V8,{ownerState:D})}[N],P=St(n,M.ref);return T.jsx(w.Fragment,{children:w.cloneElement(M,E({inputComponent:x,inputProps:E({children:o,error:$.error,IconComponent:c,variant:N,type:void 0,multiple:p},g?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:C,onClose:y,onOpen:_,open:I,renderValue:S,SelectDisplayProps:E({id:d},b)},f,{classes:f?An(k,f.classes):k},h?h.props.inputProps:{})},p&&g&&N==="outlined"?{notched:!0}:{},{ref:P,className:Y(M.props.className,a,U.root)},!h&&{variant:N},O))})});qP.muiName="Select";const KP=qP;function U8(t){return ge("MuiToolbar",t)}me("MuiToolbar",["root","gutters","regular","dense"]);const B8=["className","component","disableGutters","variant"],j8=t=>{const{classes:e,disableGutters:n,variant:r}=t;return ye({root:["root",!n&&"gutters",r]},U8,e)},z8=q("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>E({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),W8=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,l=Q(r,B8),u=E({},r,{component:o,disableGutters:s,variant:a}),c=j8(u);return T.jsx(z8,E({as:o,className:Y(c.root,i),ref:n,ownerState:u},l))}),H8=W8,q8=Ya(T.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),K8=Ya(T.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function G8(t){return ge("MuiIconButton",t)}const Q8=me("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Y8=["edge","children","className","color","disabled","disableFocusRipple","size"],X8=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${K(r)}`,i&&`edge${K(i)}`,`size${K(o)}`]};return ye(s,G8,e)},J8=q(Ju,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${K(n.color)}`],n.edge&&e[`edge${K(n.edge)}`],e[`size${K(n.size)}`]]}})(({theme:t,ownerState:e})=>E({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:He(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return E({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&E({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":E({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:He(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Q8.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Z8=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=Q(r,Y8),h=E({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=X8(h);return T.jsx(J8,E({className:Y(f.root,s),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:o}))}),br=Z8,e7=Ya(T.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),t7=Ya(T.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),n7=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],r7=w.forwardRef(function(e,n){var r,i,o,s,a,l,u,c;const{backIconButtonProps:d,count:h,disabled:f=!1,getItemAriaLabel:m,nextIconButtonProps:v,onPageChange:C,page:p,rowsPerPage:g,showFirstButton:y,showLastButton:_,slots:I={},slotProps:S={}}=e,b=Q(e,n7),R=Ka(),O=he=>{C(he,0)},x=he=>{C(he,p-1)},L=he=>{C(he,p+1)},$=he=>{C(he,Math.max(0,Math.ceil(h/g)-1))},N=(r=I.firstButton)!=null?r:br,D=(i=I.lastButton)!=null?i:br,U=(o=I.nextButton)!=null?o:br,k=(s=I.previousButton)!=null?s:br,M=(a=I.firstButtonIcon)!=null?a:t7,P=(l=I.lastButtonIcon)!=null?l:e7,A=(u=I.nextButtonIcon)!=null?u:K8,j=(c=I.previousButtonIcon)!=null?c:q8,ie=R.direction==="rtl"?D:N,re=R.direction==="rtl"?U:k,_e=R.direction==="rtl"?k:U,J=R.direction==="rtl"?N:D,de=R.direction==="rtl"?S.lastButton:S.firstButton,ae=R.direction==="rtl"?S.nextButton:S.previousButton,Me=R.direction==="rtl"?S.previousButton:S.nextButton,Pe=R.direction==="rtl"?S.firstButton:S.lastButton;return T.jsxs("div",E({ref:n},b,{children:[y&&T.jsx(ie,E({onClick:O,disabled:f||p===0,"aria-label":m("first",p),title:m("first",p)},de,{children:R.direction==="rtl"?T.jsx(P,E({},S.lastButtonIcon)):T.jsx(M,E({},S.firstButtonIcon))})),T.jsx(re,E({onClick:x,disabled:f||p===0,color:"inherit","aria-label":m("previous",p),title:m("previous",p)},ae??d,{children:R.direction==="rtl"?T.jsx(A,E({},S.nextButtonIcon)):T.jsx(j,E({},S.previousButtonIcon))})),T.jsx(_e,E({onClick:L,disabled:f||(h!==-1?p>=Math.ceil(h/g)-1:!1),color:"inherit","aria-label":m("next",p),title:m("next",p)},Me??v,{children:R.direction==="rtl"?T.jsx(j,E({},S.previousButtonIcon)):T.jsx(A,E({},S.nextButtonIcon))})),_&&T.jsx(J,E({onClick:$,disabled:f||p>=Math.ceil(h/g)-1,"aria-label":m("last",p),title:m("last",p)},Pe,{children:R.direction==="rtl"?T.jsx(M,E({},S.firstButtonIcon)):T.jsx(P,E({},S.lastButtonIcon))}))]}))}),i7=r7;function o7(t){return ge("MuiTablePagination",t)}const s7=me("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),du=s7;var hC;const a7=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],l7=q(Gu,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),u7=q(H8,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>E({[`& .${du.actions}`]:e.actions},e.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${du.actions}`]:{flexShrink:0,marginLeft:20}})),c7=q("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})({flex:"1 1 100%"}),d7=q("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,e)=>e.selectLabel})(({theme:t})=>E({},t.typography.body2,{flexShrink:0})),h7=q(KP,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>E({[`& .${du.selectIcon}`]:e.selectIcon,[`& .${du.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${du.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),f7=q(Yj,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,e)=>e.menuItem})({}),p7=q("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,e)=>e.displayedRows})(({theme:t})=>E({},t.typography.body2,{flexShrink:0}));function m7({from:t,to:e,count:n}){return`${t}–${e} of ${n!==-1?n:`more than ${e}`}`}function g7(t){return`Go to ${t} page`}const y7=t=>{const{classes:e}=t;return ye({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},o7,e)},v7=w.forwardRef(function(e,n){var r;const i=ve({props:e,name:"MuiTablePagination"}),{ActionsComponent:o=i7,backIconButtonProps:s,className:a,colSpan:l,component:u=Gu,count:c,disabled:d=!1,getItemAriaLabel:h=g7,labelDisplayedRows:f=m7,labelRowsPerPage:m="Rows per page:",nextIconButtonProps:v,onPageChange:C,onRowsPerPageChange:p,page:g,rowsPerPage:y,rowsPerPageOptions:_=[10,25,50,100],SelectProps:I={},showFirstButton:S=!1,showLastButton:b=!1,slotProps:R={},slots:O={}}=i,x=Q(i,a7),L=i,$=y7(L),N=(r=R==null?void 0:R.select)!=null?r:I,D=N.native?"option":f7;let U;(u===Gu||u==="td")&&(U=l||1e3);const k=Hu(N.id),M=Hu(N.labelId),P=()=>c===-1?(g+1)*y:y===-1?c:Math.min(c,(g+1)*y);return T.jsx(l7,E({colSpan:U,ref:n,as:u,ownerState:L,className:Y($.root,a)},x,{children:T.jsxs(u7,{className:$.toolbar,children:[T.jsx(c7,{className:$.spacer}),_.length>1&&T.jsx(d7,{className:$.selectLabel,id:M,children:m}),_.length>1&&T.jsx(h7,E({variant:"standard"},!N.variant&&{input:hC||(hC=T.jsx(Op,{}))},{value:y,onChange:p,id:k,labelId:M},N,{classes:E({},N.classes,{root:Y($.input,$.selectRoot,(N.classes||{}).root),select:Y($.select,(N.classes||{}).select),icon:Y($.selectIcon,(N.classes||{}).icon)}),disabled:d,children:_.map(A=>w.createElement(D,E({},!Qu(D)&&{ownerState:L},{className:$.menuItem,key:A.label?A.label:A,value:A.value?A.value:A}),A.label?A.label:A))})),T.jsx(p7,{className:$.displayedRows,children:f({from:c===0?0:g*y+1,to:P(),count:c===-1?-1:c,page:g})}),T.jsx(o,{className:$.actions,backIconButtonProps:s,count:c,nextIconButtonProps:v,onPageChange:C,page:g,rowsPerPage:y,showFirstButton:S,showLastButton:b,slotProps:R.actions,slots:O.actions,getItemAriaLabel:h,disabled:d})]})}))}),_7=v7,w7=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],E7=q(kB,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),T7=w.forwardRef(function(e,n){var r;const i=hP(),o=ve({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:m,placement:v,popperOptions:C,popperRef:p,transition:g,slots:y,slotProps:_}=o,I=Q(o,w7),S=(r=y==null?void 0:y.root)!=null?r:l==null?void 0:l.Root,b=E({anchorEl:s,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:m,placement:v,popperOptions:C,popperRef:p,transition:g},I);return T.jsx(E7,E({as:a,direction:i==null?void 0:i.direction,slots:{root:S},slotProps:_??u},b,{ref:n}))}),GP=T7;function C7(t){return ge("MuiListSubheader",t)}me("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const I7=["className","color","component","disableGutters","disableSticky","inset"],S7=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:o}=t,s={root:["root",n!=="default"&&`color${K(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return ye(s,C7,e)},b7=q("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${K(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>E({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),QP=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:l=!1,inset:u=!1}=r,c=Q(r,I7),d=E({},r,{color:o,component:s,disableGutters:a,disableSticky:l,inset:u}),h=S7(d);return T.jsx(b7,E({as:s,className:Y(h.root,i),ref:n,ownerState:d},c))});QP.muiSkipListHighlight=!0;const fC=QP,R7=Ya(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function x7(t){return ge("MuiChip",t)}const P7=me("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ne=P7,k7=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],A7=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${K(r)}`,`color${K(i)}`,a&&"clickable",a&&`clickableColor${K(i)}`,s&&"deletable",s&&`deletableColor${K(i)}`,`${l}${K(i)}`],label:["label",`label${K(r)}`],avatar:["avatar",`avatar${K(r)}`,`avatarColor${K(i)}`],icon:["icon",`icon${K(r)}`,`iconColor${K(o)}`],deleteIcon:["deleteIcon",`deleteIcon${K(r)}`,`deleteIconColor${K(i)}`,`deleteIcon${K(l)}Color${K(i)}`]};return ye(u,x7,e)},O7=q("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Ne.avatar}`]:e.avatar},{[`& .${Ne.avatar}`]:e[`avatar${K(a)}`]},{[`& .${Ne.avatar}`]:e[`avatarColor${K(r)}`]},{[`& .${Ne.icon}`]:e.icon},{[`& .${Ne.icon}`]:e[`icon${K(a)}`]},{[`& .${Ne.icon}`]:e[`iconColor${K(i)}`]},{[`& .${Ne.deleteIcon}`]:e.deleteIcon},{[`& .${Ne.deleteIcon}`]:e[`deleteIcon${K(a)}`]},{[`& .${Ne.deleteIcon}`]:e[`deleteIconColor${K(r)}`]},{[`& .${Ne.deleteIcon}`]:e[`deleteIcon${K(l)}Color${K(r)}`]},e.root,e[`size${K(a)}`],e[`color${K(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${K(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${K(r)}`],e[l],e[`${l}${K(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return E({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ne.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ne.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Ne.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Ne.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Ne.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Ne.icon}`]:E({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&E({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Ne.deleteIcon}`]:E({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:He(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:He(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:He(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Ne.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:He(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Ne.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>E({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:He(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Ne.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:He(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Ne.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>E({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Ne.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ne.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Ne.avatar}`]:{marginLeft:4},[`& .${Ne.avatarSmall}`]:{marginLeft:2},[`& .${Ne.icon}`]:{marginLeft:4},[`& .${Ne.iconSmall}`]:{marginLeft:2},[`& .${Ne.deleteIcon}`]:{marginRight:5},[`& .${Ne.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:He(t.palette[e.color].main,.7)}`,[`&.${Ne.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:He(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Ne.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:He(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Ne.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:He(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),N7=q("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${K(r)}`]]}})(({ownerState:t})=>E({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function pC(t){return t.key==="Backspace"||t.key==="Delete"}const M7=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:f,onDelete:m,onKeyDown:v,onKeyUp:C,size:p="medium",variant:g="filled",tabIndex:y,skipFocusWhenDisabled:_=!1}=r,I=Q(r,k7),S=w.useRef(null),b=St(S,n),R=A=>{A.stopPropagation(),m&&m(A)},O=A=>{A.currentTarget===A.target&&pC(A)&&A.preventDefault(),v&&v(A)},x=A=>{A.currentTarget===A.target&&(m&&pC(A)?m(A):A.key==="Escape"&&S.current&&S.current.blur()),C&&C(A)},L=s!==!1&&f?!0:s,$=L||m?Ju:l||"div",N=E({},r,{component:$,disabled:c,size:p,color:a,iconColor:w.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:L,variant:g}),D=A7(N),U=$===Ju?E({component:l||"div",focusVisibleClassName:D.focusVisible},m&&{disableRipple:!0}):{};let k=null;m&&(k=u&&w.isValidElement(u)?w.cloneElement(u,{className:Y(u.props.className,D.deleteIcon),onClick:R}):T.jsx(R7,{className:Y(D.deleteIcon),onClick:R}));let M=null;i&&w.isValidElement(i)&&(M=w.cloneElement(i,{className:Y(D.avatar,i.props.className)}));let P=null;return d&&w.isValidElement(d)&&(P=w.cloneElement(d,{className:Y(D.icon,d.props.className)})),T.jsxs(O7,E({as:$,className:Y(D.root,o),disabled:L&&c?!0:void 0,onClick:f,onKeyDown:O,onKeyUp:x,ref:b,tabIndex:_&&c?-1:y,ownerState:N},U,I,{children:[M||P,T.jsx(N7,{className:Y(D.label),ownerState:N,children:h}),k]}))}),xl=M7;function D7(t){return ge("MuiFormControl",t)}me("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const L7=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$7=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${K(n)}`,r&&"fullWidth"]};return ye(i,D7,e)},F7=q("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>E({},e.root,e[`margin${K(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>E({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),V7=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:m=!1,size:v="medium",variant:C="outlined"}=r,p=Q(r,L7),g=E({},r,{color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:m,size:v,variant:C}),y=$7(g),[_,I]=w.useState(()=>{let N=!1;return i&&w.Children.forEach(i,D=>{if(!tg(D,["Input","Select"]))return;const U=tg(D,["Select"])?D.props.input:D;U&&HB(U.props)&&(N=!0)}),N}),[S,b]=w.useState(()=>{let N=!1;return i&&w.Children.forEach(i,D=>{tg(D,["Input","Select"])&&(Xh(D.props,!0)||Xh(D.props.inputProps,!0))&&(N=!0)}),N}),[R,O]=w.useState(!1);l&&R&&O(!1);const x=c!==void 0&&!l?c:R;let L;const $=w.useMemo(()=>({adornedStart:_,setAdornedStart:I,color:s,disabled:l,error:u,filled:S,focused:x,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{O(!1)},onEmpty:()=>{b(!1)},onFilled:()=>{b(!0)},onFocus:()=>{O(!0)},registerEffect:L,required:m,variant:C}),[_,s,l,u,S,x,d,h,L,m,v,C]);return T.jsx(P0.Provider,{value:$,children:T.jsx(F7,E({as:a,ownerState:g,className:Y(y.root,o),ref:n},p,{children:i}))})}),U7=V7;function B7(t){return ge("MuiFormHelperText",t)}const j7=me("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),mC=j7;var gC;const z7=["children","className","component","disabled","error","filled","focused","margin","required","variant"],W7=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${K(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return ye(u,B7,e)},H7=q("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${K(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>E({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${mC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${mC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),q7=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=Q(r,z7),l=Qa(),u=Ga({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=E({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=W7(c);return T.jsx(H7,E({as:s,ownerState:c,className:Y(d.root,o),ref:n},a,{children:i===" "?gC||(gC=T.jsx("span",{className:"notranslate",children:"​"})):i}))}),K7=q7;function G7(t){return ge("MuiFormLabel",t)}const Q7=me("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),hu=Q7,Y7=["children","className","color","component","disabled","error","filled","focused","required"],X7=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${K(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ye(l,G7,e)},J7=q("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>E({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>E({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${hu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${hu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${hu.error}`]:{color:(t.vars||t).palette.error.main}})),Z7=q("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${hu.error}`]:{color:(t.vars||t).palette.error.main}})),eW=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=Q(r,Y7),l=Qa(),u=Ga({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=E({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=X7(c);return T.jsxs(J7,E({as:s,ownerState:c,className:Y(d.root,o),ref:n},a,{children:[i,u.required&&T.jsxs(Z7,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),tW=eW;function nW(t){return ge("MuiInputLabel",t)}me("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const rW=["disableAnimation","margin","shrink","variant","className"],iW=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${K(r)}`,s],asterisk:[a&&"asterisk"]},u=ye(l,nW,e);return E({},e,u)},oW=q(tW,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${hu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>E({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&E({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&E({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&E({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),sW=w.forwardRef(function(e,n){const r=ve({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=Q(r,rW),l=Qa();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Ga({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=E({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=iW(d);return T.jsx(oW,E({"data-shrink":u,ownerState:d,ref:n,className:Y(h.root,s)},a,{classes:h}))}),aW=sW;function lW(t){return ge("MuiListItemButton",t)}const uW=me("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Pl=uW,cW=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],dW=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},hW=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=t,u=ye({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},lW,n);return E({},n,u)},fW=q(Ju,{shouldForwardProp:t=>pr(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:dW})(({theme:t,ownerState:e})=>E({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Pl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:He(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Pl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:He(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Pl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:He(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:He(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Pl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Pl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),pW=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:f}=r,m=Q(r,cW),v=w.useContext(ss),C=w.useMemo(()=>({dense:l||v.dense||!1,alignItems:i,disableGutters:u}),[i,v.dense,l,u]),p=w.useRef(null);Or(()=>{o&&p.current&&p.current.focus()},[o]);const g=E({},r,{alignItems:i,dense:C.dense,disableGutters:u,divider:c,selected:h}),y=hW(g),_=St(p,n);return T.jsx(ss.Provider,{value:C,children:T.jsx(fW,E({ref:_,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:Y(y.focusVisible,d),ownerState:g,className:Y(y.root,f)},m,{classes:y,children:a}))})}),kl=pW;function mW(t){return ge("MuiTooltip",t)}const gW=me("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ki=gW,yW=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function vW(t){return Math.round(t*1e5)/1e5}const _W=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${K(o.split("-")[0])}`],arrow:["arrow"]};return ye(s,mW,e)},wW=q(GP,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>E({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ki.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ki.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ki.arrow}`]:E({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ki.arrow}`]:E({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),EW=q("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${K(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>E({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:He(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${vW(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ki.popper}[data-popper-placement*="left"] &`]:E({transformOrigin:"right center"},e.isRtl?E({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):E({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ki.popper}[data-popper-placement*="right"] &`]:E({transformOrigin:"left center"},e.isRtl?E({marginRight:"14px"},e.touch&&{marginRight:"24px"}):E({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ki.popper}[data-popper-placement*="top"] &`]:E({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ki.popper}[data-popper-placement*="bottom"] &`]:E({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),TW=q("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:He(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let wd=!1,lg=null,Al={x:0,y:0};function Ed(t,e){return n=>{e&&e(n),t(n)}}const CW=w.forwardRef(function(e,n){var r,i,o,s,a,l,u,c,d,h,f,m,v,C,p,g,y,_,I;const S=ve({props:e,name:"MuiTooltip"}),{arrow:b=!1,children:R,components:O={},componentsProps:x={},describeChild:L=!1,disableFocusListener:$=!1,disableHoverListener:N=!1,disableInteractive:D=!1,disableTouchListener:U=!1,enterDelay:k=100,enterNextDelay:M=0,enterTouchDelay:P=700,followCursor:A=!1,id:j,leaveDelay:ie=0,leaveTouchDelay:re=1500,onClose:_e,onOpen:J,open:de,placement:ae="bottom",PopperComponent:Me,PopperProps:Pe={},slotProps:he={},slots:gt={},title:fe,TransitionComponent:Ge=Jy,TransitionProps:pe}=S,ke=Q(S,yW),Ie=w.isValidElement(R)?R:T.jsx("span",{children:R}),vn=Ka(),Bt=vn.direction==="rtl",[wt,tn]=w.useState(),[rt,Ve]=w.useState(null),jt=w.useRef(!1),yt=D||A,Ae=w.useRef(),Ot=w.useRef(),bt=w.useRef(),_n=w.useRef(),[De,ne]=jy({controlled:de,default:!1,name:"Tooltip",state:"open"});let Rt=De;const ii=Hu(j),mr=w.useRef(),ee=w.useCallback(()=>{mr.current!==void 0&&(document.body.style.WebkitUserSelect=mr.current,mr.current=void 0),clearTimeout(_n.current)},[]);w.useEffect(()=>()=>{clearTimeout(Ae.current),clearTimeout(Ot.current),clearTimeout(bt.current),ee()},[ee]);const We=we=>{clearTimeout(lg),wd=!0,ne(!0),J&&!Rt&&J(we)},dt=Mo(we=>{clearTimeout(lg),lg=setTimeout(()=>{wd=!1},800+ie),ne(!1),_e&&Rt&&_e(we),clearTimeout(Ae.current),Ae.current=setTimeout(()=>{jt.current=!1},vn.transitions.duration.shortest)}),Mr=we=>{jt.current&&we.type!=="touchstart"||(wt&&wt.removeAttribute("title"),clearTimeout(Ot.current),clearTimeout(bt.current),k||wd&&M?Ot.current=setTimeout(()=>{We(we)},wd?M:k):We(we))},rl=we=>{clearTimeout(Ot.current),clearTimeout(bt.current),bt.current=setTimeout(()=>{dt(we)},ie)},{isFocusVisibleRef:k1,onBlur:TO,onFocus:CO,ref:IO}=sP(),[,A1]=w.useState(!1),O1=we=>{TO(we),k1.current===!1&&(A1(!1),rl(we))},N1=we=>{wt||tn(we.currentTarget),CO(we),k1.current===!0&&(A1(!0),Mr(we))},M1=we=>{jt.current=!0;const Ln=Ie.props;Ln.onTouchStart&&Ln.onTouchStart(we)},D1=Mr,L1=rl,SO=we=>{M1(we),clearTimeout(bt.current),clearTimeout(Ae.current),ee(),mr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",_n.current=setTimeout(()=>{document.body.style.WebkitUserSelect=mr.current,Mr(we)},P)},bO=we=>{Ie.props.onTouchEnd&&Ie.props.onTouchEnd(we),ee(),clearTimeout(bt.current),bt.current=setTimeout(()=>{dt(we)},re)};w.useEffect(()=>{if(!Rt)return;function we(Ln){(Ln.key==="Escape"||Ln.key==="Esc")&&dt(Ln)}return document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[dt,Rt]);const RO=St(Ie.ref,IO,tn,n);!fe&&fe!==0&&(Rt=!1);const dm=w.useRef(),xO=we=>{const Ln=Ie.props;Ln.onMouseMove&&Ln.onMouseMove(we),Al={x:we.clientX,y:we.clientY},dm.current&&dm.current.update()},il={},hm=typeof fe=="string";L?(il.title=!Rt&&hm&&!N?fe:null,il["aria-describedby"]=Rt?ii:null):(il["aria-label"]=hm?fe:null,il["aria-labelledby"]=Rt&&!hm?ii:null);const gr=E({},il,ke,Ie.props,{className:Y(ke.className,Ie.props.className),onTouchStart:M1,ref:RO},A?{onMouseMove:xO}:{}),ol={};U||(gr.onTouchStart=SO,gr.onTouchEnd=bO),N||(gr.onMouseOver=Ed(D1,gr.onMouseOver),gr.onMouseLeave=Ed(L1,gr.onMouseLeave),yt||(ol.onMouseOver=D1,ol.onMouseLeave=L1)),$||(gr.onFocus=Ed(N1,gr.onFocus),gr.onBlur=Ed(O1,gr.onBlur),yt||(ol.onFocus=N1,ol.onBlur=O1));const PO=w.useMemo(()=>{var we;let Ln=[{name:"arrow",enabled:!!rt,options:{element:rt,padding:4}}];return(we=Pe.popperOptions)!=null&&we.modifiers&&(Ln=Ln.concat(Pe.popperOptions.modifiers)),E({},Pe.popperOptions,{modifiers:Ln})},[rt,Pe]),sl=E({},S,{isRtl:Bt,arrow:b,disableInteractive:yt,placement:ae,PopperComponentProp:Me,touch:jt.current}),fm=_W(sl),$1=(r=(i=gt.popper)!=null?i:O.Popper)!=null?r:wW,F1=(o=(s=(a=gt.transition)!=null?a:O.Transition)!=null?s:Ge)!=null?o:Jy,V1=(l=(u=gt.tooltip)!=null?u:O.Tooltip)!=null?l:EW,U1=(c=(d=gt.arrow)!=null?d:O.Arrow)!=null?c:TW,kO=Ul($1,E({},Pe,(h=he.popper)!=null?h:x.popper,{className:Y(fm.popper,Pe==null?void 0:Pe.className,(f=(m=he.popper)!=null?m:x.popper)==null?void 0:f.className)}),sl),AO=Ul(F1,E({},pe,(v=he.transition)!=null?v:x.transition),sl),OO=Ul(V1,E({},(C=he.tooltip)!=null?C:x.tooltip,{className:Y(fm.tooltip,(p=(g=he.tooltip)!=null?g:x.tooltip)==null?void 0:p.className)}),sl),NO=Ul(U1,E({},(y=he.arrow)!=null?y:x.arrow,{className:Y(fm.arrow,(_=(I=he.arrow)!=null?I:x.arrow)==null?void 0:_.className)}),sl);return T.jsxs(w.Fragment,{children:[w.cloneElement(Ie,gr),T.jsx($1,E({as:Me??GP,placement:ae,anchorEl:A?{getBoundingClientRect:()=>({top:Al.y,left:Al.x,right:Al.x,bottom:Al.y,width:0,height:0})}:wt,popperRef:dm,open:wt?Rt:!1,id:ii,transition:!0},ol,kO,{popperOptions:PO,children:({TransitionProps:we})=>T.jsx(F1,E({timeout:vn.transitions.duration.shorter},we,AO,{children:T.jsxs(V1,E({},OO,{children:[fe,b?T.jsx(U1,E({},NO,{ref:Ve})):null]}))}))}))]})}),ev=CW;function IW(t){return ge("MuiTextField",t)}me("MuiTextField",["root"]);const SW=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bW={standard:BP,filled:zP,outlined:HP},RW=t=>{const{classes:e}=t;return ye({root:["root"]},IW,e)},xW=q(U7,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),PW=w.forwardRef(function(e,n){const r=ve({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:m,id:v,InputLabelProps:C,inputProps:p,InputProps:g,inputRef:y,label:_,maxRows:I,minRows:S,multiline:b=!1,name:R,onBlur:O,onChange:x,onFocus:L,placeholder:$,required:N=!1,rows:D,select:U=!1,SelectProps:k,type:M,value:P,variant:A="outlined"}=r,j=Q(r,SW),ie=E({},r,{autoFocus:o,color:l,disabled:c,error:d,fullWidth:f,multiline:b,required:N,select:U,variant:A}),re=RW(ie),_e={};A==="outlined"&&(C&&typeof C.shrink<"u"&&(_e.notched=C.shrink),_e.label=_),U&&((!k||!k.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const J=Hu(v),de=m&&J?`${J}-helper-text`:void 0,ae=_&&J?`${J}-label`:void 0,Me=bW[A],Pe=T.jsx(Me,E({"aria-describedby":de,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:f,multiline:b,name:R,rows:D,maxRows:I,minRows:S,type:M,value:P,id:J,inputRef:y,onBlur:O,onChange:x,onFocus:L,placeholder:$,inputProps:p},_e,g));return T.jsxs(xW,E({className:Y(re.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:N,color:l,variant:A,ownerState:ie},j,{children:[_!=null&&_!==""&&T.jsx(aW,E({htmlFor:J,id:ae},C,{children:_})),U?T.jsx(KP,E({"aria-describedby":de,id:J,labelId:ae,value:P,input:Pe},k,{children:s})):Pe,m&&T.jsx(K7,E({id:de},h,{children:m}))]}))}),kW=PW,vr=q(Gu)(({theme:t})=>({[`&.${Ku.head}`]:{backgroundColor:"grey",color:t.palette.common.white},[`&.${Ku.body}`]:{fontSize:14}})),ug=q(E0)(({theme:t})=>({"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));function YP(t){const e=Ka(),{count:n,page:r,rowsPerPage:i,onPageChange:o}=t,s=c=>{o(c,0)},a=c=>{o(c,r-1)},l=c=>{o(c,r+1)},u=c=>{o(c,Math.max(0,Math.ceil(n/i)-1))};return T.jsxs(Er,{sx:{flexShrink:0,ml:2.5},children:[T.jsx(br,{onClick:s,disabled:r===0,"aria-label":"first page",children:e.direction==="rtl"?T.jsx(B1,{}):T.jsx(j1,{})}),T.jsx(br,{onClick:a,disabled:r===0,"aria-label":"previous page",children:e.direction==="rtl"?T.jsx(z1,{}):T.jsx(W1,{})}),T.jsx(br,{onClick:l,disabled:r>=Math.ceil(n/i)-1,"aria-label":"next page",children:e.direction==="rtl"?T.jsx(W1,{}):T.jsx(z1,{})}),T.jsx(br,{onClick:u,disabled:r>=Math.ceil(n/i)-1,"aria-label":"last page",children:e.direction==="rtl"?T.jsx(j1,{}):T.jsx(B1,{})})]})}YP.propTypes={count:yd.number.isRequired,onPageChange:yd.func.isRequired,page:yd.number.isRequired,rowsPerPage:yd.number.isRequired};function AW(t){const[e,n]=w.useState(0),[r,i]=w.useState(5);t.records.sort((l,u)=>l.speed<u.speed?1:-1);const o=e>0?Math.max(0,(1+e)*r-t.records.length):0,s=(l,u)=>{n(u)},a=l=>{i(parseInt(l.target.value,10)),n(0)};return T.jsx(b6,{component:wP,children:T.jsxs(s6,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[T.jsx(N6,{children:T.jsxs(ug,{children:[T.jsx(vr,{children:"Top Contestants"}),T.jsx(vr,{align:"right",children:"Speed(wpm)"}),T.jsx(vr,{align:"right",children:"Accuracy (%)"}),T.jsx(vr,{align:"right",children:"Date"}),T.jsx(vr,{align:"right",children:"Time"})]})}),T.jsxs(p6,{children:[(r>0?t.records.slice(e*r,e*r+r):t.records).map(l=>T.jsxs(ug,{children:[T.jsx(vr,{component:"th",scope:"row",children:l.username}),T.jsx(vr,{align:"right",children:l.speed}),T.jsx(vr,{align:"right",children:l.accuracy}),T.jsx(vr,{align:"right",children:l.date}),T.jsx(vr,{align:"right",children:l.time})]},l.uid)),o>0&&T.jsx(ug,{style:{height:53*o},children:T.jsx(vr,{colSpan:6})})]}),T.jsx(tU,{children:T.jsx(E0,{children:T.jsx(_7,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:t.records.length,rowsPerPage:r,page:e,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:s,onRowsPerPageChange:a,ActionsComponent:YP})})})]})})}var OW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,M0=M0||{},se=OW||self;function Mp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Dc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function NW(t){return Object.prototype.hasOwnProperty.call(t,cg)&&t[cg]||(t[cg]=++MW)}var cg="closure_uid_"+(1e9*Math.random()>>>0),MW=0;function DW(t,e,n){return t.call.apply(t.bind,arguments)}function LW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function fn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?fn=DW:fn=LW,fn.apply(null,arguments)}function Td(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wo(){this.s=this.s,this.o=this.o}var $W=0;wo.prototype.s=!1;wo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$W!=0)&&NW(this)};wo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function D0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mp(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var FW=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};se.addEventListener("test",n,e),se.removeEventListener("test",n,e)}catch{}return t}();function Zu(t){return/^[\s\xa0]*$/.test(t)}function Dp(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function Ur(t){return Dp().indexOf(t)!=-1}function L0(t){return L0[" "](t),t}L0[" "]=function(){};function VW(t,e){var n=AH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var UW=Ur("Opera"),Pa=Ur("Trident")||Ur("MSIE"),JP=Ur("Edge"),tv=JP||Pa,ZP=Ur("Gecko")&&!(Dp().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge"))&&!(Ur("Trident")||Ur("MSIE"))&&!Ur("Edge"),BW=Dp().toLowerCase().indexOf("webkit")!=-1&&!Ur("Edge");function ek(){var t=se.document;return t?t.documentMode:void 0}var nv;e:{var dg="",hg=function(){var t=Dp();if(ZP)return/rv:([^\);]+)(\)|;)/.exec(t);if(JP)return/Edge\/([\d\.]+)/.exec(t);if(Pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BW)return/WebKit\/(\S+)/.exec(t);if(UW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hg&&(dg=hg?hg[1]:""),Pa){var fg=ek();if(fg!=null&&fg>parseFloat(dg)){nv=String(fg);break e}}nv=dg}var rv;if(se.document&&Pa){var vC=ek();rv=vC||parseInt(nv,10)||void 0}else rv=void 0;var jW=rv;function ec(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZP){e:{try{L0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ec.$.h.call(this)}}Ut(ec,pn);var zW={2:"touch",3:"pen",4:"mouse"};ec.prototype.h=function(){ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lc="closure_listenable_"+(1e6*Math.random()|0),WW=0;function HW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++WW,this.fa=this.ia=!1}function Lp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tk(t){const e={};for(const n in t)e[n]=t[n];return e}const _C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<_C.length;o++)n=_C[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $p(t){this.src=t,this.g={},this.h=0}$p.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ov(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new HW(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function iv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=XP(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Lp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ov(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var F0="closure_lm_"+(1e6*Math.random()|0),pg={};function rk(t,e,n,r,i){if(r&&r.once)return ok(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rk(t,e[o],n,r,i);return null}return n=B0(n),t&&t[Lc]?t.O(e,n,Dc(r)?!!r.capture:!!r,i):ik(t,e,n,!1,r,i)}function ik(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Dc(i)?!!i.capture:!!i,a=U0(t);if(a||(t[F0]=a=new $p(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=KW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)FW||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ak(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KW(){function t(n){return e.call(t.src,t.listener,n)}const e=GW;return t}function ok(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ok(t,e[o],n,r,i);return null}return n=B0(n),t&&t[Lc]?t.P(e,n,Dc(r)?!!r.capture:!!r,i):ik(t,e,n,!0,r,i)}function sk(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sk(t,e[o],n,r,i);else r=Dc(r)?!!r.capture:!!r,n=B0(n),t&&t[Lc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ov(o,n,r,i),-1<n&&(Lp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=U0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ov(e,n,r,i)),(n=-1<t?e[t]:null)&&V0(n))}function V0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Lc])iv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ak(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=U0(e))?(iv(n,t),n.h==0&&(n.src=null,e[F0]=null)):Lp(t)}}}function ak(t){return t in pg?pg[t]:pg[t]="on"+t}function GW(t,e){if(t.fa)t=!0;else{e=new ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&V0(t),t=n.call(r,e)}return t}function U0(t){return t=t[F0],t instanceof $p?t:null}var mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function B0(t){return typeof t=="function"?t:(t[mg]||(t[mg]=function(e){return t.handleEvent(e)}),t[mg])}function Ft(){wo.call(this),this.i=new $p(this),this.S=this,this.J=null}Ut(Ft,wo);Ft.prototype[Lc]=!0;Ft.prototype.removeEventListener=function(t,e,n,r){sk(this,t,e,n,r)};function Jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var i=e;e=new pn(r,t),nk(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Cd(s,r,!0,e)&&i}if(s=e.g=t,i=Cd(s,r,!0,e)&&i,i=Cd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Cd(s,r,!1,e)&&i}Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lp(n[r]);delete t.g[e],t.h--}}this.J=null};Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&iv(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var j0=se.JSON.stringify;class QW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function YW(){var t=z0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class XW{constructor(){this.h=this.g=null}add(e,n){const r=lk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lk=new QW(()=>new JW,t=>t.reset());class JW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ZW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eH(t){se.setTimeout(()=>{throw t},0)}let tc,nc=!1,z0=new XW,uk=()=>{const t=se.Promise.resolve(void 0);tc=()=>{t.then(tH)}};var tH=()=>{for(var t;t=YW();){try{t.h.call(t.g)}catch(n){eH(n)}var e=lk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nc=!1};function Fp(t,e){Ft.call(this),this.h=t||1,this.g=e||se,this.j=fn(this.qb,this),this.l=Date.now()}Ut(Fp,Ft);H=Fp.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(W0(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function W0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Fp.$.N.call(this),W0(this),delete this.g};function H0(t,e,n){if(typeof t=="function")n&&(t=fn(t,n));else if(t&&typeof t.handleEvent=="function")t=fn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function ck(t){t.g=H0(()=>{t.g=null,t.i&&(t.i=!1,ck(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class nH extends wo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ck(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(t){wo.call(this),this.h=t,this.g={}}Ut(rc,wo);var wC=[];function dk(t,e,n,r){Array.isArray(n)||(n&&(wC[0]=n.toString()),n=wC);for(var i=0;i<n.length;i++){var o=rk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function hk(t){$0(t.g,function(e,n){this.g.hasOwnProperty(n)&&V0(e)},t),t.g={}}rc.prototype.N=function(){rc.$.N.call(this),hk(this)};rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vp(){this.g=!0}Vp.prototype.Ea=function(){this.g=!1};function rH(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function iH(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Gs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sH(t,n)+(r?" "+r:"")})}function oH(t,e){t.info(function(){return"TIMEOUT: "+e})}Vp.prototype.info=function(){};function sH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return j0(n)}catch{return e}}var gs={},EC=null;function Up(){return EC=EC||new Ft}gs.Ta="serverreachability";function fk(t){pn.call(this,gs.Ta,t)}Ut(fk,pn);function ic(t){const e=Up();Jt(e,new fk(e))}gs.STAT_EVENT="statevent";function pk(t,e){pn.call(this,gs.STAT_EVENT,t),this.stat=e}Ut(pk,pn);function En(t){const e=Up();Jt(e,new pk(e,t))}gs.Ua="timingevent";function mk(t,e){pn.call(this,gs.Ua,t),this.size=e}Ut(mk,pn);function $c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var Bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function q0(){}q0.prototype.h=null;function TC(t){return t.h||(t.h=t.i())}function yk(){}var Fc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function K0(){pn.call(this,"d")}Ut(K0,pn);function G0(){pn.call(this,"c")}Ut(G0,pn);var sv;function jp(){}Ut(jp,q0);jp.prototype.g=function(){return new XMLHttpRequest};jp.prototype.i=function(){return{}};sv=new jp;function Vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rc(this),this.P=aH,t=tv?125:void 0,this.V=new Fp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vk}function vk(){this.i=null,this.g="",this.h=!1}var aH=45e3,_k={},av={};H=Vc.prototype;H.setTimeout=function(t){this.P=t};function lv(t,e,n){t.L=1,t.A=Wp(Ri(e)),t.u=n,t.S=!0,wk(t,null)}function wk(t,e){t.G=Date.now(),Uc(t),t.B=Ri(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),xk(n.i,"t",r),t.o=0,n=t.l.J,t.h=new vk,t.g=Qk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new nH(fn(t.Pa,t,t.g),t.O)),dk(t.U,t.g,"readystatechange",t.nb),e=t.I?tk(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ic(),rH(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&zr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=zr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||tv||this.g&&(this.h.h||this.g.ja()||bC(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ic(3):ic(2)),zp(this);var n=this.g.da();this.ca=n;t:if(Ek(this)){var r=bC(this.g);t="";var i=r.length,o=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),fu(this);var s="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,iH(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zu(a)){var u=a;break t}}u=null}if(n=u)Gs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uv(this,n);else{this.i=!1,this.s=3,En(12),Lo(this),fu(this);break e}}this.S?(Tk(this,c,s),tv&&this.i&&c==3&&(dk(this.U,this.V,"tick",this.mb),this.V.start())):(Gs(this.j,this.m,s,null),uv(this,s)),c==4&&Lo(this),this.i&&!this.J&&(c==4?Hk(this.l,this):(this.i=!1,Uc(this)))}else xH(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Lo(this),fu(this)}}}catch{}finally{}};function Ek(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Tk(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=lH(t,n),i==av){e==4&&(t.s=4,En(14),r=!1),Gs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_k){t.s=4,En(15),Gs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Gs(t.j,t.m,i,null),uv(t,i);Ek(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,En(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),e1(e),e.M=!0,En(11))):(Gs(t.j,t.m,n,"[Invalid Chunked Response]"),Lo(t),fu(t))}H.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.o<e.length&&(zp(this),Tk(this,t,e),this.i&&t!=4&&Uc(this))}};function lH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?av:(n=Number(e.substring(n,r)),isNaN(n)?_k:(r+=1,r+n>e.length?av:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,Lo(this)};function Uc(t){t.Y=Date.now()+t.P,Ck(t,t.P)}function Ck(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=$c(fn(t.lb,t),e)}function zp(t){t.C&&(se.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(oH(this.j,this.B),this.L!=2&&(ic(),En(17)),Lo(this),this.s=2,fu(this)):Ck(this,this.Y-t)};function fu(t){t.l.H==0||t.J||Hk(t.l,t)}function Lo(t){zp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,W0(t.V),hk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function uv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cv(n.i,t))){if(!t.K&&cv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rf(n),Gp(n);else break e;Z0(n),En(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=$c(fn(n.ib,n),6e3));if(1>=Ak(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $o(n,11)}else if((t.K||n.g==t)&&rf(n),!Zu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Q0(o,o.h),o.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,et(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=Gk(r,r.J?r.pa:null,r.Y),s.K){Ok(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(zp(a),Uc(a)),r.g=s}else zk(r);0<n.j.length&&Qp(n)}else u[0]!="stop"&&u[0]!="close"||$o(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$o(n,7):J0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ic(4)}catch{}}function uH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ik(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=cH(t),r=uH(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var Sk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wo){this.h=t.h,tf(this,t.j),this.s=t.s,this.g=t.g,nf(this,t.m),this.l=t.l;var e=t.i,n=new oc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CC(this,n),this.o=t.o}else t&&(e=String(t).match(Sk))?(this.h=!1,tf(this,e[1]||"",!0),this.s=jl(e[2]||""),this.g=jl(e[3]||"",!0),nf(this,e[4]),this.l=jl(e[5]||"",!0),CC(this,e[6]||"",!0),this.o=jl(e[7]||"")):(this.h=!1,this.i=new oc(null,this.h))}Wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zl(e,IC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zl(e,IC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zl(n,n.charAt(0)=="/"?pH:fH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zl(n,gH)),t.join("")};function Ri(t){return new Wo(t)}function tf(t,e,n){t.j=n?jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CC(t,e,n){e instanceof oc?(t.i=e,yH(t.i,t.h)):(n||(e=zl(e,mH)),t.i=new oc(e,t.h))}function et(t,e,n){t.i.set(e,n)}function Wp(t){return et(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,hH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var IC=/[#\/\?@]/g,fH=/[#\?:]/g,pH=/[#\?]/g,mH=/[#\?@]/g,gH=/#/g;function oc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Eo(t){t.g||(t.g=new Map,t.h=0,t.i&&dH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=oc.prototype;H.add=function(t,e){Eo(this),this.i=null,t=Xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function bk(t,e){Eo(t),e=Xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Rk(t,e){return Eo(t),e=Xa(t,e),t.g.has(e)}H.forEach=function(t,e){Eo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){Eo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};H.Z=function(t){Eo(this);let e=[];if(typeof t=="string")Rk(this,t)&&(e=e.concat(this.g.get(Xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Eo(this),this.i=null,t=Xa(this,t),Rk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function xk(t,e,n){bk(t,e),0<n.length&&(t.i=null,t.g.set(Xa(t,e),D0(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yH(t,e){e&&!t.j&&(Eo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(bk(this,r),xk(this,i,n))},t)),t.j=e}var vH=class{constructor(t,e){this.g=t,this.map=e}};function Pk(t){this.l=t||_H,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _H=10;function kk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ak(t){return t.h?1:t.g?t.g.size:0}function cv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Q0(t,e){t.g?t.g.add(e):t.h=e}function Ok(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Pk.prototype.cancel=function(){if(this.i=Nk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Nk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return D0(t.i)}var wH=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function EH(){this.g=new wH}function TH(t,e,n){const r=n||"";try{Ik(t,function(i,o){let s=i;Dc(i)&&(s=j0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function CH(t,e){const n=new Vp;if(se.Image){const r=new Image;r.onload=Td(Id,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Td(Id,n,r,"TestLoadImage: error",!1,e),r.onabort=Td(Id,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Td(Id,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Id(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Hp(t){this.l=t.ec||null,this.j=t.ob||!1}Ut(Hp,q0);Hp.prototype.g=function(){return new qp(this.l,this.j)};Hp.prototype.i=function(t){return function(){return t}}({});function qp(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Y0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(qp,Ft);var Y0=0;H=qp.prototype;H.open=function(t,e){if(this.readyState!=Y0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sc(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=Y0};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Mk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bc(this):sc(this),this.readyState==3&&Mk(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,Bc(this))};H.Ya=function(t){this.g&&(this.response=t,Bc(this))};H.ka=function(){this.g&&Bc(this)};function Bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sc(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IH=se.JSON.parse;function mt(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dk,this.L=this.M=!1}Ut(mt,Ft);var Dk="",SH=/^https?$/i,bH=["POST","PUT"];H=mt.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sv.g(),this.C=this.u?TC(this.u):TC(sv),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){SC(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=se.FormData&&t instanceof se.FormData,!(0<=XP(bH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fk(this),0<this.B&&((this.L=RH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=H0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){SC(this,o)}};function RH(t){return Pa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof M0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function SC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Lk(t),Kp(t)}function Lk(t){t.F||(t.F=!0,Jt(t,"complete"),Jt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jt(this,"complete"),Jt(this,"abort"),Kp(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kp(this,!0)),mt.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?$k(this):this.kb())};H.kb=function(){$k(this)};function $k(t){if(t.h&&typeof M0<"u"&&(!t.C[1]||zr(t)!=4||t.da()!=2)){if(t.v&&zr(t)==4)H0(t.La,0,t);else if(Jt(t,"readystatechange"),zr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(Sk)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!SH.test(i?i.toLowerCase():"")}n=r}if(n)Jt(t,"complete"),Jt(t,"success");else{t.m=6;try{var o=2<zr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Lk(t)}}finally{Kp(t)}}}}function Kp(t,e){if(t.g){Fk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Fk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function zr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IH(e)}};function bC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Dk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xH(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zu(t[r]))continue;var n=ZW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}qW(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Vk(t){let e="";return $0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function X0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):et(t,e,n))}function Ol(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Uk(t){this.Ga=0,this.j=[],this.l=new Vp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ol("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ol("baseRetryDelayMs",5e3,t),this.hb=Ol("retryDelaySeedMs",1e4,t),this.eb=Ol("forwardChannelMaxRetries",2,t),this.xa=Ol("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Pk(t&&t.concurrentRequestLimit),this.Ja=new EH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=Uk.prototype;H.ra=8;H.H=1;function J0(t){if(Bk(t),t.H==3){var e=t.W++,n=Ri(t.I);if(et(n,"SID",t.K),et(n,"RID",e),et(n,"TYPE","terminate"),jc(t,n),e=new Vc(t,t.l,e),e.L=2,e.A=Wp(Ri(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&se.Image&&(new Image().src=e.A,n=!0),n||(e.g=Qk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Uc(e)}Kk(t)}function Gp(t){t.g&&(e1(t),t.g.cancel(),t.g=null)}function Bk(t){Gp(t),t.u&&(se.clearTimeout(t.u),t.u=null),rf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Qp(t){if(!kk(t.i)&&!t.m){t.m=!0;var e=t.Na;tc||uk(),nc||(tc(),nc=!0),z0.add(e,t),t.C=0}}function PH(t,e){return Ak(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$c(fn(t.Na,t,e),qk(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Vc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=tk(o),nk(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jk(this,i,e),n=Ri(this.I),et(n,"RID",t),et(n,"CVER",22),this.F&&et(n,"X-HTTP-Session-Id",this.F),jc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Vk(o)))+"&"+e:this.o&&X0(n,this.o,o)),Q0(this.i,i),this.bb&&et(n,"TYPE","init"),this.P?(et(n,"$req",e),et(n,"SID","null"),i.aa=!0,lv(i,n,null)):lv(i,n,e),this.H=2}}else this.H==3&&(t?RC(this,t):this.j.length==0||kk(this.i)||RC(this))};function RC(t,e){var n;e?n=e.m:n=t.W++;const r=Ri(t.I);et(r,"SID",t.K),et(r,"RID",n),et(r,"AID",t.V),jc(t,r),t.o&&t.s&&X0(r,t.o,t.s),n=new Vc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Q0(t.i,n),lv(n,r,e)}function jc(t,e){t.na&&$0(t.na,function(n,r){et(e,r,n)}),t.h&&Ik({},function(n,r){et(e,r,n)})}function jk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?fn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{TH(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function zk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tc||uk(),nc||(tc(),nc=!0),z0.add(e,t),t.A=0}}function Z0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$c(fn(t.Ma,t),qk(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,Wk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$c(fn(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),Gp(this),Wk(this))};function e1(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function Wk(t){t.g=new Vc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ri(t.wa);et(e,"RID","rpc"),et(e,"SID",t.K),et(e,"AID",t.V),et(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&et(e,"TO",t.qa),et(e,"TYPE","xmlhttp"),jc(t,e),t.o&&t.s&&X0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Wp(Ri(e)),n.u=null,n.S=!0,wk(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Gp(this),Z0(this),En(19))};function rf(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function Hk(t,e){var n=null;if(t.g==e){rf(t),e1(t),t.g=null;var r=2}else if(cv(t.i,e))n=e.F,Ok(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Up(),Jt(r,new mk(r,n)),Qp(t)}else zk(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&PH(t,e)||r==2&&Z0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$o(t,5);break;case 4:$o(t,10);break;case 3:$o(t,6);break;default:$o(t,2)}}}function qk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $o(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=fn(t.pb,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||tf(n,"https"),Wp(n)),CH(n.toString(),r)}else En(2);t.H=0,t.h&&t.h.za(e),Kk(t),Bk(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))};function Kk(t){if(t.H=0,t.ma=[],t.h){const e=Nk(t.i);(e.length!=0||t.j.length!=0)&&(yC(t.ma,e),yC(t.ma,t.j),t.i.i.length=0,D0(t.j),t.j.length=0),t.h.ya()}}function Gk(t,e,n){var r=n instanceof Wo?Ri(n):new Wo(n);if(r.g!="")e&&(r.g=e+"."+r.g),nf(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Wo(null);r&&tf(o,r),e&&(o.g=e),i&&nf(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&et(r,n,e),et(r,"VER",t.ra),jc(t,r),r}function Qk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new mt(new Hp({ob:n})):new mt(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yk(){}H=Yk.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function of(){if(Pa&&!(10<=Number(jW)))throw Error("Environmental error: no available transport.")}of.prototype.g=function(t,e){return new Kn(t,e)};function Kn(t,e){Ft.call(this),this.g=new Uk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ja(this)}Ut(Kn,Ft);Kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;En(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Gk(t,null,t.Y),Qp(t)};Kn.prototype.close=function(){J0(this.g)};Kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=j0(t),t=n);e.j.push(new vH(e.fb++,t)),e.H==3&&Qp(e)};Kn.prototype.N=function(){this.g.h=null,delete this.j,J0(this.g),delete this.g,Kn.$.N.call(this)};function Xk(t){K0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ut(Xk,K0);function Jk(){G0.call(this),this.status=1}Ut(Jk,G0);function Ja(t){this.g=t}Ut(Ja,Yk);Ja.prototype.Ba=function(){Jt(this.g,"a")};Ja.prototype.Aa=function(t){Jt(this.g,new Xk(t))};Ja.prototype.za=function(t){Jt(this.g,new Jk)};Ja.prototype.ya=function(){Jt(this.g,"b")};function kH(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ut(Nr,kH);Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function gg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)gg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){gg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){gg(this,r),i=0;break}}this.h=i,this.i+=e};Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function je(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var AH={};function t1(t){return-128<=t&&128>t?VW(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function Wr(t){if(isNaN(t)||!isFinite(t))return la;if(0>t)return Gt(Wr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dv;return new je(e,0)}function Zk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Gt(Zk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wr(Math.pow(e,8)),r=la,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Wr(Math.pow(e,o)),r=r.R(o).add(Wr(s))):(r=r.R(n),r=r.add(Wr(s)))}return r}var dv=4294967296,la=t1(0),hv=t1(1),xC=t1(16777216);H=je.prototype;H.ea=function(){if(tr(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dv+r)*e,e*=dv}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pi(this))return"0";if(tr(this))return"-"+Gt(this).toString(t);for(var e=Wr(Math.pow(t,6)),n=this,r="";;){var i=af(n,e).g;n=sf(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function tr(t){return t.h==-1}H.X=function(t){return t=sf(this,t),tr(t)?-1:pi(t)?0:1};function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new je(n,~t.h).add(hv)}H.abs=function(){return tr(this)?Gt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new je(n,n[n.length-1]&-2147483648?-1:0)};function sf(t,e){return t.add(Gt(e))}H.R=function(t){if(pi(this)||pi(t))return la;if(tr(this))return tr(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(tr(t))return Gt(this.R(Gt(t)));if(0>this.X(xC)&&0>t.X(xC))return Wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Sd(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Sd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Sd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Sd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new je(n,0)};function Sd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nl(t,e){this.g=t,this.h=e}function af(t,e){if(pi(e))throw Error("division by zero");if(pi(t))return new Nl(la,la);if(tr(t))return e=af(Gt(t),e),new Nl(Gt(e.g),Gt(e.h));if(tr(e))return e=af(t,Gt(e)),new Nl(Gt(e.g),e.h);if(30<t.g.length){if(tr(t)||tr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hv,r=e;0>=r.X(t);)n=PC(n),r=PC(r);var i=Rs(n,1),o=Rs(r,1);for(r=Rs(r,2),n=Rs(n,2);!pi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Rs(r,1),n=Rs(n,1)}return e=sf(t,i.R(e)),new Nl(i,e)}for(i=la;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Wr(n),s=o.R(e);tr(s)||0<s.X(t);)n-=r,o=Wr(n),s=o.R(e);pi(o)&&(o=hv),i=i.add(o),t=sf(t,s)}return new Nl(i,t)}H.gb=function(t){return af(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new je(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new je(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new je(n,this.h^t.h)};function PC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new je(n,t.h)}function Rs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new je(i,t.h)}of.prototype.createWebChannel=of.prototype.g;Kn.prototype.send=Kn.prototype.u;Kn.prototype.open=Kn.prototype.m;Kn.prototype.close=Kn.prototype.close;Bp.NO_ERROR=0;Bp.TIMEOUT=8;Bp.HTTP_ERROR=6;gk.COMPLETE="complete";yk.EventType=Fc;Fc.OPEN="a";Fc.CLOSE="b";Fc.ERROR="c";Fc.MESSAGE="d";Ft.prototype.listen=Ft.prototype.O;mt.prototype.listenOnce=mt.prototype.P;mt.prototype.getLastError=mt.prototype.Sa;mt.prototype.getLastErrorCode=mt.prototype.Ia;mt.prototype.getStatus=mt.prototype.da;mt.prototype.getResponseJson=mt.prototype.Wa;mt.prototype.getResponseText=mt.prototype.ja;mt.prototype.send=mt.prototype.ha;mt.prototype.setWithCredentials=mt.prototype.Oa;Nr.prototype.digest=Nr.prototype.l;Nr.prototype.reset=Nr.prototype.reset;Nr.prototype.update=Nr.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=Wr;je.fromString=Zk;var OH=function(){return new of},NH=function(){return Up()},yg=Bp,MH=gk,DH=gs,kC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bd=yk,LH=mt,$H=Nr,ua=je;const AC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Lf("@firebase/firestore");function Ml(){return as.logLevel}function X(t,...e){if(as.logLevel<=Ee.DEBUG){const n=e.map(n1);as.debug(`Firestore (${Za}): ${t}`,...n)}}function xi(t,...e){if(as.logLevel<=Ee.ERROR){const n=e.map(n1);as.error(`Firestore (${Za}): ${t}`,...n)}}function ka(t,...e){if(as.logLevel<=Ee.WARN){const n=e.map(n1);as.warn(`Firestore (${Za}): ${t}`,...n)}}function n1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function Ye(t,e){t||oe()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class VH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UH{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new eA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new an(e)}}class BH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new zH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new At(0,0))}static max(){return new le(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ac.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends ac{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const qH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ac{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return qH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(st.fromString(e))}static fromName(e){return new te(st.fromString(e).popFirst(5))}static empty(){return new te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new st(e.slice()))}}function KH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new fo(i,te.empty(),e)}function GH(t){return new fo(t.readTime,t.key,-1)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(le.min(),te.empty(),-1)}static max(){return new fo(le.max(),te.empty(),-1)}}function QH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==YH)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}r1._e=-1;function Yp(t){return t==null}function lf(t){return t===0&&1/t==-1/0}function JH(t){return typeof t=="number"&&Number.isInteger(t)&&!lf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function el(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Zt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rA("Invalid base64 string: "+o):o}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const ZH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=ZH.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function o1(t){const e=t.mapValue.fields.__previous_value__;return i1(e)?o1(e):e}function lc(t){const e=po(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i1(t)?4:tq(t)?9007199254740991:10:oe()}function ni(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lc(t).isEqual(lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=po(i.timestampValue),a=po(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ls(i.bytesValue).isEqual(ls(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Tt(i.doubleValue),a=Tt(o.doubleValue);return s===a?lf(s)===lf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(OC(s)!==OC(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ni(s[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function cc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Tt(o.integerValue||o.doubleValue),l=Tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return MC(t.timestampValue,e.timestampValue);case 4:return MC(lc(t),lc(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ls(o),l=ls(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Fe(a[u],l[u]);if(c!==0)return c}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Fe(Tt(o.latitude),Tt(s.latitude));return a!==0?a:Fe(Tt(o.longitude),Tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Oa(a[u],l[u]);if(c)return c}return Fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===xd.mapValue&&s===xd.mapValue)return 0;if(o===xd.mapValue)return 1;if(s===xd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Fe(l[d],c[d]);if(h!==0)return h;const f=Oa(a[l[d]],u[c[d]]);if(f!==0)return f}return Fe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function MC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=po(t),r=po(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function Na(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=po(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${fv(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function pv(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function DC(t){return!!t&&"nullValue"in t}function LC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return el(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){el(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nr(pu(this.value))}}function iA(t){const e=[];return el(t.fields,(n,r)=>{const i=new Yt([n]);if(eh(r)){const o=iA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,le.min(),le.min(),le.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,le.min(),le.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,le.min(),le.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.position=e,this.inclusive=n}}function $C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=Oa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function nq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{}class Pt extends oA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iq(e,n,r):n==="array-contains"?new aq(e,r):n==="in"?new lq(e,r):n==="not-in"?new uq(e,r):n==="array-contains-any"?new cq(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oq(e,r):new sq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oa(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ri(e,n)}matches(e){return sA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sA(t){return t.op==="and"}function aA(t){return rq(t)&&sA(t)}function rq(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function mv(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Na(t.value);if(aA(t))return t.filters.map(e=>mv(e)).join(",");{const e=t.filters.map(n=>mv(n)).join(",");return`${t.op}(${e})`}}function lA(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&lA(s,i.filters[a]),!0):!1}(t,e):void oe()}function uA(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Na(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(uA).join(" ,")+"}"}(t):"Filter"}class iq extends Pt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class oq extends Pt{constructor(e,n){super(e,"in",n),this.keys=cA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sq extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=cA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class aq extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s1(n)&&cc(n.arrayValue,this.value)}}class lq extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class uq extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cc(this.value.arrayValue,n)}}class cq extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function VC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dq(t,e,n,r,i,o,s)}function a1(t){const e=ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Na(r)).join(",")),e.ce=n}return e.ce}function l1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FC(t.startAt,e.startAt)&&FC(t.endAt,e.endAt)}function gv(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function hq(t,e,n,r,i,o,s,a){return new Xp(t,e,n,r,i,o,s,a)}function u1(t){return new Xp(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fq(t){return t.collectionGroup!==null}function mu(t){const e=ce(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new cf(o,r))}),n.has(Yt.keyField().canonicalString())||e.le.push(new cf(Yt.keyField(),r))}return e.le}function Jr(t){const e=ce(t);return e.he||(e.he=pq(e,mu(t))),e.he}function pq(t,e){if(t.limitType==="F")return VC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cf(i.field,o)});const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return VC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yv(t,e,n){return new Xp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jp(t,e){return l1(Jr(t),Jr(e))&&t.limitType===e.limitType}function dA(t){return`${a1(Jr(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uA(i)).join(", ")}]`),Yp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Na(i)).join(",")),`Target(${r})`}(Jr(t))}; limitType=${t.limitType})`}function Zp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=$C(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,mu(r),i)||r.endAt&&!function(s,a,l){const u=$C(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,mu(r),i))}(t,e)}function mq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hA(t){return(e,n)=>{let r=!1;for(const i of mu(t)){const o=gq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gq(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Oa(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=new ct(te.comparator);function Pi(){return yq}const fA=new ct(te.comparator);function Wl(...t){let e=fA;for(const n of t)e=e.insert(n.key,n);return e}function pA(t){let e=fA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return gu()}function mA(){return gu()}function gu(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const vq=new ct(te.comparator),_q=new Zt(te.comparator);function Te(...t){let e=_q;for(const n of t)e=e.add(n);return e}const wq=new Zt(Fe);function Eq(){return wq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function yA(t){return{integerValue:""+t}}function Tq(t,e){return JH(e)?yA(e):gA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this._=void 0}}function Cq(t,e,n){return t instanceof df?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&i1(o)&&(o=o1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof dc?_A(t,e):t instanceof hc?wA(t,e):function(i,o){const s=vA(i,o),a=BC(s)+BC(i.Ie);return pv(s)&&pv(i.Ie)?yA(a):gA(i.serializer,a)}(t,e)}function Iq(t,e,n){return t instanceof dc?_A(t,e):t instanceof hc?wA(t,e):n}function vA(t,e){return t instanceof hf?function(r){return pv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class df extends em{}class dc extends em{constructor(e){super(),this.elements=e}}function _A(t,e){const n=EA(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class hc extends em{constructor(e){super(),this.elements=e}}function wA(t,e){let n=EA(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class hf extends em{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function BC(t){return Tt(t.integerValue||t.doubleValue)}function EA(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Sq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof dc&&i instanceof dc||r instanceof hc&&i instanceof hc?Aa(r.elements,i.elements,ni):r instanceof hf&&i instanceof hf?ni(r.Ie,i.Ie):r instanceof df&&i instanceof df}(t.transform,e.transform)}class bq{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tm{}function TA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IA(t.key,vi.none()):new Hc(t.key,t.data,vi.none());{const n=t.data,r=nr.empty();let i=new Zt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ys(t.key,r,new Rr(i.toArray()),vi.none())}}function Rq(t,e,n){t instanceof Hc?function(i,o,s){const a=i.value.clone(),l=zC(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(i,o,s){if(!th(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zC(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(CA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof Hc?function(o,s,a,l){if(!th(o.precondition,s))return a;const u=o.value.clone(),c=WC(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(o,s,a,l){if(!th(o.precondition,s))return a;const u=WC(o.fieldTransforms,l,s),c=s.data;return c.setAll(CA(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return th(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=vA(r.transform,i||null);o!=null&&(n===null&&(n=nr.empty()),n.set(r.field,o))}return n||null}function jC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(o,s)=>Sq(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hc extends tm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends tm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zC(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Iq(s,a,n[i]))}return r}function WC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Cq(o,s,e))}return r}class IA extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pq extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Rq(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=TA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(n,r)=>jC(n,r))&&Aa(this.baseMutations,e.baseMutations,(n,r)=>jC(n,r))}}class c1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return vq}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new c1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,be;function Nq(t){switch(t){default:return oe();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function SA(t){if(t===void 0)return xi("GRPC error has no .code"),F.UNKNOWN;switch(t){case Et.OK:return F.OK;case Et.CANCELLED:return F.CANCELLED;case Et.UNKNOWN:return F.UNKNOWN;case Et.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Et.INTERNAL:return F.INTERNAL;case Et.UNAVAILABLE:return F.UNAVAILABLE;case Et.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Et.NOT_FOUND:return F.NOT_FOUND;case Et.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Et.ABORTED:return F.ABORTED;case Et.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Et.DATA_LOSS:return F.DATA_LOSS;default:return oe()}}(be=Et||(Et={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=new ua([4294967295,4294967295],0);function HC(t){const e=Mq().encode(t),n=new $H;return n.update(e),new Uint8Array(n.digest())}function qC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([n,r],0),new ua([i,o],0)]}class d1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ua.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ua.fromNumber(r)));return i.compare(Dq)===1&&(i=new ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=HC(e),[r,i]=qC(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new d1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=HC(e),[r,i]=qC(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nm(le.min(),i,new ct(Fe),Pi(),Te())}}class qc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qc(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class bA{constructor(e,n){this.targetId=e,this.fe=n}}class RA{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KC{constructor(){this.ge=0,this.pe=QC(),this.ye=yn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Te(),n=Te(),r=Te();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new qc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=QC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ye(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Lq{constructor(e){this.Le=e,this.ke=new Map,this.qe=Pi(),this.Qe=GC(),this.Ke=new ct(Fe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(gv(o))if(r===0){const s=new te(o.path);this.We(n,s,dn.newNoDocument(s,le.min()))}else Ye(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ls(r).toUint8Array()}catch(l){if(l instanceof rA)return ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new d1(s,i,o)}catch(l){return ka(l instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&gv(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,dn.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Te();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new nm(e,n,this.Ke,this.qe,r);return this.qe=Pi(),this.Qe=GC(),this.Ke=new ct(Fe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new KC,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Zt(Fe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new KC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function GC(){return new ct(te.comparator)}function QC(){return new ct(te.comparator)}const $q={asc:"ASCENDING",desc:"DESCENDING"},Fq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vq={and:"AND",or:"OR"};class Uq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vv(t,e){return t.useProto3Json||Yp(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bq(t,e){return ff(t,e.toTimestamp())}function Zr(t){return Ye(!!t),le.fromTimestamp(function(n){const r=po(n);return new At(r.seconds,r.nanos)}(t))}function h1(t,e){return function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function PA(t){const e=st.fromString(t);return Ye(NA(e)),e}function _v(t,e){return h1(t.databaseId,e.path)}function vg(t,e){const n=PA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(kA(n))}function wv(t,e){return h1(t.databaseId,e)}function jq(t){const e=PA(t);return e.length===4?st.emptyPath():kA(e)}function Ev(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kA(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YC(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function zq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),yn.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Uint8Array),yn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?F.UNKNOWN:SA(u.code);return new Z(c,u.message||"")}(s);n=new RA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vg(t,r.document.name),o=Zr(r.document.updateTime),s=r.document.createTime?Zr(r.document.createTime):le.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vg(t,r.document),o=r.readTime?Zr(r.readTime):le.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new nh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vg(t,r.document),o=r.removedTargetIds||[];n=new nh([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Oq(i,o),a=r.targetId;n=new bA(a,s)}}return n}function Wq(t,e){let n;if(e instanceof Hc)n={update:YC(t,e.key,e.value)};else if(e instanceof IA)n={delete:_v(t,e.key)};else if(e instanceof ys)n={update:YC(t,e.key,e.data),updateMask:Zq(e.fieldMask)};else{if(!(e instanceof Pq))return oe();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof df)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Bq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function Hq(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zr(i.updateTime):Zr(o);return s.isEqual(le.min())&&(s=Zr(o)),new bq(s,i.transformResults||[])}(n,e))):[]}function qq(t,e){return{documents:[wv(t,e.path)]}}function Kq(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return OA(ri.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:As(d.field),direction:Yq(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=vv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Gq(t){let e=jq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=AA(d);return h instanceof ri&&aA(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new cf(Os(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Yp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new uf(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new uf(f,h)}(n.endAt)),hq(e,i,s,o,a,"F",l,u)}function Qq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Os(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Os(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Os(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Os(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>AA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Yq(t){return $q[t]}function Xq(t){return Fq[t]}function Jq(t){return Vq[t]}function As(t){return{fieldPath:t.canonicalString()}}function Os(t){return Yt.fromServerFormat(t.fieldPath)}function OA(t){return t instanceof Pt?function(n){if(n.op==="=="){if(LC(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(DC(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LC(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(DC(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:Xq(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>OA(i));return r.length===1?r[0]:{compositeFilter:{op:Jq(n.op),filters:r}}}(t):oe()}function Zq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,o=le.min(),s=le.min(),a=yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.ut=e}}function tK(t){const e=Gq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.on=new rK}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(fo.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class rK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ma(0)}static Nn(){return new Ma(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,Rr.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Wl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pi();const s=gu(),a=function(){return gu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ys)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yu(c.mutation,u,c.mutation.getFieldMask(),At.now())):s.set(u.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new oK(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gu();let i=new ct((s,a)=>s-a),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=mA();c.forEach(h=>{if(!o.has(h)){const f=TA(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Fo());let a=-1,l=o;return s.next(u=>V.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Te())).next(c=>({batchId:a,changes:pA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Wl();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(d,h){return new Xp(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,dn.newInvalidDocument(c)))});let a=Wl();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yu(c.mutation,u,Rr.empty(),At.now()),Zp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:tK(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.overlays=new ct(te.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Fo(),o=n.length+1,s=new te(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ct((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Fo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Fo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Aq(n,r));let o=this.lr.get(n);o===void 0&&(o=Te(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.hr=new Zt(Mt.Pr),this.Ir=new Zt(Mt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Mt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new te(new st([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new te(new st([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Te();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return te.comparator(e.key,n.key)||Fe(e.gr,n.gr)}static Tr(e,n){return Fe(e.gr,n.gr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Zt(Mt.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kq(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Fe);return n.forEach(i=>{const o=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new te(o),0);let a=new Zt(Fe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),V.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Mt(n,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.Cr=e,this.docs=function(){return new ct(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pi();const s=n.path,a=new te(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||QH(GH(c),r)<=0||(i.has(c.key)||Zp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dK(this)}getSize(e){return V.resolve(this.size)}}class dK extends iK{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.persistence=e,this.Fr=new tl(n=>a1(n),l1),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Mr=0,this.Or=new f1,this.targetCount=0,this.Nr=Ma.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ma(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n){this.Br={},this.overlays={},this.Lr=new r1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new hK(this),this.indexManager=new nK,this.remoteDocumentCache=function(i){return new cK(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new eK(n),this.Kr=new aK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new uK(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new pK(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class pK extends XH{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.Gr=new f1,this.zr=null}static jr(e){return new p1(e)}get Hr(){if(this.zr)return this.zr;throw oe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const i=te.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Te(),i=Te();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new m1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new mK;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ml()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Ml()<=Ee.DEBUG&&X("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ml()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):V.resolve())}zi(e,n){if(UC(n))return V.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yv(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Te(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,yv(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return UC(n)||i.isEqual(le.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?V.resolve(null):(Ml()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.Xi(e,s,n,KH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Zt(hA(e));return n.forEach((i,o)=>{Zp(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ml()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ks(n)),this.Gi.getDocumentsMatchingQuery(e,n,fo.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ct(Fe),this.ns=new tl(o=>a1(o),l1),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sK(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function vK(t,e,n,r){return new yK(t,e,n,r)}async function MA(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Te();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function _K(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=V.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(v=>{const C=u.docVersions.get(m);Ye(C!==null),v.version.compareTo(C)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function wK(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(yn.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,C,p){return v.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(o,f))});let l=Pi(),u=Te();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(EK(o,s,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(le.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function EK(t,e,n){let r=Te(),i=Te();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function TK(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CK(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Gi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Tv(t,e,n){const r=ce(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wc(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function XC(t,e,n){const r=ce(t);let i=le.min(),o=Te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ce(l),h=d.ns.get(c);return h!==void 0?V.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,s,Jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:Te())).next(a=>(IK(r,mq(e),a),{documents:a,ls:o})))}function IK(t,e,n){let r=t.rs.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class JC{constructor(){this.activeTargetIds=Eq()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SK{constructor(){this.eo=new JC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new JC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function _g(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class PK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=_g(),l=this.So(n,r);X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,l,u,i).then(c=>(X("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ka("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){const i=RK[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=_g();return new Promise((s,a)=>{const l=new LH;l.setWithCredentials(!0),l.listenOnce(MH.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yg.NO_ERROR:const c=l.getResponseJson();X(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case yg.TIMEOUT:X(on,`RPC '${e}' ${o} timed out`),a(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:const d=l.getStatus();if(X(on,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(C){const p=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(p)>=0?p:F.UNKNOWN}(f.status);a(new Z(m,f.message))}else a(new Z(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(F.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{X(on,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(on,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=_g(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OH(),a=NH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");X(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const m=new xK({co:C=>{f?X(on,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(h||(X(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),X(on,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},lo:()=>d.close()}),v=(C,p,g)=>{C.listen(p,y=>{try{g(y)}catch(_){setTimeout(()=>{throw _},0)}})};return v(d,bd.EventType.OPEN,()=>{f||X(on,`RPC '${e}' stream ${i} transport opened.`)}),v(d,bd.EventType.CLOSE,()=>{f||(f=!0,X(on,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),v(d,bd.EventType.ERROR,C=>{f||(f=!0,ka(on,`RPC '${e}' stream ${i} transport errored:`,C),m.Ro(new Z(F.UNAVAILABLE,"The operation could not be completed")))}),v(d,bd.EventType.MESSAGE,C=>{var p;if(!f){const g=C.data[0];Ye(!!g);const y=g,_=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(_){X(on,`RPC '${e}' stream ${i} received error:`,_);const I=_.status;let S=function(O){const x=Et[O];if(x!==void 0)return SA(x)}(I),b=_.message;S===void 0&&(S=F.INTERNAL,b="Unknown error status: "+I+" with message "+_.message),f=!0,m.Ro(new Z(S,b)),d.close()}else X(on,`RPC '${e}' stream ${i} received:`,g),m.Vo(g)}}),v(a,DH.STAT_EVENT,C=>{C.stat===kC.PROXY?X(on,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===kC.NOPROXY&&X(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){return new Uq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new LA(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Z(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kK extends $A{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=zq(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?Zr(s.readTime):le.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ev(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=gv(l)?{documents:qq(o,l)}:{query:Kq(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=xA(o,s.resumeToken);const u=vv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());const u=vv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Qq(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ev(this.serializer),n.removeTarget=e,this.e_(n)}}class AK extends $A{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Hq(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.I_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ev(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wq(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(F.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(F.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class NK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xi(n),this.f_=!1):X("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(async()=>{vs(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.C_.add(4),await Kc(u),u.M_.set("Unknown"),u.C_.delete(4),await im(u)}(this))})}),this.M_=new NK(r,i)}}async function im(t){if(vs(t))for(const e of t.v_)await e(!0)}async function Kc(t){for(const e of t.v_)await e(!1)}function FA(t,e){const n=ce(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),v1(n)?y1(n):nl(n).Ho()&&g1(n,e))}function VA(t,e){const n=ce(t),r=nl(n);n.D_.delete(e),r.Ho()&&UA(n,e),n.D_.size===0&&(r.Ho()?r.Zo():vs(n)&&n.M_.set("Unknown"))}function g1(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).u_(e)}function UA(t,e){t.x_.Oe(e),nl(t).c_(e)}function y1(t){t.x_=new Lq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.M_.g_()}function v1(t){return vs(t)&&!nl(t).jo()&&t.D_.size>0}function vs(t){return ce(t).C_.size===0}function BA(t){t.x_=void 0}async function DK(t){t.D_.forEach((e,n)=>{g1(t,e)})}async function LK(t,e){BA(t),v1(t)?(t.M_.w_(e),y1(t)):t.M_.set("Unknown")}async function $K(t,e,n){if(t.M_.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(t,r)}else if(e instanceof nh?t.x_.$e(e):e instanceof bA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(le.min()))try{const r=await DA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.D_.get(u);c&&o.D_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.D_.get(l);if(!c)return;o.D_.set(l,c.withResumeToken(yn.EMPTY_BYTE_STRING,c.snapshotVersion)),UA(o,l);const d=new Gi(c.target,l,u,c.sequenceNumber);g1(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await pf(t,r)}}async function pf(t,e,n){if(!Wc(e))throw e;t.C_.add(1),await Kc(t),t.M_.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await im(t)})}function jA(t,e){return e().catch(n=>pf(t,n,e))}async function om(t){const e=ce(t),n=mo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;FK(e);)try{const i=await TK(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,VK(e,i)}catch(i){await pf(e,i)}zA(e)&&WA(e)}function FK(t){return vs(t)&&t.b_.length<10}function VK(t,e){t.b_.push(e);const n=mo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function zA(t){return vs(t)&&!mo(t).jo()&&t.b_.length>0}function WA(t){mo(t).start()}async function UK(t){mo(t).E_()}async function BK(t){const e=mo(t);for(const n of t.b_)e.P_(n.mutations)}async function jK(t,e,n){const r=t.b_.shift(),i=c1.from(r,e,n);await jA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await om(t)}async function zK(t,e){e&&mo(t).h_&&await async function(r,i){if(function(s){return Nq(s)&&s!==F.ABORTED}(i.code)){const o=r.b_.shift();mo(r).Yo(),await jA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await om(r)}}(t,e),zA(t)&&WA(t)}async function eI(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.C_.add(3),await Kc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await im(n)}async function WK(t,e){const n=ce(t);e?(n.C_.delete(2),await im(n)):e||(n.C_.add(2),await Kc(n),n.M_.set("Unknown"))}function nl(t){return t.O_||(t.O_=function(n,r,i){const o=ce(n);return o.A_(),new kK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:DK.bind(null,t),Io:LK.bind(null,t),a_:$K.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),v1(t)?y1(t):t.M_.set("Unknown")):(await t.O_.stop(),BA(t))})),t.O_}function mo(t){return t.N_||(t.N_=function(n,r,i){const o=ce(n);return o.A_(),new AK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:UK.bind(null,t),Io:zK.bind(null,t),T_:BK.bind(null,t),I_:jK.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await om(t)):(await t.N_.stop(),t.b_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new _1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w1(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Wc(t))return new Z(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.B_=new ct(te.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):oe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Da{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Da(e,n,ca.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(){this.k_=void 0,this.listeners=[]}}class qK{constructor(){this.queries=new tl(e=>dA(e),Jp),this.onlineState="Unknown",this.q_=new Set}}async function HA(t,e){const n=ce(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new HK),i)try{o.k_=await n.onListen(r)}catch(s){const a=w1(s,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&E1(n)}async function qA(t,e){const n=ce(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function KK(t,e){const n=ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&E1(n)}function GK(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function E1(t){t.q_.forEach(e=>{e.next()})}class KA{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class QK{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Te(),this.mutatedKeys=Te(),this._a=hA(e),this.aa=new ca(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new tI,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Zp(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let C=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),C=!0):this.ha(h,f)||(r.track({type:2,doc:f}),C=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),C=!0):h&&!f&&(r.track({type:1,doc:h}),C=!0,(l||u)&&(a=!0)),C&&(f?(s=s.add(f),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,d)=>function(f,m){const v=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return v(f)-v(m)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,s.length!==0||u?{snapshot:new Da(this.query,e.aa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new tI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Te(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new QA(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new GA(r))}),n}da(e){this.ia=e.ls,this.oa=Te();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Da.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class YK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XK{constructor(e){this.key=e,this.Ra=!1}}class JK{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new tl(a=>dA(a),Jp),this.fa=new Map,this.ga=new Set,this.pa=new ct(te.comparator),this.ya=new Map,this.wa=new f1,this.Sa={},this.ba=new Map,this.Da=Ma.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function ZK(t,e){const n=uG(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=await CK(n.localStore,Jr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await eG(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&FA(n.remoteStore,s)}return i}async function eG(t,e,n,r,i){t.va=(d,h,f)=>async function(v,C,p,g){let y=C.view.ca(p);y.Zi&&(y=await XC(v.localStore,C.query,!1).then(({documents:b})=>C.view.ca(b,y)));const _=g&&g.targetChanges.get(C.targetId),I=g&&g.targetMismatches.get(C.targetId)!=null,S=C.view.applyChanges(y,v.isPrimaryClient,_,I);return rI(v,C.targetId,S.Ta),S.snapshot}(t,d,h,f);const o=await XC(t.localStore,e,!0),s=new QK(e,o.ls),a=s.ca(o.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);rI(t,n,u.Ta);const c=new YK(e,n,s);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function tG(t,e){const n=ce(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Jp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VA(n.remoteStore,r.targetId),Cv(n,r.targetId)}).catch(zc)):(Cv(n,r.targetId),await Tv(n.localStore,r.targetId,!0))}async function nG(t,e,n){const r=cG(t);try{const i=await function(s,a){const l=ce(s),u=At.now(),c=a.reduce((f,m)=>f.add(m.key),Te());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Pi(),v=Te();return l.ss.getEntries(f,c).next(C=>{m=C,m.forEach((p,g)=>{g.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(C=>{d=C;const p=[];for(const g of a){const y=xq(g,d.get(g.key).overlayedDocument);y!=null&&p.push(new ys(g.key,y,iA(y.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,p,a)}).next(C=>{h=C;const p=C.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,C.batchId,p)})}).then(()=>({batchId:h.batchId,changes:pA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Sa[s.currentUser.toKey()];u||(u=new ct(Fe)),u=u.insert(a,l),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Gc(r,i.changes),await om(r.remoteStore)}catch(i){const o=w1(i,"Failed to persist write");n.reject(o)}}async function YA(t,e){const n=ce(t);try{const r=await wK(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ye(s.Ra):i.removedDocuments.size>0&&(Ye(s.Ra),s.Ra=!1))}),await Gc(n,r,e)}catch(r){await zc(r)}}function nI(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&E1(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rG(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new ct(te.comparator);s=s.insert(o,dn.newNoDocument(o,le.min()));const a=Te().add(o),l=new nm(le.min(),new Map,new ct(Fe),s,a);await YA(r,l),r.pa=r.pa.remove(o),r.ya.delete(e),T1(r)}else await Tv(r.localStore,e,!1).then(()=>Cv(r,e,n)).catch(zc)}async function iG(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await _K(n.localStore,e);JA(n,r,null),XA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,i)}catch(i){await zc(i)}}async function oG(t,e,n){const r=ce(t);try{const i=await function(s,a){const l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ye(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);JA(r,e,n),XA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,i)}catch(i){await zc(i)}}function XA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function JA(t,e,n){const r=ce(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Cv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||ZA(t,r)})}function ZA(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(VA(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),T1(t))}function rI(t,e,n){for(const r of n)r instanceof GA?(t.wa.addReference(r.key,e),sG(t,r)):r instanceof QA?(X("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||ZA(t,r.key)):oe()}function sG(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(X("SyncEngine","New document in limbo: "+n),t.ga.add(r),T1(t))}function T1(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new te(st.fromString(e)),r=t.Da.next();t.ya.set(r,new XK(n)),t.pa=t.pa.insert(n,r),FA(t.remoteStore,new Gi(Jr(u1(n.path)),r,"TargetPurposeLimboResolution",r1._e))}}async function Gc(t,e,n){const r=ce(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=m1.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Va.a_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(u,h=>V.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>V.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Wc(d))throw d;X("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(h,v)}}}(r.localStore,o))}async function aG(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await MA(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new Z(F.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r._s)}}function lG(t,e){const n=ce(t),r=n.ya.get(e);if(r&&r.Ra)return Te().add(r.key);{let i=Te();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function uG(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rG.bind(null,e),e.Va.a_=KK.bind(null,e.eventManager),e.Va.Fa=GK.bind(null,e.eventManager),e}function cG(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oG.bind(null,e),e}class iI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vK(this.persistence,new gK,e.initialUser,this.serializer)}createPersistence(e){return new fK(p1.jr,this.serializer)}createSharedClientState(e){return new SK}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dG{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aG.bind(null,this.syncEngine),await WK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qK}()}createDatastore(e){const n=rm(e.databaseInfo.databaseId),r=function(o){return new PK(o)}(e.databaseInfo);return function(o,s,a,l){return new OK(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new MK(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nI(this.syncEngine,n,0),function(){return ZC.D()?new ZC:new bK}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new JK(i,o,s,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ce(n);X("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Kc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=tA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eg(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pG(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>eI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>eI(e.remoteStore,o)),t._onlineComponents=e}function fG(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function pG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fG(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Eg(t,new iI)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Eg(t,new iI);return t._offlineComponents}async function tO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await oI(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await oI(t,new dG))),t._onlineComponents}function mG(t){return tO(t).then(e=>e.syncEngine)}async function nO(t){const e=await tO(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=tG.bind(null,e.syncEngine),n}function gG(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new eO({next:h=>{s.enqueueAndForget(()=>qA(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new KA(u1(a.path),c,{includeMetadataChanges:!0,J_:!0});return HA(o,d)}(await nO(t),t.asyncQueue,e,n,r)),r.promise}function yG(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new eO({next:h=>{s.enqueueAndForget(()=>qA(o,d)),h.fromCache&&l.source==="server"?u.reject(new Z(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new KA(a,c,{includeMetadataChanges:!0,J_:!0});return HA(o,d)}(await nO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e,n){if(!n)throw new Z(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vG(t,e,n,r){if(e===!0&&r===!0)throw new Z(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aI(t){if(!te.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lI(t){if(te.isDocumentKey(t))throw new Z(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C1(t);throw new Z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FH;switch(r.type){case"firstParty":return new jH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sI.get(n);r&&(X("ComponentProvider","Removing Datastore"),sI.delete(n),r.terminate())}(this),Promise.resolve()}}function _G(t,e,n,r={}){var i;const o=(t=cs(t,sm))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=$b(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new VH(new eA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new am(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class so extends am{constructor(e,n,r){super(e,n,u1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new te(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function wG(t,e,...n){if(t=Mn(t),iO("collection","path",e),t instanceof sm){const r=st.fromString(e,...n);return lI(r),new so(t,null,r)}{if(!(t instanceof Wn||t instanceof so))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return lI(r),new so(t.firestore,null,r)}}function EG(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=tA.newId()),iO("doc","path",e),t instanceof sm){const r=st.fromString(e,...n);return aI(r),new Wn(t,null,new te(r))}{if(!(t instanceof Wn||t instanceof so))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return aI(r),new Wn(t.firestore,t instanceof so?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new LA(this,"async_queue_retry"),this.iu=()=>{const n=wg();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=wg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new yi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Wc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=_1.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&oe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class lm extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new TG}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oO(this),this._firestoreClient.terminate()}}function CG(t,e){const n=typeof t=="object"?t:b_(),r=typeof t=="string"?t:e||"(default)",i=$f(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Mb("firestore");o&&_G(i,...o)}return i}function I1(t){return t._firestoreClient||oO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oO(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new eq(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hG(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(yn.fromBase64String(e))}catch(n){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new La(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=/^__.*__$/;class SG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hc(e,this.data,n,this.fieldTransforms)}}function aO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class R1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new R1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return mf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(aO(this.Iu)&&IG.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rm(e)}pu(e,n,r,i=!1){return new R1({Iu:e,methodName:n,gu:r,path:Yt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RG(t){const e=t._freezeSettings(),n=rm(t._databaseId);return new bG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xG(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);dO("Data must be an object, but it was:",s,r);const a=uO(r,s);let l,u;if(o.merge)l=new Rr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=PG(e,d,n);if(!s.contains(h))throw new Z(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AG(c,h)||c.push(h)}l=new Rr(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new SG(new nr(a),l,u)}function lO(t,e){if(cO(t=Mn(t)))return dO("Unsupported field value:",e,t),uO(t,e);if(t instanceof sO)return function(r,i){if(!aO(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=lO(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:ff(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,o)}}if(r instanceof b1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof La)return{bytesValue:xA(i.serializer,r._byteString)};if(r instanceof Wn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${C1(r)}`)}(t,e)}function uO(t,e){const n={};return nA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(t,(r,i)=>{const o=lO(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof b1||t instanceof La||t instanceof Wn||t instanceof sO)}function dO(t,e,n){if(!cO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C1(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function PG(t,e,n){if((e=Mn(e))instanceof S1)return e._internalPath;if(typeof e=="string")return hO(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const kG=new RegExp("[~\\*/\\[\\]]");function hO(t,e,n){if(e.search(kG)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new S1(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(F.INVALID_ARGUMENT,a+t+l)}function AG(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OG extends fO{data(){return super.data()}}function pO(t,e){return typeof e=="string"?hO(t,e):e instanceof S1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MG{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return el(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new b1(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=o1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=po(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ye(NA(r));const i=new uc(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mO extends fO{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rh extends mO{data(e={}){return super.data(e)}}class LG{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ql(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ql(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:$G(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $G(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){t=cs(t,Wn);const e=cs(t.firestore,lm);return gG(I1(e),t._key).then(n=>BG(e,t,n))}class gO extends MG{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function VG(t){t=cs(t,am);const e=cs(t.firestore,lm),n=I1(e),r=new gO(e);return NG(t._query),yG(n,t._query).then(i=>new LG(e,r,t,i))}function cI(t,e,n){t=cs(t,Wn);const r=cs(t.firestore,lm),i=DG(t.converter,e,n);return UG(r,[xG(RG(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vi.none())])}function UG(t,e){return function(r,i){const o=new yi;return r.asyncQueue.enqueueAndForget(async()=>nG(await mG(r),i,o)),o.promise}(I1(t),e)}function BG(t,e,n){const r=n.docs.get(e._key),i=new gO(t);return new mO(t,i,e._key,r,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Za=i})(fs),Xo(new uo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new lm(new UH(r.getProvider("auth-internal")),new WH(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kr(AC,"4.4.0",e),Kr(AC,"4.4.0","esm2017")})();const jG=t=>{JSON.parse(localStorage.getItem("user"));const e=async()=>{try{await OL(Mx),localStorage.removeItem("token"),localStorage.removeItem("user"),t.setflag(!1)}catch(n){console.error(n)}};return T.jsxs("div",{style:{display:"flex",backgroundColor:"lavender",justifyContent:"space-between",minHeight:"60px",alignItems:"center",padding:"0px 30px",fontFamily:"cursive"},children:[T.jsxs("div",{style:{backgroundColor:"",display:"flex",alignItems:"center"},children:[T.jsx(qt,{color:"darkblue",fontFamily:"cursive",variant:"h4",component:"span",children:"HowQuick"}),T.jsx(qt,{color:"black",fontFamily:"tahoma",variant:"h4",component:"span",children:"."}),T.jsx(qt,{color:"dodgerblue",fontFamily:"cursive",variant:"h4",component:"span",children:"ru"}),T.jsx(ev,{title:"start",children:T.jsx(br,{onClick:n=>window.location.reload(),children:T.jsx(MO,{sx:{color:"red",fontSize:"40px"}})})})]}),T.jsx(ev,{title:"logout",children:T.jsx(br,{onClick:n=>e(),children:T.jsx(DO,{sx:{color:"grey",fontSize:"40px"}})})})]})},zG="/assets/peekingcat-V6kd9h0A.png",WG="/assets/pcat2-qEU9d6aO.png",HG=()=>"hello bro how are you doing see good nice people love jump animal nope sometimes nothing great work help cat not ok suffer happy well river water sudden false kitty".split(" ").sort(()=>Math.random()>.5?1:-1);function Iv(t){const{text:e,active:n,correct:r}=t;return r===!0?T.jsxs("span",{className:"correct",children:[e," "]}):r===!1?T.jsxs("span",{className:"incorrect",children:[e," "]}):n?T.jsxs("span",{className:"active",children:[e," "]}):T.jsxs("span",{children:[e," "]})}Iv=Ir.memo(Iv);const qG=t=>{const e=JSON.parse(localStorage.getItem("user")),[n,r]=w.useState(""),i=w.useRef(HG()),[o,s]=w.useState(0),[a,l]=w.useState([]),[u,c]=w.useState(!1),[d,h]=w.useState(!1),[f,m]=w.useState(0),[v,C]=w.useState(0),[p,g]=w.useState(!1),[y,_]=w.useState([]);let I=[];const S=w.useRef(null);w.useEffect(()=>{S.current.focus()},[]);function b(k){if(c(!0),g(!0),k.endsWith(" ")){if(s(M=>M+1),r(""),l(M=>{const P=k.trim(),A=[...M];return A[o]=P===i.current[o],P!==i.current[o]&&m(j=>j+1),A}),o===i.current.length-1){c(!1),r("Yay! Test Completed...!"),h(!0),console.log("calling the firebase functions."),D(),U();return}}else r(k)}const[R,O]=w.useState(0);w.useEffect(()=>{const k=R/60,M=((a.filter(Boolean).length||0)/k||0).toFixed(1);C(P=>M)},[R]),w.useEffect(()=>{let k;return u&&(k=setInterval(()=>{O(M=>M+1)},1e3)),()=>{clearInterval(k)}},[u]);const x=R/60,L=k=>{k.key==="Tab"&&window.location.reload()};w.useEffect(()=>{D()},[]),w.useEffect(()=>(document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}),[]);const $=CG(),N=async k=>{const M=EG($,"users",k.uid);try{const P=await FG(M);if(P.exists()){const A=P.data(),j=parseFloat(A.speed)||0,ie=parseFloat(k.speed);!isNaN(ie)&&ie>j?(await cI(M,{uid:k.uid,username:k.username,speed:k.speed,accuracy:k.accuracy,date:k.date,time:k.time}),D(),console.log(k),alert("Document updated in Database.")):alert("Current speed is not greater than previous speed.")}else await cI(M,{uid:k.uid,username:k.username,speed:k.speed,accuracy:k.accuracy,date:k.date,time:k.time}),D(),alert("User record does not exist.")}catch(P){console.error("Error writing document: ",P)}},D=async()=>{try{const k=await VG(wG($,"users")),M=[];k.forEach(P=>{M.push(P.data())}),I=M,_(I)}catch(k){console.log(k)}},U=()=>{const k=new Date().toLocaleDateString(),M=new Date().toLocaleTimeString();((a.filter(Boolean).length||0)/x||0).toFixed(1);const P=((30-f)*100/30).toFixed(1),A={uid:e.uid,username:e.displayName,speed:v,accuracy:P,date:k,time:M};N(A)};return T.jsxs("div",{style:{minHeight:"100vh",paddingBottom:"50px",backgroundColor:"lavender"},children:[T.jsx(jG,{flag:t.flag,setflag:t.setflag}),T.jsxs("div",{children:[T.jsx(Er,{sx:{backgroundColor:"white",margin:"20px",borderRadius:"10px",padding:"10px"},children:T.jsx("p",{style:{fontSize:"xx-large",color:"grey"},children:i.current.map((k,M)=>T.jsx(Iv,{text:k,active:M===o,correct:a[M]},M))})}),T.jsxs(Er,{sx:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[T.jsxs(Er,{sx:{position:"relative"},children:[T.jsx("img",{src:zG,style:{width:"100px",position:"absolute",top:"-90px",left:"20px",zIndex:2}}),T.jsxs(Yy,{sx:{width:"300px",bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:T.jsx(fC,{component:"div",id:"nested-list-subheader",children:T.jsxs(Er,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(qt,{variant:"h4",children:"stats"}),T.jsx(LO,{fontSize:"large"})]})}),children:[T.jsxs(kl,{children:[T.jsx(Tl,{children:T.jsx($O,{})}),T.jsx(Cl,{primary:"Total words"}),T.jsx(xl,{label:"30",color:"success"})]}),T.jsxs(kl,{children:[T.jsx(Tl,{children:T.jsx(FO,{})}),T.jsx(Cl,{primary:"Misspelled"}),T.jsx(xl,{label:f,color:"warning"})]}),T.jsxs(kl,{children:[T.jsx(Tl,{children:T.jsx(VO,{})}),T.jsx(Cl,{primary:"Accuracy"}),T.jsx(xl,{label:p?((30-f)*100/30).toFixed(1)+" %":"0 %",color:"primary"})]})]})]}),T.jsxs(Er,{children:[T.jsx("h4",{children:"START TYPING HERE"}),T.jsx(kW,{id:"outlined-required",label:"Hurry Up...!",variant:"outlined",inputRef:S,disabled:d,value:n,onChange:k=>b(k.target.value),sx:{backgroundColor:"white",borderRadius:"5px",boxShadow:1}}),T.jsx("br",{}),T.jsx("br",{}),T.jsx(ev,{title:"replay",children:T.jsx(br,{onClick:k=>window.location.reload(),children:T.jsx(UO,{})})})]}),T.jsxs(Er,{sx:{position:"relative"},children:[T.jsx("img",{src:WG,alt:"kitty",style:{position:"absolute",width:"100px",rotate:"90deg",top:"20px",right:"-85px"}}),T.jsxs(Yy,{sx:{width:"300px",bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:T.jsx(fC,{component:"div",id:"nested-list-subheader",children:T.jsxs(Er,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(qt,{variant:"h4",children:"speed"}),T.jsx(BO,{fontSize:"large"})]})}),children:[T.jsxs(kl,{children:[T.jsx(Tl,{children:T.jsx(jO,{})}),T.jsx(Cl,{primary:"Time (seconds)"}),T.jsx(xl,{label:R,color:"success"})]}),T.jsxs(kl,{children:[T.jsx(Tl,{children:T.jsx(zO,{})}),T.jsx(Cl,{primary:"Words per Minute"}),T.jsx(xl,{label:v,color:"primary"})]})]})]})]})]}),T.jsxs("div",{style:{width:"800px",margin:" 0px auto"},children:[T.jsx(qt,{variant:"h4",children:"LeaderBoard"}),T.jsx(AW,{records:y})]})]})};var yO={},um={},cm={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.disabledIconStyle=Kt.disabledStyle=Kt.hoverStyle=Kt.svgStyle=Kt.iconStyle=Kt.lightStyle=Kt.darkStyle=void 0;function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _O={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"},GG=vO({backgroundColor:"#4285f4",color:"#fff"},_O);Kt.darkStyle=GG;var QG=vO({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},_O);Kt.lightStyle=QG;var YG={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};Kt.iconStyle=YG;var XG={width:"48px",height:"48px",display:"block"};Kt.svgStyle=XG;var JG={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};Kt.hoverStyle=JG;var ZG={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};Kt.disabledStyle=ZG;var eQ={backgroundColor:"transparent"};Kt.disabledIconStyle=eQ;Object.defineProperty(cm,"__esModule",{value:!0});cm.GoogleIcon=void 0;var z=wO(w),hI=wO(h0),da=Kt;function wO(t){return t&&t.__esModule?t:{default:t}}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){nQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rQ=z.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:da.svgStyle},z.default.createElement("defs",null,z.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},z.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),z.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),z.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),z.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),z.default.createElement("feMerge",null,z.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),z.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),z.default.createElement("feMergeNode",{in:"SourceGraphic"}))),z.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),z.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),z.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},z.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),z.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},z.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},z.default.createElement("g",{id:"button-bg"},z.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}))),z.default.createElement("g",{id:"button-bg-copy"},z.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"})),z.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},z.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),z.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),z.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),z.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),z.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),z.default.createElement("g",{id:"handles_square"})))),iQ=z.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:da.svgStyle},z.default.createElement("defs",null,z.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},z.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),z.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),z.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),z.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),z.default.createElement("feMerge",null,z.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),z.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),z.default.createElement("feMergeNode",{in:"SourceGraphic"}))),z.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),z.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},z.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),z.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},z.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},z.default.createElement("g",{id:"button-bg"},z.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}))),z.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},z.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),z.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),z.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),z.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),z.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),z.default.createElement("g",{id:"handles_square"})))),oQ=z.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:da.svgStyle},z.default.createElement("defs",null,z.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),z.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},z.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),z.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},z.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},z.default.createElement("g",{id:"button-bg"},z.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}),z.default.createElement("use",{fill:"none"}))),z.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),z.default.createElement("g",{id:"handles_square"})))),x1=function(e){var n=e.disabled,r=e.type;return z.default.createElement("div",{style:n?tQ({},da.iconStyle,{},da.disabledIconStyle):da.iconStyle},n?oQ:r==="dark"?rQ:iQ)};cm.GoogleIcon=x1;x1.propTypes={disabled:hI.default.bool,type:hI.default.oneOf(["light","dark"])};x1.defaultProps={type:"dark"};Object.defineProperty(um,"__esModule",{value:!0});um.default=void 0;var kd=lQ(w),xs=aQ(h0),sQ=cm,Ad=Kt;function aQ(t){return t&&t.__esModule?t:{default:t}}function EO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return EO=function(){return t},t}function lQ(t){if(t&&t.__esModule)return t;if(t===null||vu(t)!=="object"&&typeof t!="function")return{default:t};var e=EO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function vu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(n){return typeof n}:vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vu(t)}function Sv(){return Sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function uQ(t,e){if(t==null)return{};var n=cQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hQ(t,e,n){return e&&mI(t.prototype,e),n&&mI(t,n),t}function fQ(t){return function(){var e=gf(t),n;if(mQ()){var r=gf(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return pQ(this,n)}}function pQ(t,e){return e&&(vu(e)==="object"||typeof e=="function")?e:Ns(t)}function Ns(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(t)}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bv(t,e)}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P1=function(t){gQ(n,t);var e=fQ(n);function n(){var r;dQ(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Wi(Ns(r),"state",{hovered:!1}),Wi(Ns(r),"getStyle",function(a){var l=r.props.type==="dark"?Ad.darkStyle:Ad.lightStyle;return r.state.hovered?Tg({},l,{},Ad.hoverStyle,{},a):r.props.disabled?Tg({},l,{},Ad.disabledStyle,{},a):Tg({},l,{},a)}),Wi(Ns(r),"mouseOver",function(){r.props.disabled||r.setState({hovered:!0})}),Wi(Ns(r),"mouseOut",function(){r.props.disabled||r.setState({hovered:!1})}),Wi(Ns(r),"click",function(a){r.props.disabled||r.props.onClick(a)}),r}return hQ(n,[{key:"render",value:function(){var i=this.props,o=i.label,s=i.style,a=uQ(i,["label","style"]);return kd.default.createElement("div",Sv({},a,{role:"button",onClick:this.click,style:this.getStyle(s),onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}),kd.default.createElement(sQ.GoogleIcon,this.props),kd.default.createElement("span",null,o))}}]),n}(kd.PureComponent);um.default=P1;Wi(P1,"propTypes",{label:xs.default.string,disabled:xs.default.bool,tabIndex:xs.default.number,onClick:xs.default.func,type:xs.default.oneOf(["light","dark"]),style:xs.default.object});Wi(P1,"defaultProps",{label:"Sign in with Google",disabled:!1,type:"dark",tabIndex:0,onClick:function(){}});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(um);function n(r){return r&&r.__esModule?r:{default:r}}})(yO);const yQ=yf(yO),vQ="/assets/login-klx5oxS9.jpg",_Q="/assets/reactfirebase 1-eRryZ5mD.png",wQ=t=>{const e=async()=>{try{const n=await ZL(Mx,D5);localStorage.setItem("token",n.user.accessToken),localStorage.setItem("user",JSON.stringify(n.user)),t.setflag(r=>!0)}catch(n){console.error(n)}};return T.jsxs("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"white",position:"relative",overflow:"hidden"},children:[T.jsx("img",{src:_Q,alt:"logo",style:{position:"absolute",top:"-130px",left:"-70px",opacity:"0.7",display:"inline-block",animation:"spin 15s linear infinite"}}),T.jsxs(Er,{sx:{width:"300px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white",marginTop:"40px",padding:"20px 0px",borderRadius:"10px",boxShadow:1,zIndex:1},children:[T.jsxs(Er,{children:[T.jsx(qt,{color:"darkblue",fontFamily:"cursive",variant:"h4",component:"span",children:"HowQuick"}),T.jsx(qt,{color:"black",fontFamily:"tahoma",variant:"h4",component:"span",children:"."}),T.jsx(qt,{color:"dodgerblue",fontFamily:"cursive",variant:"h4",component:"span",children:"ru"})]}),T.jsxs("div",{style:{width:"200px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:""},children:[T.jsx("img",{src:vQ,style:{width:"200px"},alt:""}),T.jsxs(qt,{variant:"p",children:["Sign up effortlessly with",T.jsx("br",{})," ",T.jsx("a",{href:"https://firebase.google.com/docs/auth/web/google-signin?hl=en&authuser=0",children:"Google Authentication"})]})]}),T.jsx("br",{}),T.jsx(yQ,{onClick:e})]}),T.jsxs(Er,{sx:{width:"450px",position:"absolute",top:"190px",right:"10px",backgroundColor:"",padding:"0px"},children:[T.jsx(qt,{margin:0,variant:"h1",color:"grey",fontFamily:"tahoma",children:"Made with"}),T.jsxs(qt,{margin:0,variant:"h1",color:"grey",fontFamily:"tahoma",children:[T.jsx("span",{style:{color:"dodgerblue"},children:"React"})," &"," "]}),T.jsx(qt,{margin:0,variant:"h1",color:"grey",fontFamily:"tahoma",children:T.jsx("span",{style:{color:"orange"},children:"Firebase"})})]})]})},EQ=()=>{const[t,e]=w.useState(!1);return w.useEffect(()=>{localStorage.getItem("token")&&e(r=>!0)},[]),T.jsx("div",{style:{margin:"0px",padding:"0px"},children:t?T.jsx(qG,{flag:t,setflag:e}):T.jsx(wQ,{flag:t,setflag:e})})};function TQ(){return T.jsx("div",{className:"App",children:T.jsx(EQ,{})})}const CQ=Ig.createRoot(document.getElementById("root"));CQ.render(T.jsx(TQ,{}));
